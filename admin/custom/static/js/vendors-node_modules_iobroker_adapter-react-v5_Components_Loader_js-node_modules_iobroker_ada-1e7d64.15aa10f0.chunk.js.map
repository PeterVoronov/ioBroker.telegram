{"version":3,"sources":["../node_modules/@iobroker/adapter-react-v5/Components/Loader.js","../node_modules/@iobroker/adapter-react-v5/Components/Router.js","../node_modules/@iobroker/adapter-react-v5/Components/SaveCloseButtons.js","../node_modules/@iobroker/adapter-react-v5/Components/Utils.js","../node_modules/@iobroker/adapter-react-v5/Connection.js","../node_modules/@iobroker/adapter-react-v5/Dialogs/Confirm.js","../node_modules/@iobroker/adapter-react-v5/Dialogs/Error.js","../node_modules/@iobroker/adapter-react-v5/Prompt.js","../node_modules/@iobroker/adapter-react-v5/Theme.js","../node_modules/@iobroker/adapter-react-v5/i18n.js","../node_modules/@mui/icons-material/Check.js","../node_modules/@mui/icons-material/Close.js","../node_modules/@mui/icons-material/Save.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/get.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js"],"names":["loaderStyles","Loader","props","window","document","getElementById","style","createElement","setAttribute","innerHTML","head","appendChild","size","theme","themeType","backgroundImage","loadingBackgroundImage","undefined","backgroundColor","loadingBackgroundColor","backgroundSize","loadingHideLogo","width","height","left","borderWidth","top","bottom","React","Component","propTypes","PropTypes","number","string","_export","Router","onHashChangedBound","onHashChanged","bind","addEventListener","removeEventListener","hash","location","replace","parts","split","map","item","decodeURIComponent","e","console","error","tab","dialog","id","arg","getLocation","styles","buttonIcon","marginRight","SaveCloseButtons","newReact","isIFrame","self","noTextOnButtons","buttonStyle","borderRadius","saveToolbar","button","paddingLeft","right","position","background","dense","minHeight","border","changed","onSave","classes","I18n","t","Object","assign","marginLeft","flexGrow","onClose","bool","object","isRequired","func","withStyles","NAMESPACE","days","months","QUALITY_BITS","SIGNATURES","JVBERi0","R0lGODdh","R0lGODlh","iVBORw0KGgo","PHN2Zw","Qk1","AAABAA","Utils","name","filter","word","toUpperCase","substring","toLowerCase","join","seconds","Math","floor","hours","minutes","text","objects","settings","options","isDesc","attr","language","common","sysLang","en","desc","de","ru","toString","pos","lastIndexOf","CapitalWords","trim","obj","noTrim","_id","forEnumId","hasOwnProperty","custom","user","subOrder","JSON","parse","stringify","order","subURLs","URLs","list","source","dest","result","Array","from","splice","removed","defaultEnabling","enabled","useCustom","icon","color","s","useCommon","length","startsWith","prefix","pathname","match","defaultValue","indexOf","slice","r","g","b","rgb","parseInt","parseFloat","isNaN","secs","angle","num","format","dateFormat","now","m","a","year","find","y","day","Date","abs","getTime","date","getDay","getDate","getMonth","key","p","push","href","target","rel","title","states","instanceId","noCommon","smartName","newSmartName","byON","smartType","getLanguage","nnn","_smartName","role","empty","nl","pl","it","fr","pt","es","el","value","body","select","execCommand","removeChild","log","stopPropagation","preventDefault","fileName","bytes","units","u","toFixed","invert","invertedColor","invertColor","hex","bw","padStart","warn","mix","k","str","isArray","_toVal","i","tmp","x","arguments","themeName","vendorPrefix","_localStorage","localStorage","getItem","matchMedia","matches","setItem","themes","getThemeNames","newTheme","setThemeName","query","forEach","part","f","pop","dateObj","mm","dd","getFullYear","v","getHours","getMinutes","getSeconds","getMilliseconds","round","d","h","url","open","extractHeader","header","lines","attrs","_header","line","doc","filename","json","encodeURIComponent","display","click","quality","ex","type","fetch","then","response","blob","Promise","resolve","reader","FileReader","onload","readAsDataURL","base64","signature","keys","PROGRESS","CONNECTING","CONNECTED","OBJECTS_LOADED","READY","PERMISSION_ERROR","NOT_CONNECTED","TIMEOUT_FOR_ADMIN4","ERRORS","fixAdminUI","adminUI","noConfig","config","jsonConfig","materialize","jsonCustom","supportCustoms","materializeTab","adminTab","debug","Connection","protocol","host","hostname","autoSubscribes","autoSubscribeLog","port","isWeb","ioTimeout","max","cmdTimeout","doNotLoadAllObjects","doNotLoadACL","acl","firstConnect","waitForRestart","systemLang","connected","_waitForFirstConnection","_waitForFirstConnectionResolve","statesSubscribes","objectsSubscribes","onProgress","onError","err","loaded","loadTimer","loadCounter","admin5only","onConnectionHandlers","onLogHandlers","_promises","info","silly","startSocket","io","registerSocketOnLoad","scriptLoadCounter","setTimeout","alert","_socket","path","socketUrl","includes","endsWith","connect","timeout","on","noTimeout","getVersion","version","major","minor","patch","_authTimer","onPreConnect","emit","isOk","isSecure","reload","_subscribe","cb","subscribed","authenticate","message","onLog","_err","operation","objectChange","state","stateChange","onCmdStdoutHandler","onCmdStderrHandler","exitCode","onCmdExitHandler","clearTimeout","onConnect","_getUserPermissions","getCompactSystemConfig","getSystemConfig","data","systemConfig","navigator","userLanguage","onLanguage","onReady","getObjects","search","binary","cbs","reg","RegExp","getBinaryState","oldObj","_rev","test","onObjectChange","task","disableProgressUpdate","reject","res","STATES_LOADED","val","ack","update","isEnable","isEnabled","maintenance","ts","adapter","getObjectView","items","instances","adapters","objs","oldId","newId","setObject","delObject","_renameGroups","newName","getGroups","groups","groupsToRename","group","instance","command","handler","_enum","startkey","endkey","_res","rows","start","end","cert","getObject","certs","certificates","c","_cert","linesNumber","files","btoa","Uint8Array","reduce","byte","String","fromCharCode","oldName","folderName","hosts","users","timeoutMs","args","repo","installed","cmd","cmdId","feature","features","checkFeatureSupported","typeOfDiag","pattern","values","stepIgnore","sessionId","password","address","ipOrHostName","ip","IPs4","family","IPs6","hardware","networkInterfaces","eth","encryptedText","serverName","webName","entries","exists","category","notifications","isStrict","controller","AbortController","abort","signal","ratings","currentInstance","namespace","compactAdapters","compactInstances","installedCompact","getCompactSystemRepositories","repoCompact","systemConfigCommon","hostsCompact","uuid","level","adapterName","suppress","fontSize","suppressRoot","marginTop","DialogConfirm","dialogName","suppressQuestionMinutes","Error","removeItem","event","reason","handleCancel","label","root","setState","suppressText","handleOk","ok","cancel","titleBackground","titleColor","DialogError","oneOfType","element","printPrompt","prompt","step","toInt","substr","toHex","int","getElevation","overlayColor","elevation","overlay","getElevations","elevations","buttonsPalette","palette","grey","main","dark","buttonsTheme","components","MuiButton","variants","variant","getContrastText","primary","borderColor","mode","action","disabledBackground","alpha","hoverOpacity","Theme","paper","secondary","expert","overrides","MuiAppBar","colorDefault","MuiLink","textTransform","transition","orange","MuiPaper","disabled","toolbar","createTheme","adaptV4Theme","lang","words","translations","translation","w","unknownTranslations","_disableWarning","wordEn","disable","i18nShow","i18nDisableWarning","disableWarning","_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","_utils","_arrayLikeToArray","arr","len","arr2","module","_arrayWithHoles","_assertThisInitialized","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_defineProperty","superPropBase","_get","property","receiver","base","_getPrototypeOf","o","setPrototypeOf","_inherits","subClass","superClass","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_nonIterableRest","_typeof","assertThisInitialized","_possibleConstructorReturn","call","_setPrototypeOf","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_slicedToArray","getPrototypeOf","_superPropBase","arrayLikeToArray","_unsupportedIterableToArray","minLen","n"],"mappings":"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","file":"static/js/vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-1e7d64.15aa10f0.chunk.js","sourcesContent":["/**\n * Copyright 2018-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\nimport React from 'react';\nimport PropTypes from 'prop-types';\n// import './loader.css'\nconst loaderStyles = `\n/**\n * Copyright 2018-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n\n.logo-background-light, .logo-background-colored {\n    background: white;\n}\n.logo-background-dark, .logo-background-blue {\n    background: black;\n}\n.logo-div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    overflow: hidden;\n    border-radius: 50%;\n    z-index: 2;\n}\n.logo-border {\n    /*border-color: #164477;*/\n    border-top-color: #3399CC;\n    border-left-color: #164477;\n    border-bottom-color: #164477;\n    border-right-color: #164477;\n    border-radius: 50%;\n    border-style: solid;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.logo-top {\n    position: absolute;\n    width: 4.5%;\n    height: 16%;\n    top: 0;\n    z-index: 2;\n}\n.logo-i {\n    position: absolute;\n    width: 14.5%;\n    height: 60%;\n    top: 20%;\n    left: 42%;\n    background: #3399CC;\n}\n.logo-i-top {\n    position: absolute;\n    width: 14.5%;\n    height: 4%;\n    left: 42%;\n    background: #3399CC;\n    border-radius: 100%;\n}\n.logo-back {\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n    overflow: hidden;\n}\n@keyframes logo-grow {\n    0% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(1);\n        opacity: 1\n    }\n    99% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(10);\n        opacity: 0;\n    }\n    100% {\n        width: 0;\n        height: 0;\n        opacity: 0;\n    }\n}\n@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }\n@keyframes logo-color-inside-light {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-dark {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-colored {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-blue {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n\n@keyframes logo-color-outside-light {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-dark  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-colored {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-blue  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n\n.logo-animate-wait {\n    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;\n}\n\n.logo-animate-grow-light {\n    background: #DDD;\n}\n.logo-animate-grow-dark {\n    background: #1d1d1d;\n}\n.logo-animate-grow-colored {\n    background: #DDD;\n}\n.logo-animate-grow-blue {\n    background: #1d1d1d;\n}\n\n.logo-animate-grow {\n    display: inline-block;\n    text-align: center;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    width: 245px;\n    height: 245px;\n    border-radius: 50%;\n    position: absolute;\n    animation: logo-grow 1s 1 ease forwards;\n}\n\n.logo-animate-color-inside-light {\n    animation: logo-color-inside-light 2.5s;\n}\n.logo-animate-color-inside-dark {\n    animation: logo-color-inside-dark 2.5s;\n}\n.logo-animate-color-inside-colored {\n    animation: logo-color-inside-colored 2.5s;\n}\n.logo-animate-color-inside-blue {\n    animation: logo-color-inside-blue 2.5s;\n}\n\n.logo-animate-color-outside-light {\n    animation: logo-color-outside-light 1.5s;\n}\n.logo-animate-color-outside-dark {\n    animation: logo-color-outside-dark 1.5s;\n}\n.logo-animate-color-outside-colored {\n    animation: logo-color-outside-colored 1.5s;\n}\n.logo-animate-color-outside-blue {\n    animation: logo-color-outside-blue 1.5s;\n}\n`;\n\n/**\n * @typedef {object} LoaderProps\n * @property {number} [size] The size in pixels of this loader.\n * @property {string} [themeType] The chosen theme type.\n * @property {string} [theme] The chosen theme.\n *\n * @extends {React.Component<LoaderProps>}\n */\nclass Loader extends React.Component {\n    constructor(props) {\n        super(props);\n\n        if (!window.document.getElementById('loader-iobroker-component')) {\n            const style = window.document.createElement('style');\n            style.setAttribute('id', 'loader-iobroker-component');\n            style.innerHTML = loaderStyles;\n            window.document.head.appendChild(style);\n        }\n    }\n\n    render() {\n        const size = this.props.size || 234;\n        const theme = this.props.themeType || this.props.theme || 'light';\n        return <div className={'logo-back logo-background-' + theme}\n            style={{\n                backgroundImage: window.loadingBackgroundImage && window.loadingBackgroundImage !== '@@loginBackgroundImage@@' ? 'url(' + window.loadingBackgroundImage + ')' : undefined,\n                backgroundColor: window.loadingBackgroundColor && window.loadingBackgroundColor !== '@@loginBackgroundColor@@' ? window.loadingBackgroundColor : undefined,\n                backgroundSize: 'cover',\n            }}\n        >\n            {window.loadingHideLogo === 'true' ?\n                null\n                :\n                <>\n                    <div className=\"logo-div\" style={{ width: size, height: size }}>\n                        <div className={'logo-top logo-background-' + theme} style={{ left: '37%' }}/>\n                        <div className={'logo-top logo-background-' + theme} style={{ left: '57%' }}/>\n                        <div\n                            className={`logo-border logo-background-${theme} logo-animate-wait`}\n                            style={{ borderWidth: size * 0.132 }}\n                        />\n                        <div className={'logo-i logo-animate-color-inside-' + theme}/>\n                        <div className={'logo-i-top logo-animate-color-inside-' + theme} style={{ top: '18%' }}/>\n                        <div className={'logo-i-top logo-animate-color-inside-' + theme} style={{ bottom: '18%' }}/>\n                    </div>\n                    <div className={'logo-animate-grow logo-animate-grow-' + theme}\n                    style={{ width: size + 11, height: size + 11 }}\n                    />\n                </>\n            }\n        </div>;\n    }\n}\n\nLoader.propTypes = {\n    size: PropTypes.number,\n    themeType: PropTypes.string\n};\n\n/** @type {typeof Loader} */\nconst _export = Loader;\nexport default _export;","// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\nimport React from 'react';\n\n/**\n * @template P Type of the properties object.\n * @template S Type of the internal state object.\n * @extends {React.Component<P, S>}\n */\nclass Router extends React.Component {\n    /**\n     * @param {P} props The React properties of this component.\n     */\n    constructor(props) {\n        super(props);\n        this.onHashChangedBound = this.onHashChanged.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('hashchange', this.onHashChangedBound);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('hashchange', this.onHashChangedBound);\n    }\n\n    onHashChanged() {\n        // override this function\n    }\n\n    /**\n     * Gets the location object.\n     * @returns {{ tab: string; dialog: string; id: string; arg: string; }}\n     */\n    static getLocation() {\n        let hash = window.location.hash;\n        hash = hash.replace(/^#/, '');\n        const parts = hash.split('/').map(item => {\n            try {\n                return item ? decodeURIComponent(item) : ''\n            } catch (e) {\n                console.error('Router: Cannot decode ' + item);\n                return item || '';\n            }\n        });\n        // #tabName/dialogName/deviceId\n        return {\n            tab:    parts[0] || '',\n            dialog: parts[1] || '',\n            id:     parts[2] || '',\n            arg:    parts[3] || ''\n        };\n    }\n\n    /**\n     * Navigate to a new location. Any parameters that are not set will be taken from the current location.\n     * @param {string | undefined} [tab]\n     * @param {string | undefined} [dialog]\n     * @param {string | undefined} [id]\n     * @param {string | undefined} [arg]\n     */\n    static doNavigate(tab, dialog, id, arg) {\n        let hash = '';\n        const location = Router.getLocation();\n        if (arg !== undefined && !id) {\n            id = location.id;\n        }\n        if (id && !dialog) {\n            dialog = location.dialog;\n        }\n        if (dialog && !tab) {\n            tab = location.tab;\n        } else\n        if (tab === null) {\n            tab = location.tab;\n        }\n\n        if (tab) {\n            hash = '#' + tab;\n            if (dialog) {\n                hash += '/' + dialog;\n\n                if (id) {\n                    hash += '/' + id;\n                    if (arg !== undefined) {\n                        hash += '/' + arg;\n                    }\n                }\n            }\n        }\n        if (window.location.hash !== hash) {\n            window.location.hash = hash;\n        }\n    }\n}\n\nexport default Router;","// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\nimport React from 'react';\nimport withStyles from '@mui/styles/withStyles';\nimport Fab from '@mui/material/Fab';\nimport PropTypes from 'prop-types';\n\nimport Toolbar from '@mui/material/Toolbar';\n\nimport I18n from '../i18n';\n\nimport IconSave from '@mui/icons-material/Save';\nimport IconClose from '@mui/icons-material/Close';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: 8\n    },\n});\n\n/**\n * @typedef {object} SaveCloseButtonsProps\n * @property {boolean} noTextOnButtons Are the buttons without text\n * @property {any} theme Theme object (from this.state.theme)\n * @property {boolean} isIFrame bottom position 0 or 38 for iFrame\n * @property {boolean} newReact is used in new react\n * @property {function} onSave on Save handler\n * @property {function} onClose on Close handler\n *\n * @extends {React.Component<SaveCloseButtonsProps>}\n */\nclass SaveCloseButtons extends React.Component {\n    /**\n     * @param {SaveCloseButtonsProps} props\n     */\n    constructor(props) {\n        super(props);\n        const newReact = props.newReact === undefined ? true : props.newReact;\n\n        try {\n            this.isIFrame = !newReact && window.self !== window.top;\n        } catch (e) {\n            this.isIFrame = !newReact;\n        }\n    }\n\n    render() {\n        const noTextOnButtons = this.props.noTextOnButtons;\n        const buttonStyle = {\n            borderRadius: this.props.theme.saveToolbar.button.borderRadius || 3,\n            height:       this.props.theme.saveToolbar.button.height       || 32,\n        };\n\n        const style = {\n            bottom: this.isIFrame ? 38 : 0,\n            left: this.props.paddingLeft || 0,\n            right: 0,\n            position: 'absolute',\n            background: this.props.theme.saveToolbar.background\n        };\n        if (this.props.dense) {\n            style.minHeight = 48;\n        }\n\n        if (this.props.error) {\n            buttonStyle.border = '1px solid red';\n        }\n\n        return <Toolbar position=\"absolute\" style={style}>\n            <Fab\n                variant=\"extended\"\n                aria-label=\"Save\"\n                disabled={!this.props.changed || this.props.error}\n                onClick={() => this.props.onSave(false)}\n                style={buttonStyle}\n            >\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Save')}\n            </Fab>\n            <Fab\n                variant=\"extended\"\n                aria-label=\"Save and close\"\n                disabled={!this.props.changed || this.props.error}\n                onClick={() => this.props.onSave(true)}\n                style={Object.assign({}, buttonStyle, {marginLeft: 10})}>\n                <IconSave className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>\n                {!noTextOnButtons ? I18n.t('ra_Save and close') : '+'}\n                {noTextOnButtons && <IconClose/>}\n            </Fab>\n            <div style={{flexGrow: 1}}/>\n            <Fab variant=\"extended\" aria-label=\"Close\" onClick={() => this.props.onClose()} style={buttonStyle}>\n                <IconClose className={!noTextOnButtons ? this.props.classes.buttonIcon : ''}/>{!noTextOnButtons && I18n.t('ra_Close')}\n            </Fab>\n        </Toolbar>;\n    }\n}\n\nSaveCloseButtons.propTypes = {\n    dense: PropTypes.bool,\n    paddingLeft: PropTypes.number,\n    noTextOnButtons: PropTypes.bool,\n    theme: PropTypes.object,\n    isIFrame: PropTypes.bool,\n    changed: PropTypes.bool.isRequired,\n    error: PropTypes.bool,\n    onSave: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    newReact: PropTypes.bool,\n};\n\n/** @type {typeof SaveCloseButtons} */\nconst _export = withStyles(styles)(SaveCloseButtons);\nexport default _export;","/**\n * Copyright 2018-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\nimport React from 'react';\nimport I18n from '../i18n';\n\nconst NAMESPACE    = 'material';\nconst days         = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\nconst months       = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nconst QUALITY_BITS = {\n    0x00: '0x00 - good',\n\n    0x01: '0x01 - general problem',\n    0x02: '0x02 - no connection problem',\n\n    0x10: '0x10 - substitute value from controller',\n    0x20: '0x20 - substitute initial value',\n    0x40: '0x40 - substitute value from device or instance',\n    0x80: '0x80 - substitute value from sensor',\n\n    0x11: '0x11 - general problem by instance',\n    0x41: '0x41 - general problem by device',\n    0x81: '0x81 - general problem by sensor',\n\n    0x12: '0x12 - instance not connected',\n    0x42: '0x42 - device not connected',\n    0x82: '0x82 - sensor not connected',\n\n    0x44: '0x44 - device reports error',\n    0x84: '0x84 - sensor reports error',\n};\nconst SIGNATURES = {\n    JVBERi0: 'pdf',\n    R0lGODdh: 'gif',\n    R0lGODlh: 'gif',\n    iVBORw0KGgo: 'png',\n    '/9j/': 'jpg',\n    PHN2Zw: 'svg',\n    Qk1: 'bmp',\n    AAABAA: 'ico' // 00 00 01 00 according to https://en.wikipedia.org/wiki/List_of_file_signatures\n};\n\nclass Utils {\n    static namespace = NAMESPACE;\n    static INSTANCES = 'instances';\n    static dateFormat = ['DD', 'MM'];\n    static FORBIDDEN_CHARS = /[^._\\-/ :!#$%&()+=@^{}|~\\p{Ll}\\p{Lu}\\p{Nd}]+/gu;\n\n    /**\n     * Capitalize words.\n     * @param {string | undefined} name\n     * @returns {string}\n     */\n    static CapitalWords(name) {\n        return (name || '').split(/[\\s_]/)\n            .filter(item => item)\n            .map(word => word ? word[0].toUpperCase() + word.substring(1).toLowerCase() : '')\n            .join(' ');\n    }\n\n    static formatSeconds(seconds) {\n        const days = Math.floor(seconds / (3600 * 24));\n        seconds %= 3600 * 24;\n        let hours = Math.floor(seconds / 3600);\n        if (hours < 10) {\n            hours = '0' + hours;\n        }\n        seconds %= 3600;\n        let minutes = Math.floor(seconds / 60);\n        if (minutes < 10) {\n            minutes = '0' + minutes;\n        }\n        seconds %= 60;\n        seconds = Math.floor(seconds);\n        if (seconds < 10) {\n            seconds = '0' + seconds;\n        }\n        let text = '';\n        if (days) {\n            text += `${days} ${I18n.t('ra_daysShortText')} `;\n        }\n        text += `${hours}:${minutes}:${seconds}`;\n\n        return text;\n    }\n\n    /**\n     * Get the name of the object by id from the name or description.\n     * @param {Record<string, ioBroker.Object>} objects\n     * @param {string} id\n     * @param {{ name: any; } | ioBroker.Languages | null} settings\n     * @param {{ language?: ioBroker.Languages; }} options\n     * @param {boolean} [isDesc] Set to true to get the description.\n     * @returns {string}\n     */\n    static getObjectName(objects, id, settings, options, isDesc) {\n        let item = objects[id];\n        let text = id;\n        const attr = isDesc ? 'desc' : 'name';\n\n        if (typeof settings === 'string' && !options) {\n            options = {language: settings};\n            settings = null;\n        }\n\n        options = options || {};\n        if (!options.language) {\n            options.language = (objects['system.config'] && objects['system.config'].common && objects['system.config'].common.language) || window.sysLang || 'en';\n        }\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en || text.de || text.ru || '';\n            }\n            text = (text || '').toString().replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        } else {\n            let pos = id.lastIndexOf('.');\n            text = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            text = Utils.CapitalWords(text);\n        }\n\n        return text.trim();\n    }\n\n    /**\n     * Get the name of the object from the name or description.\n     * @param {ioBroker.PartialObject} obj\n     * @param {{ name: any; } | ioBroker.Languages | null } settings or language\n     * @param {{ language?: ioBroker.Languages; } } options\n     * @param {boolean} [isDesc] Set to true to get the description.\n     * @param {boolean} [noTrim] Allow to use spaces in name (by edit)\n     * @returns {string}\n     */\n    static getObjectNameFromObj(obj, settings, options, isDesc, noTrim) {\n        let item = obj;\n        let text = (obj && obj._id) || '';\n        const attr = isDesc ? 'desc' : 'name';\n\n        if (typeof settings === 'string' && !options) {\n            options = {language: settings};\n            settings = null;\n        }\n\n        options = options || {};\n\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n            text = (text || '').toString().replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        }\n        return noTrim ? text : text.trim();\n    }\n\n    /**\n     * @param {ioBroker.PartialObject | ioBroker.ObjectCommon} obj\n     * @param {string} forEnumId\n     * @param {{ user: string; }} options\n     * @returns {string | null}\n     */\n    static getSettingsOrder(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subOrder && settings[user].subOrder[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subOrder[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].order) {\n                        return JSON.parse(JSON.stringify(settings[user].order));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * @param {ioBroker.PartialObject | ioBroker.ObjectCommon} obj\n     * @param {string} forEnumId\n     * @param {{ user: string; }} options\n     */\n    static getSettingsCustomURLs(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subURLs && settings[user].subURLs[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subURLs[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].URLs) {\n                        return JSON.parse(JSON.stringify(settings[user].URLs));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Reorder the array items in list between source and dest.\n     * @param {Iterable<any> | ArrayLike<any>} list\n     * @param {number} source\n     * @param {number} dest\n     */\n    static reorder(list, source, dest) {\n        const result = Array.from(list);\n        const [removed] = result.splice(source, 1);\n        result.splice(dest, 0, removed);\n        return result;\n    };\n\n    /**\n     * @param {any} obj\n     * @param {{ id: any; user: any; name: any; icon: any; color: any; language: ioBroker.Languages; }} options\n     * @param {boolean} [defaultEnabling]\n     */\n    static getSettings(obj, options, defaultEnabling) {\n        let settings;\n        const id = (obj && obj._id) || (options && options.id);\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        if (obj && obj.custom) {\n            settings = obj.custom || {};\n            settings = settings[NAMESPACE] && settings[NAMESPACE][options.user || 'admin'] ? JSON.parse(JSON.stringify(settings[NAMESPACE][options.user || 'admin'])) : {enabled: true};\n        } else {\n            settings = {enabled: defaultEnabling === undefined ? true : defaultEnabling, useCustom: false};\n        }\n\n        if (!settings.hasOwnProperty('enabled')) {\n            settings.enabled = defaultEnabling === undefined ? true : defaultEnabling;\n        }\n\n        if (false && settings.useCommon) {\n            if (obj.color) settings.color = obj.color;\n            if (obj.icon)  settings.icon  = obj.icon;\n            if (obj.name)  settings.name  = obj.name;\n        } else {\n            if (options) {\n                if (!settings.name  && options.name)  settings.name  = options.name;\n                if (!settings.icon  && options.icon)  settings.icon  = options.icon;\n                if (!settings.color && options.color) settings.color = options.color;\n            }\n\n            if (obj) {\n                if (!settings.color && obj.color) settings.color = obj.color;\n                if (!settings.icon  && obj.icon)  settings.icon  = obj.icon;\n                if (!settings.name  && obj.name)  settings.name  = obj.name;\n            }\n        }\n\n        if (typeof settings.name === 'object') {\n            settings.name = settings.name[options.language] || settings.name.en;\n\n            settings.name = (settings.name || '').toString().replace(/_/g, ' ');\n\n            if (settings.name === settings.name.toUpperCase()) {\n                settings.name = settings.name[0] + settings.name.substring(1).toLowerCase();\n            }\n        }\n        if (!settings.name && id) {\n            let pos = id.lastIndexOf('.');\n            settings.name = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            settings.name = (settings.name || '').toString().replace(/_/g, ' ');\n            settings.name = Utils.CapitalWords(settings.name);\n        }\n\n        return settings;\n    }\n\n    /**\n     * @param {any} obj\n     * @param {any} settings\n     * @param {{ user: any; language: ioBroker.Languages; }} options\n     */\n    static setSettings(obj, settings, options) {\n        if (obj) {\n            obj.common = obj.common || {};\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[NAMESPACE] = obj.common.custom[NAMESPACE] || {};\n            obj.common.custom[NAMESPACE][options.user || 'admin'] = settings;\n            const s = obj.common.custom[NAMESPACE][options.user || 'admin'];\n            if (s.useCommon) {\n                if (s.color !== undefined) {\n                    obj.common.color = s.color;\n                    delete s.color;\n                }\n                if (s.icon !== undefined) {\n                    obj.common.icon = s.icon;\n                    delete s.icon;\n                }\n                if (s.name !== undefined) {\n                    if (typeof obj.common.name !== 'object') {\n                        obj.common.name = {};\n                        obj.common.name[options.language] = s.name;\n                    } else{\n                        obj.common.name[options.language] = s.name;\n                    }\n                    delete s.name;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Get the icon for the given settings.\n     * @param {{ icon: string | undefined; name: string | undefined; prefix: string | undefined}} settings\n     * @param {any} style\n     * @returns {JSX.Element | null}\n     */\n    static getIcon(settings, style) {\n        if (settings && settings.icon) {\n            // If UTF-8 icon\n            if (settings.icon.length <= 2) {\n                return <span style={style || {}}>{settings.icon}</span>;\n            } else\n            if (settings.icon.startsWith('data:image')) {\n                return <img alt={settings.name} src={settings.icon} style={style || {}}/>;\n            } else { // may be later some changes for second type\n                return <img alt={settings.name} src={(settings.prefix || '') + settings.icon} style={style || {}}/>;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get the icon for the given object.\n     * @param {string} id\n     * @param {{ common: { icon: any; }; }} obj\n     * @returns {string | null}\n     */\n    static getObjectIcon(id, obj) {\n        // If id is Object\n        if (typeof id === 'object') {\n            obj = id;\n            id = obj._id;\n        }\n\n        if (obj && obj.common && obj.common.icon) {\n            let icon = obj.common.icon;\n            // If UTF-8 icon\n            if (typeof icon === 'string' && icon.length <= 2) {\n                return icon;\n            } else\n            if (icon.startsWith('data:image')) {\n                return icon;\n            } else {\n                const parts = id.split('.');\n                if (parts[0] === 'system') {\n                    icon = 'adapter/' + parts[2] + (icon.startsWith('/') ? '' : '/') + icon;\n                } else {\n                    icon = 'adapter/' + parts[0] + (icon.startsWith('/') ? '' : '/') + icon;\n                }\n\n                if (window.location.pathname.match(/adapter\\/[^/]+\\/[^/]+\\.html/)) {\n                    icon = '../../' + icon;\n                } else if (window.location.pathname.match(/material\\/[.\\d]+/)) {\n                    icon = '../../' + icon;\n                } else\n                if (window.location.pathname.match(/material\\//)) {\n                    icon = '../' + icon;\n                }\n                return icon;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Splits CamelCase into words.\n     * @param {string | undefined} text\n     * @returns {string}\n     */\n    static splitCamelCase(text) {\n        if (false && text !== text.toUpperCase()) {\n            const words = text.split(/\\s+/);\n            for (let i = 0; i < words.length; i++) {\n                let word = words[i];\n                if (word.toLowerCase() !== word && word.toUpperCase() !== word) {\n                    let z = 0;\n                    const ww = [];\n                    let start = 0;\n                    while (z < word.length) {\n                        if (word[z].match(/[A-ZÜÄÖА-Я]/)) {\n                            ww.push(word.substring(start, z));\n                            start = z;\n                        }\n                        z++;\n                    }\n                    if (start !== z) {\n                        ww.push(word.substring(start, z));\n                    }\n                    for (let k = 0; k < ww.length; k++) {\n                        words.splice(i + k, 0, ww[k]);\n                    }\n                    i += ww.length;\n                }\n            }\n\n            return words.map(w => {\n                w = w.trim();\n                if (w) {\n                    return w[0].toUpperCase() + w.substring(1).toLowerCase();\n                }\n                return '';\n            }).join(' ');\n        } else {\n            return Utils.CapitalWords(text);\n        }\n    }\n\n    /**\n     * Check if the given color is bright.\n     * https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n     * @param {string | null | undefined} color\n     * @param {boolean} [defaultValue]\n     * @returns {boolean}\n     */\n    static isUseBright(color, defaultValue) {\n        if (color === null || color === undefined || color === '') {\n            return defaultValue === undefined ? true : defaultValue;\n        }\n        color = color.toString();\n        if (color.indexOf('#') === 0) {\n            color = color.slice(1);\n        }\n        let r;\n        let g;\n        let b;\n\n        const rgb = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n        if (rgb && rgb.length === 4) {\n            r = parseInt(rgb[1], 10);\n            g = parseInt(rgb[2], 10);\n            b = parseInt(rgb[3], 10);\n        } else {\n            // convert 3-digit hex to 6-digits.\n            if (color.length === 3) {\n                color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n            }\n            if (color.length !== 6) {\n                return false;\n            }\n\n            r = parseInt(color.slice(0, 2), 16);\n            g = parseInt(color.slice(2, 4), 16);\n            b = parseInt(color.slice(4, 6), 16);\n        }\n\n        // http://stackoverflow.com/a/3943023/112731\n        return (r * 0.299 + g * 0.587 + b * 0.114) <= 186;\n    };\n\n    /**\n     * Get the time string in the format 00:00.\n     * @param {string | number} seconds\n     */\n    static getTimeString(seconds) {\n        seconds = parseFloat(seconds);\n        if (isNaN(seconds)) {\n            return '--:--';\n        }\n        const hours = Math.floor(seconds / 3600);\n        let minutes = Math.floor((seconds % 3600) / 60);\n        let secs = seconds % 60;\n        if (hours) {\n            if (minutes < 10) minutes = '0' + minutes;\n            if (secs < 10) secs = '0' + secs;\n            return hours + ':' + minutes + ':' + secs;\n        } else {\n            if (secs < 10) secs = '0' + secs;\n            return minutes + ':' + secs;\n        }\n    }\n\n    /**\n     * Gets the wind direction with the given angle (degrees).\n     * @param {number} angle in degrees.\n     * @returns {string | undefined}\n     */\n    static getWindDirection(angle) {\n        if (angle >= 0 && angle < 11.25) {\n            return 'N'\n        } else if (angle >= 11.25 && angle < 33.75) {\n            return 'NNE'\n        } else if (angle >= 33.75 && angle < 56.25) {\n            return 'NE'\n        } else if (angle >= 56.25 && angle < 78.75) {\n            return 'ENE'\n        } else if (angle >= 78.75 && angle < 101.25) {\n            return 'E'\n        } else if (angle >= 101.25 && angle < 123.75) {\n            return 'ESE'\n        } else if (angle >= 123.75 && angle < 146.25) {\n            return 'SE'\n        } else if (angle >= 146.25 && angle < 168.75) {\n            return 'SSE'\n        } else if (angle >= 168.75 && angle < 191.25) {\n            return 'S'\n        } else if (angle >= 191.25 && angle < 213.75) {\n            return 'SSW'\n        } else if (angle >= 213.75 && angle < 236.25) {\n            return 'SW'\n        } else if (angle >= 236.25 && angle < 258.75) {\n            return 'WSW'\n        } else if (angle >= 258.75 && angle < 281.25) {\n            return 'W'\n        } else if (angle >= 281.25 && angle < 303.75) {\n            return 'WNW'\n        } else if (angle >= 303.75 && angle < 326.25) {\n            return 'NW'\n        } else if (angle >= 326.25 && angle < 348.75) {\n            return 'NNW'\n        } else if (angle >= 348.75) {\n            return 'N'\n        }\n    }\n\n    /**\n     * Pad the given number with a zero if its not 2 digits long.\n     * @param {string | number} num\n     */\n    static padding(num) {\n        if (typeof num === 'string') {\n            if (num.length < 2) {\n                return '0' + num;\n            } else {\n                return num;\n            }\n        } else if (num < 10) {\n            return '0' + num;\n        } else {\n            return num;\n        }\n    }\n\n    /**\n     * Sets the date format.\n     * @param {string} format\n     */\n    static setDataFormat(format) {\n        if (format) {\n            Utils.dateFormat = format.toUpperCase().split(/[.-/]/);\n            Utils.dateFormat.splice(Utils.dateFormat.indexOf('YYYY'), 1);\n        }\n    }\n\n    /**\n     * Converts the date to a string.\n     * @param {string | number | Date} now\n     * @returns {string}\n     */\n    static date2string(now) {\n        if (typeof now === 'string') {\n            now = now.trim();\n            if (!now) return '';\n            // only letters\n            if (now.match(/^[\\w\\s]+$/)) {\n                // Day of week\n                return now;\n            }\n            let m = now.match(/(\\d{1,4})[-./](\\d{1,2})[-./](\\d{1,4})/);\n            if (m) {\n                let a = [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\n                let year = a.find(y => y > 31);\n                a.splice(a.indexOf(year), 1);\n                let day = a.find(m => m > 12);\n                if (day) {\n                    a.splice(a.indexOf(day), 1);\n                    now = new Date(year, a[0] - 1, day);\n                } else {\n                    // MM DD\n                    if (Utils.dateFormat[0][0] === 'M' && Utils.dateFormat[1][0] === 'D') {\n                        now = new Date(year, a[0] - 1, a[1]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[1] - 1, a[0]);\n                        }\n                    } else\n                    // DD MM\n                    if (Utils.dateFormat[0][0] === 'D' && Utils.dateFormat[1][0] === 'M') {\n                        now = new Date(year, a[1] - 1, a[0]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[0] - 1, a[1]);\n                        }\n                    } else {\n                        now = new Date(now);\n                    }\n                }\n            } else {\n                now = new Date(now);\n            }\n        } else {\n            now = new Date(now);\n        }\n\n        let date = I18n.t('ra_dow_' + days[now.getDay()]).replace('ra_dow_', '');\n        date += '. ' + now.getDate() + ' ' + I18n.t('ra_month_' + months[now.getMonth()]).replace('ra_month_', '');\n        return date;\n    }\n\n    /**\n     * Render a text as a link.\n     * @param {string} text\n     * @returns {string | JSX.Element[]}\n     */\n    static renderTextWithA(text) {\n        let m = text.match(/<a [^<]+<\\/a>|<br\\/?>/);\n        if (m) {\n            const result = [];\n            let key = 1;\n            do {\n                const p = text.split(m[0]);\n                p[0] && result.push(<span key={'a' + (key++)}>{p[0]}</span>);\n\n                if (m[0].startsWith('<br')) {\n                    result.push(<br key={'a' + (key++)} />);\n                } else {\n                    let href = m[0].match(/href=\"([^\"]+)\"/) || m[0].match(/href='([^']+)'/);\n                    let target = m[0].match(/target=\"([^\"]+)\"/) || m[0].match(/target='([^']+)'/);\n                    let rel = m[0].match(/rel=\"([^\"]+)\"/) || m[0].match(/rel='([^']+)'/);\n                    const title = m[0].match(/>([^<]*)</);\n\n                    // eslint-disable-next-line\n                    result.push(<a key={'a' + (key++)} href={href ? href[1] : ''} target={target ? target[1] : '_blank'} rel={rel ? rel[1] : ''}>{title ? title[1] : ''}</a>);\n                }\n\n                text = p[1];\n\n                m = text && text.match(/<a [^<]+<\\/a>|<br\\/?>/);\n                if (!m) {\n                    p[1] && result.push(<span key={'a' + (key++)}>{p[1]}</span>);\n                }\n            } while (m);\n\n            return result;\n        } else {\n            return text;\n        }\n    }\n\n    /**\n     * Get the smart name of the given state.\n     * @param {Record<string, ioBroker.StateObject> | ioBroker.StateObject} states\n     * @param {string} id\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static getSmartName(states, id, instanceId, noCommon) {\n        if (!id) {\n            if (!noCommon) {\n                if (!states.common) {\n                    return states.smartName;\n                } else {\n                    if (states && !states.common) {\n                        return states.smartName;\n                    } else {\n                        return states.common.smartName;\n                    }\n                }\n            } else {\n                if (states && !states.common) {\n                    return states.smartName;\n                } else {\n                    return (states &&\n                        states.common &&\n                        states.common.custom &&\n                        states.common.custom[instanceId]) ?\n                        states.common.custom[instanceId].smartName : undefined;\n                }\n            }\n        } else\n        if (!noCommon) {\n            return states[id].common.smartName;\n        } else {\n            return (states[id] &&\n                states[id].common &&\n                states[id].common.custom &&\n                states[id].common.custom[instanceId]) ?\n                states[id].common.custom[instanceId].smartName || null : null;\n        }\n    }\n\n    /**\n     * Get the smart name from a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static getSmartNameFromObj(obj, instanceId, noCommon) {\n        if (!noCommon) {\n            if (!obj.common) {\n                return obj.smartName;\n            } else {\n                if (obj && !obj.common) {\n                    return obj.smartName;\n                } else {\n                    return obj.common.smartName;\n                }\n            }\n        } else {\n            if (obj && !obj.common) {\n                return obj.smartName;\n            } else {\n                return (obj &&\n                    obj.common &&\n                    obj.common.custom &&\n                    obj.common.custom[instanceId]) ?\n                    obj.common.custom[instanceId].smartName : undefined;\n            }\n        }\n    }\n\n    /**\n     * Enable smart name for a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static enableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = {};\n        } else {\n            obj.common.smartName = {};\n        }\n    }\n\n    /**\n     * Completely remove smart name from a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string | number} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static removeSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            if (obj.common && obj.common.custom && obj.common.custom[instanceId]) {\n                obj.common.custom[instanceId] = null;\n            }\n        } else {\n            obj.common.smartName = null;\n        }\n    }\n\n    /**\n     * Update the smartname of a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} newSmartName\n     * @param {string | undefined} byON\n     * @param {string | undefined} smartType\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static updateSmartName(obj, newSmartName, byON, smartType, instanceId, noCommon) {\n        const language = I18n.getLanguage();\n\n        // convert Old format\n        if (typeof obj.common.smartName === 'string') {\n            const nnn = obj.common.smartName;\n            obj.common.smartName = {};\n            obj.common.smartName[language] = nnn;\n        }\n\n        // convert old settings\n        if (obj.native && obj.native.byON) {\n            delete obj.native.byON;\n            let _smartName = obj.common.smartName;\n\n            if (!_smartName || typeof _smartName !== 'object') {\n                _smartName = {en: _smartName};\n                _smartName[language] = _smartName.en;\n            }\n            obj.common.smartName = _smartName;\n        }\n        if (smartType !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                if (!smartType) {\n                    delete obj.common.custom[instanceId].smartName.smartType;\n                } else {\n                    obj.common.custom[instanceId].smartName.smartType = smartType;\n                }\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                if (!smartType) {\n                    delete obj.common.smartName.smartType;\n                } else {\n                    obj.common.smartName.smartType = smartType;\n                }\n\n            }\n        }\n        if (byON !== undefined) {\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                obj.common.custom[instanceId].smartName.byON = byON;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                obj.common.smartName.byON = byON;\n            }\n        }\n        if (newSmartName !== undefined) {\n            let smartName;\n            if (noCommon) {\n                obj.common.custom = obj.common.custom || {};\n                obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n                obj.common.custom[instanceId].smartName = obj.common.custom[instanceId].smartName || {};\n                smartName = obj.common.custom[instanceId].smartName;\n            } else {\n                obj.common.smartName = obj.common.smartName || {};\n                smartName = obj.common.smartName;\n            }\n            smartName[language] = newSmartName;\n\n            // If smart name deleted\n            if (smartName && (!smartName[language] ||\n                (smartName[language] === obj.common.name &&\n                    (!obj.common.role || obj.common.role.indexOf('button') >= 0)))) {\n                delete smartName[language];\n                let empty = true;\n                // Check if structure has any definitions\n                for (const key in smartName) {\n                    if (smartName.hasOwnProperty(key)) {\n                        empty = false;\n                        break;\n                    }\n                }\n                // If empty => delete smartName completely\n                if (empty) {\n                    if (noCommon) {\n                        if (obj.common.custom[instanceId].smartName.byON === undefined) {\n                            delete obj.common.custom[instanceId];\n                        } else {\n                            delete obj.common.custom[instanceId].en;\n                            delete obj.common.custom[instanceId].de;\n                            delete obj.common.custom[instanceId].ru;\n                            delete obj.common.custom[instanceId].nl;\n                            delete obj.common.custom[instanceId].pl;\n                            delete obj.common.custom[instanceId].it;\n                            delete obj.common.custom[instanceId].fr;\n                            delete obj.common.custom[instanceId].pt;\n                            delete obj.common.custom[instanceId].es;\n                            delete obj.common.custom[instanceId]['zh-cn'];\n                        }\n                    } else {\n                        if (obj.common.smartName.byON !== undefined) {\n                            delete obj.common.smartName.en;\n                            delete obj.common.smartName.de;\n                            delete obj.common.smartName.ru;\n                            delete obj.common.smartName.nl;\n                            delete obj.common.smartName.pl;\n                            delete obj.common.smartName.it;\n                            delete obj.common.smartName.fr;\n                            delete obj.common.smartName.pt;\n                            delete obj.common.smartName.es;\n                            delete obj.common.smartName['zh-cn'];\n                        } else {\n                            obj.common.smartName = null;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Disable the smart name of a state.\n     * @param {ioBroker.StateObject} obj\n     * @param {string} instanceId\n     * @param {boolean} [noCommon]\n     */\n    static disableSmartName(obj, instanceId, noCommon) {\n        if (noCommon) {\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[instanceId] = obj.common.custom[instanceId] || {};\n            obj.common.custom[instanceId].smartName = false;\n        } else {\n            obj.common.smartName = false;\n        }\n    }\n\n    /**\n     * Copy text to the clipboard.\n     * @param {string} text\n     * @param {Event} [e]\n     */\n    static copyToClipboard(text, e) {\n        const el = window.document.createElement('textarea');\n        el.value = text;\n        window.document.body.appendChild(el);\n        el.select();\n        window.document.execCommand('copy');\n        window.document.body.removeChild(el);\n        console.log(text);\n        e && e.stopPropagation();\n        e && e.preventDefault();\n    }\n\n    /**\n     * Gets the extension of a file name.\n     * @param {string | null} [fileName] the file name.\n     * @returns {string | null} The extension in lower case.\n     */\n    static getFileExtension(fileName) {\n        const pos = (fileName || '').lastIndexOf('.');\n        if (pos !== -1) {\n            return fileName.substring(pos + 1).toLowerCase();\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Format number of bytes as a string with B, KB, MB or GB.\n     * The base for all calculations is 1024.\n     * @param {number} bytes The number of bytes.\n     * @returns {string} The formatted string (e.g. '723.5 KB')\n     */\n    static formatBytes(bytes) {\n        if (Math.abs(bytes) < 1024) {\n            return bytes + ' B';\n        }\n\n        const units = ['KB','MB','GB'];\n        //const units = ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\n        let u = -1;\n\n        do {\n            bytes /= 1024;\n            ++u;\n        } while (Math.abs(bytes) >= 1024 && u < units.length - 1);\n\n        return bytes.toFixed(1) + ' ' + units[u];\n    }\n\n    /**\n     * Invert the given color according to theme type to get the inverted text color for background\n     * @param {string} color Color in the format '#rrggbb' or '#rgb' (or without hash)\n     * @param {string} themeType theme type\n     * @param {string} invert dark theme has light color in control or light theme has light color in control\n     * @returns {string}\n     */\n    static getInvertedColor(color, themeType, invert) {\n        if (!color) {\n            return undefined;\n        } else {\n            const invertedColor = Utils.invertColor(color, true);\n            if (invertedColor === '#FFFFFF' && (themeType === 'dark' || (invert && themeType === 'light'))) {\n                return '#DDD';\n            } else\n            if (invertedColor === '#000000' && (themeType === 'light' || (invert && themeType === 'dark'))) {\n                return '#222';\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    // Big thanks to: https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n    /**\n     * Invert the given color\n     * @param {string} hex Color in the format '#rrggbb' or '#rgb' (or without hash)\n     * @param {boolean} bw Set to black or white.\n     * @returns {string}\n     */\n    static invertColor(hex, bw) {\n        if (hex === undefined || hex === null || hex === '' || typeof hex !== 'string') {\n            return '';\n        }\n        if (hex.startsWith('rgba')) {\n            const m = hex.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)/);\n            if (m) {\n                hex = parseInt(m[1], 10).toString(16).padStart(2, '0') +\n                    parseInt(m[2], 10).toString(16).padStart(2, '0') +\n                    parseInt(m[2], 10).toString(16).padStart(2, '0');\n            }\n        } else if (hex.startsWith('rgba')) {\n            const m = hex.match(/rgb?\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n            if (m) {\n                hex = parseInt(m[1], 10).toString(16).padStart(2, '0') +\n                    parseInt(m[2], 10).toString(16).padStart(2, '0') +\n                    parseInt(m[2], 10).toString(16).padStart(2, '0');\n            }\n        } else\n        if (hex.startsWith('#')) {\n            hex = hex.slice(1);\n        }\n        // convert 3-digit hex to 6-digits.\n        if (hex.length === 3) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        if (hex.length !== 6) {\n            console.warn('Cannot invert color: ' + hex);\n            return hex;\n        }\n        let r = parseInt(hex.slice(0, 2), 16);\n        let g = parseInt(hex.slice(2, 4), 16);\n        let b = parseInt(hex.slice(4, 6), 16);\n\n        if (bw) {\n            // http://stackoverflow.com/a/3943023/112731\n            return (r * 0.299 + g * 0.587 + b * 0.114) > 186\n                ? '#000000'\n                : '#FFFFFF';\n        }\n        // invert color components\n        r = (255 - r).toString(16);\n        g = (255 - g).toString(16);\n        b = (255 - b).toString(16);\n        // pad each with zeros and return\n        return '#' + r.padStart(2, '0') + g.padStart(2, '0') + b.padStart(2, '0');\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * @private\n     * @param {any} mix\n     * @returns {string}\n     */\n    static _toVal(mix) {\n        let k;\n        let y;\n        let str = '';\n\n        if (typeof mix === 'string' || typeof mix === 'number') {\n            str += mix;\n        } else if (typeof mix === 'object') {\n            if (Array.isArray(mix)) {\n                for (k = 0; k < mix.length; k++) {\n                    if (mix[k]) {\n                        if ((y = Utils._toVal(mix[k]))) {\n                            str && (str += ' ');\n                            str += y;\n                        }\n                    }\n                }\n            } else {\n                for (k in mix) {\n                    if (mix[k]) {\n                        str && (str += ' ');\n                        str += k;\n                    }\n                }\n            }\n        }\n\n        return str;\n    }\n\n    // https://github.com/lukeed/clsx/blob/master/src/index.js\n    // License\n    // MIT © Luke Edwards\n    /**\n     * Convert any object to a string with its values.\n     * @returns {string}\n     */\n    static clsx () {\n        let i = 0;\n        let tmp;\n        let x;\n        let str = '';\n        while (i < arguments.length) {\n            if ((tmp = arguments[i++])) {\n                if ((x = Utils._toVal(tmp))) {\n                    str && (str += ' ');\n                    str += x\n                }\n            }\n        }\n        return str;\n    }\n\n    /**\n     * Get the current theme name (either from local storage or the browser settings).\n     * @param {string} [themeName]\n     * @returns {string}\n     */\n    static getThemeName(themeName = '') {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return window.vendorPrefix;\n        }\n\n        return themeName ? themeName : (window._localStorage || window.localStorage) && (window._localStorage || window.localStorage).getItem('App.themeName') ?\n            (window._localStorage || window.localStorage).getItem('App.themeName') : window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'colored';\n    }\n\n    /**\n     * Get the type of theme.\n     * @param {string} [themeName]\n     * @returns {'dark' | 'light'}\n     */\n    static getThemeType(themeName = '') {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return 'light';\n        }\n\n        themeName = themeName || ((window._localStorage || window.localStorage) && (window._localStorage || window.localStorage).getItem('App.themeName'));\n        return themeName === 'dark' || themeName === 'blue' ? 'dark' : 'light';\n    }\n\n    /**\n     * Set the theme name and theme type.\n     * @param {string} themeName\n     */\n    static setThemeName(themeName) {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return; // ignore\n        }\n        (window._localStorage || window.localStorage).setItem('App.themeName', themeName);\n        (window._localStorage || window.localStorage).setItem('App.theme', themeName === 'dark' || themeName === 'blue' ? 'dark' : 'light');\n    }\n\n    /**\n     * Toggle the theme name between 'dark' and 'colored'.\n     * @param {string | null} themeName\n     * @returns {string} the new theme name.\n     */\n    static toggleTheme(themeName) {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return window.vendorPrefix;\n        }\n        themeName = themeName || ((window._localStorage || window.localStorage) && (window._localStorage || window.localStorage).getItem('App.themeName'));\n\n        // dark => blue => colored => light => dark\n        const themes = Utils.getThemeNames();\n        const pos = themes.indexOf(themeName);\n        let newTheme;\n        if (pos !== -1) {\n            newTheme = themes[(pos + 1) % themes.length];\n        } else {\n            newTheme = themes[0];\n        }\n        Utils.setThemeName(newTheme);\n\n        return newTheme;\n    }\n\n    /**\n     * Get the list of themes\n     * @returns {array<string>} list of possible themes\n     */\n    static getThemeNames() {\n        if (window.vendorPrefix && window.vendorPrefix !== '@@vendorPrefix@@') {\n            return [window.vendorPrefix];\n        }\n\n        return ['light', 'dark', 'blue', 'colored'];\n    }\n\n    /**\n     * Parse a query string into its parts.\n     * @param {string} query\n     * @returns {Record<string, string | boolean | number>}\n     */\n    static parseQuery(query) {\n        query = (query || '').toString().replace(/^\\?/, '');\n        /** @type {Record<string, string | boolean | number>} */\n        const result = {};\n        query.split('&').forEach(part => {\n            part = part.trim();\n            if (part) {\n                const parts = part.split('=');\n                const attr = decodeURIComponent(parts[0]).trim();\n                if (parts.length > 1) {\n                    result[attr] = decodeURIComponent(parts[1]);\n                    if (result[attr] === 'true') {\n                        result[attr] = true;\n                    } else if (result[attr] === 'false') {\n                        result[attr] = false;\n                    } else {\n                        const f = parseFloat(result[attr]);\n                        if (f.toString() === result[attr]) {\n                            result[attr] = f;\n                        }\n                    }\n                } else {\n                    result[attr] = true;\n                }\n            }\n        });\n        return result;\n    }\n\n    /**\n     * Returns parent ID.\n     * @param {string} id\n     * @returns {string | null} parent ID or null if no parent\n     */\n    static getParentId(id) {\n        const p = (id || '').toString().split('.');\n        if (p.length > 1) {\n            p.pop();\n            return p.join('.');\n        } else {\n            return null;\n        }\n    }\n\n    static formatDate(dateObj, dateFormat) {\n        // format could be DD.MM.YYYY, YYYY.MM.DD or MM/DD/YYYY\n\n        if (!dateObj) {\n            return '';\n        }\n\n        let text;\n        let mm = dateObj.getMonth() + 1;\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n\n        let dd = dateObj.getDate();\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n\n        if (dateFormat === 'MM/DD/YYYY') {\n            text = mm + '/' + dd + '/' + dateObj.getFullYear();\n        } else {\n            text = dateObj.getFullYear() + '-' + mm + '-' + dd;\n        }\n\n        // time\n        let v = dateObj.getHours();\n        if (v < 10) {\n            text += ' 0' + v;\n        } else {\n            text += ' ' + v;\n        }\n        v = dateObj.getMinutes();\n        if (v < 10) {\n            text += ':0' + v;\n        } else {\n            text += ':' + v;\n        }\n\n        v = dateObj.getSeconds();\n        if (v < 10) {\n            text += ':0' + v;\n        } else {\n            text += ':' + v;\n        }\n\n        v = dateObj.getMilliseconds();\n        if (v < 10) {\n            text += '.00' + v;\n        } else if (v < 100) {\n            text += '.0' + v;\n        } else {\n            text += '.' + v;\n        }\n\n        return text;\n    }\n\n    static formatTime(seconds) {\n        if (seconds) {\n            seconds = Math.round(seconds);\n            const d = Math.floor(seconds / (3600 * 24));\n            const h = Math.floor((seconds % (3600 * 24)) / 3600);\n            const m = Math.floor((seconds % 3600) / 60);\n            const s = seconds % 60;\n            if (d) {\n                return `${d}.${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            } else if (h) {\n                return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            } else {\n                return `0:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n            }\n        } else {\n            return '0:00:00';\n        }\n    }\n\n    static MDtext2link(text) {\n        const m = text.match(/\\d+\\.\\)\\s/);\n        if (m) {\n            text = text.replace(m[0], m[0].replace(/\\s/, '&nbsp;'));\n        }\n\n        return text.replace(/[^a-zA-Zа-яА-Я0-9]/g, '').trim().replace(/\\s/g, '').toLowerCase();\n    }\n\n    static openLink(url, target) {\n        // replace IPv6 Address with [ipv6]:port\n        url = url.replace(/\\/\\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\\d+)?\\//i, '//[$1]$2/');\n\n        if (target === 'this') {\n            window.location = url;\n        } else {\n            window.open(url, target || '_blank');\n        }\n    }\n\n    static MDgetTitle(text) {\n        let {body, header} = Utils.extractHeader(text);\n        if (!header.title) {\n            // remove {docsify-bla}\n            body = body.replace(/{[^}]*}/g, '');\n            body = body.trim();\n            const lines = body.replace(/\\r/g, '').split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n                if (lines[i].startsWith('# ')) {\n                    return lines[i].substring(2).trim();\n                }\n            }\n            return '';\n        } else {\n            return header.title;\n        }\n    }\n\n    static MDextractHeader(text) {\n        const attrs = {};\n        if (text.substring(0, 3) === '---') {\n            const pos = text.substring(3).indexOf('\\n---');\n            if (pos !== -1) {\n                const _header = text.substring(3, pos + 3);\n                const lines = _header.replace(/\\r/g, '').split('\\n');\n                lines.forEach(line => {\n                    if (!line.trim()) {\n                        return;\n                    }\n                    const pos = line.indexOf(':');\n                    if (pos !== -1) {\n                        const attr = line.substring(0, pos).trim();\n                        attrs[attr] = line.substring(pos + 1).trim();\n                        attrs[attr] = attrs[attr].replace(/^['\"]|['\"]$/g, '');\n                        if (attrs[attr] === 'true') {\n                            attrs[attr] = true;\n                        } else if (attrs[attr] === 'false') {\n                            attrs[attr] = false;\n                        } else if (parseFloat(attrs[attr]).toString() === attrs[attr]) {\n                            attrs[attr] = parseFloat(attrs[attr]);\n                        }\n                    } else {\n                        attrs[line.trim()] = true;\n                    }\n                });\n                text = text.substring(pos + 7);\n            }\n        }\n        return {header: attrs, body: text};\n    }\n\n    static MDremoveDocsify(text) {\n        const m = text.match(/{docsify-[^}]*}/g);\n        if (m) {\n            m.forEach(doc => text = text.replace(doc, ''));\n        }\n        return text;\n    }\n\n    /**\n     * Generate the json file on the file for download.\n     * @param {string} filename file name\n     * @returns {object} json structure (not stringified)\n     */\n    static generateFile(filename, json) {\n        let el = document.createElement('a');\n        el.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(json, null, 2)));\n        el.setAttribute('download', filename);\n\n        el.style.display = 'none';\n        document.body.appendChild(el);\n\n        el.click();\n\n        document.body.removeChild(el);\n    }\n\n    /**\n     * Convert quality code into text\n     * @param {number} quality code\n     * @returns {array<string>} lines that decode qulity\n     */\n    static quality2text(quality) {\n        const custom = quality & 0xFFFF0000;\n        const text = QUALITY_BITS[quality];\n        let result;\n        if (text) {\n            result = [text];\n        } else if (quality & 0x01) {\n            result = [QUALITY_BITS[0x01], '0x' + (quality & (0xFFFF & ~1)).toString(16)];\n        } else if (quality & 0x02) {\n            result = [QUALITY_BITS[0x02], '0x' + (quality & (0xFFFF & ~2)).toString(16)];\n        } else {\n            result = ['0x' + quality.toString(16)];\n        }\n        if (custom) {\n            result.push('0x' + (custom >> 16).toString(16).toUpperCase());\n        }\n        return result;\n    }\n\n    /**\n     * Deep copy object\n     * @param {object} object\n     * @returns {object}\n     */\n    static clone(object) {\n        return JSON.parse(JSON.stringify(object));\n    }\n\n    /**\n     * Get states of object\n     * @param {object} obj\n     * @returns {object} states as an object in form {\"value1\": \"label1\", \"value2\": \"label2\"} or null\n     */\n    static getStates(obj) {\n        let states = obj?.common?.states;\n        if (states) {\n            if (typeof states === 'string' && states[0] === '{') {\n                try {\n                    states = JSON.parse(states);\n                } catch (ex) {\n                    console.error(`Cannot parse states: ${states}`);\n                    states = null;\n                }\n            } else\n            // if old format val1:text1;val2:text2\n            if (typeof states === 'string') {\n                const parts = states.split(';');\n                states = {};\n                for (let p = 0; p < parts.length; p++) {\n                    const s = parts[p].split(':');\n                    states[s[0]] = s[1];\n                }\n            } else if (Array.isArray(states)) {\n                const result = {};\n                if (obj.common.type === 'number') {\n                    states.forEach((value, key) => result[key] = value);\n                } else\n                if (obj.common.type === 'string') {\n                    states.forEach(value => result[value] = value);\n                } else if (obj.common.type === 'boolean') {\n                    result['false'] = states[0];\n                    result['true'] = states[1];\n                }\n\n                return result;\n            }\n        }\n\n        return states;\n    }\n\n    /**\n     * Get svg file as text\n     * @param {string} url URL of SVG file\n     * @returns {object} Promise with \"data:image...\"\n     */\n    static getSvg(url) {\n        return fetch(url)\n            .then(response => response.blob())\n            .then(blob => {\n                return new Promise(resolve => {\n                    const reader = new FileReader();\n                    reader.onload = function() { // do not optimize this function. \"this\" is important.\n                        resolve(this.result);\n                    };\n                    reader.readAsDataURL(blob);\n                });\n            });\n    }\n\n    /**\n     * Detect file xtension by its content\n     * @param {string} base64 Base64 encoded binary file\n     * @returns {string} Detected extension, like 'jpg'\n     */\n    static detectMimeType(base64) {\n        const signature = Object.keys(SIGNATURES).find(s => base64.startsWith(s));\n        return signature ? SIGNATURES[signature] : null;\n    }\n}\n\nexport default Utils;\n","/**\n * Copyright 2020-2022, bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\nimport PropTypes from 'prop-types';\n\n/** Possible progress states. */\nexport const PROGRESS = {\n    /** The socket is connecting. */\n    CONNECTING: 0,\n    /** The socket is successfully connected. */\n    CONNECTED: 1,\n    /** All objects are loaded. */\n    OBJECTS_LOADED: 2,\n    /** The socket is ready for use. */\n    READY: 3\n};\n\nconst PERMISSION_ERROR = 'permissionError';\nconst NOT_CONNECTED    = 'notConnectedError';\nconst TIMEOUT_FOR_ADMIN4 = 1300;\n\nexport const ERRORS = {\n    PERMISSION_ERROR,\n    NOT_CONNECTED\n};\n\nfunction fixAdminUI(obj) {\n    if (obj && obj.common && !obj.common.adminUI) {\n        if (obj.common.noConfig) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.config = 'none';\n        } else if (obj.common.jsonConfig) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.config = 'json';\n        } else if (obj.common.materialize) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.config = 'materialize';\n        } else {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.config = 'html';\n        }\n\n        if (obj.common.jsonCustom) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.custom = 'json';\n        } else if (obj.common.supportCustoms) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.custom = 'json';\n        }\n\n        if (obj.common.materializeTab && obj.common.adminTab) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.tab = 'materialize';\n        } else if (obj.common.adminTab) {\n            obj.common.adminUI = obj.common.adminUI || {};\n            obj.common.adminUI.tab = 'html';\n        }\n\n        obj.common.adminUI && console.debug(`Please add to \"${obj._id.replace(/\\.\\d+$/, '')}\" common.adminUI=${JSON.stringify(obj.common.adminUI)}`);\n    }\n    return obj;\n}\n\nclass Connection {\n    /**\n     * @param {import('./types').ConnectionProps} props\n     */\n    constructor(props) {\n        props                 = props || { protocol: window.location.protocol, host: window.location.hostname };\n        this.props            = props;\n\n        this.autoSubscribes   = this.props.autoSubscribes || [];\n        this.autoSubscribeLog = this.props.autoSubscribeLog;\n\n        this.props.protocol   = this.props.protocol || window.location.protocol;\n        this.props.host       = this.props.host     || window.location.hostname;\n        this.props.port       = this.props.port     || (window.location.port === '3000' ? (Connection.isWeb() ? 8082 : 8081) : window.location.port);\n        this.props.ioTimeout  = Math.max(this.props.ioTimeout  || 20000, 20000);\n        this.props.cmdTimeout = Math.max(this.props.cmdTimeout || 5000, 5000);\n\n        // breaking change. Do not load all objects by default is true\n        this.doNotLoadAllObjects = this.props.doNotLoadAllObjects === undefined ? true : this.props.doNotLoadAllObjects;\n        this.doNotLoadACL        = this.props.doNotLoadACL        === undefined ? true : this.props.doNotLoadACL;\n\n        /** @type {Record<string, ioBroker.State>} */\n        this.states = {};\n        this.objects = null;\n        this.acl = null;\n        this.firstConnect = true;\n        this.waitForRestart = false;\n        /** @type {ioBroker.Languages} */\n        this.systemLang = 'en';\n        this.connected = false;\n        this._waitForFirstConnection = new Promise(resolve => { this._waitForFirstConnectionResolve = resolve });\n\n        /** @type {Record<string, { reg: RegExp; cbs: ioBroker.StateChangeHandler[]}>} */\n        this.statesSubscribes = {}; // subscribe for states\n\n        /** @type {Record<string, { reg: RegExp; cbs: import('./types').ObjectChangeHandler[]}>} */\n        this.objectsSubscribes = {}; // subscribe for objects\n        this.onProgress = this.props.onProgress || function () { };\n        this.onError = this.props.onError || function (err) { console.error(err); };\n        this.loaded = false;\n        this.loadTimer = null;\n        this.loadCounter = 0;\n        this.admin5only = this.props.admin5only || false;\n\n        /** @type {((connected: boolean) => void)[]} */\n        this.onConnectionHandlers = [];\n        /** @type {((message: string) => void)[]} */\n        this.onLogHandlers = [];\n\n        /** @type {Record<string, Promise<any>>} */\n        this._promises = {};\n\n        this.log.error = text => this.log(text, 'error');\n        this.log.warn = text => this.log(text, 'warn');\n        this.log.info = text => this.log(text, 'info');\n        this.log.debug = text => this.log(text, 'debug');\n        this.log.silly = text => this.log(text, 'silly');\n\n        this.startSocket();\n    }\n\n    /**\n     * Checks if this connection is running in a web adapter and not in an admin.\n     * @returns {boolean} True if running in a web adapter or in a socketio adapter.\n     */\n    static isWeb() {\n        return window.adapterName === 'material' ||\n            window.adapterName === 'vis' ||\n            window.adapterName === 'echarts-show' ||\n            window.socketUrl !== undefined;\n    }\n\n    /**\n     * Starts the socket.io connection.\n     * @returns {void}\n     */\n    startSocket() {\n        // if socket io is not yet loaded\n        if (typeof window.io === 'undefined') {\n            // if in index.html the onLoad function not defined\n            if (typeof window.registerSocketOnLoad !== 'function') {\n                // poll if loaded\n                this.scriptLoadCounter = this.scriptLoadCounter || 0;\n                this.scriptLoadCounter++;\n\n                if (this.scriptLoadCounter < 30) {\n                    // wait till the script loaded\n                    setTimeout(() => this.startSocket(), 100);\n                    return;\n                } else {\n                    window.alert('Cannot load socket.io.js!');\n                }\n            } else {\n                // register on load\n                window.registerSocketOnLoad(() => this.startSocket());\n            }\n            return;\n        } else {\n            // socket was initialized, do not repeat\n            if (this._socket) {\n                return;\n            }\n        }\n\n        let host = this.props.host;\n        let port = this.props.port;\n        let protocol = this.props.protocol.replace(':', '');\n        let path = window.location.pathname;\n\n        if (\n            window.location.hostname === 'iobroker.net' ||\n            window.location.hostname === 'iobroker.pro'\n        ) {\n            path = '';\n        } else {\n            // if web adapter, socket io could be on other port or even host\n            if (window.socketUrl) {\n                let parts = window.socketUrl.split(':');\n                host = parts[0] || host;\n                port = parts[1] || port;\n                if (host.includes('://')) {\n                    parts = host.split('://');\n                    protocol = parts[0];\n                    host = parts[1];\n                }\n            }\n            // get current path\n            const pos = path.lastIndexOf('/');\n            if (pos !== -1) {\n                path = path.substring(0, pos + 1);\n            }\n\n            if (Connection.isWeb()) {\n                // remove one level, like echarts, vis, .... We have here: '/echarts/'\n                const parts = path.split('/');\n                if (parts.length > 2) {\n                    parts.pop();\n                    parts.pop();\n                    path = parts.join('/');\n                    if (!path.endsWith('/')) {\n                        path += '/';\n                    }\n                }\n            }\n        }\n\n        const url = port ? `${protocol}://${host}:${port}${path}` : `${protocol}://${host}${path}`;\n\n        this._socket = window.io.connect(\n            url,\n            {\n                path: path.endsWith('/') ? path + 'socket.io' : path + '/socket.io',\n                query: 'ws=true',\n                name: this.props.name,\n                timeout: this.props.ioTimeout\n            }\n        );\n\n        this._socket.on('connect', noTimeout => {\n            // If the user is not admin it takes some time to install the handlers, because all rights must be checked\n            if (noTimeout !== true) {\n                setTimeout(() =>\n                    this.getVersion()\n                        .then(info => {\n                            const [major, minor, patch] = info.version.split('.');\n                            const v = parseInt(major, 10) * 10000 + parseInt(minor, 10) * 100 + parseInt(patch, 10);\n                            if (v < 40102) {\n                                this._authTimer = null;\n                                // possible this is old version of admin\n                                this.onPreConnect(false, false);\n                            } else {\n                                this._socket.emit('authenticate', (isOk, isSecure) => this.onPreConnect(isOk, isSecure));\n                            }\n                        }), 500);\n            } else {\n                // iobroker websocket waits, till all handlers are installed\n                this._socket.emit('authenticate', (isOk, isSecure) => this.onPreConnect(isOk, isSecure));\n            }\n        });\n\n        this._socket.on('reconnect', () => {\n            this.onProgress(PROGRESS.READY);\n            this.connected = true;\n\n            if (this.waitForRestart) {\n                window.location.reload(false);\n            } else {\n                this._subscribe(true);\n                this.onConnectionHandlers.forEach(cb => cb(true));\n            }\n        });\n\n        this._socket.on('disconnect', () => {\n            this.connected  = false;\n            this.subscribed = false;\n            this.onProgress(PROGRESS.CONNECTING);\n            this.onConnectionHandlers.forEach(cb => cb(false));\n        });\n\n        this._socket.on('reauthenticate', () =>\n            this.authenticate());\n\n        this._socket.on('log', message => {\n            this.props.onLog && this.props.onLog(message);\n            this.onLogHandlers.forEach(cb => cb(message));\n        });\n\n        this._socket.on('error', err => {\n            let _err = err || '';\n            if (typeof _err.toString !== 'function') {\n                _err = JSON.stringify(_err);\n                console.error(`Received strange error: ${_err}`);\n            }\n            _err = _err.toString();\n            if (_err.includes('User not authorized')) {\n                this.authenticate();\n            } else {\n                window.alert(`Socket Error: ${err}`);\n            }\n        });\n\n        this._socket.on('connect_error', err =>\n            console.error(`Connect error: ${err}`));\n\n        this._socket.on('permissionError', err =>\n            this.onError({ message: 'no permission', operation: err.operation, type: err.type, id: (err.id || '') }));\n\n        this._socket.on('objectChange', (id, obj) =>\n            setTimeout(() => this.objectChange(id, obj), 0));\n\n        this._socket.on('stateChange', (id, state) =>\n            setTimeout(() => this.stateChange(id, state), 0));\n\n        this._socket.on('cmdStdout', (id, text) =>\n            this.onCmdStdoutHandler && this.onCmdStdoutHandler(id, text));\n\n        this._socket.on('cmdStderr', (id, text) =>\n            this.onCmdStderrHandler && this.onCmdStderrHandler(id, text));\n\n        this._socket.on('cmdExit', (id, exitCode) =>\n            this.onCmdExitHandler && this.onCmdExitHandler(id, exitCode));\n    }\n\n    /**\n     * Called internally.\n     * @private\n     * @param {boolean} isOk\n     * @param {boolean} isSecure\n     */\n    onPreConnect(isOk, isSecure) {\n        if (this._authTimer) {\n            clearTimeout(this._authTimer);\n            this._authTimer = null;\n        }\n\n        this.connected = true;\n        this.isSecure = isSecure;\n\n        if (this.waitForRestart) {\n            window.location.reload(false);\n        } else {\n            if (this.firstConnect) {\n                // retry strategy\n                this.loadTimer = setTimeout(() => {\n                    this.loadTimer = null;\n                    this.loadCounter++;\n                    if (this.loadCounter < 10) {\n                        this.onConnect();\n                    }\n                }, 1000);\n\n                if (!this.loaded) {\n                    this.onConnect();\n                }\n            } else {\n                this.onProgress(PROGRESS.READY);\n            }\n\n            this._subscribe(true);\n            this.onConnectionHandlers.forEach(cb => cb(true));\n        }\n\n        if (this._waitForFirstConnectionResolve) {\n            this._waitForFirstConnectionResolve();\n            this._waitForFirstConnectionResolve = null;\n        }\n    }\n\n    /**\n     * Checks if the socket is connected.\n     * @returns {boolean} true if connected.\n     */\n    isConnected() {\n        return this.connected;\n    }\n\n    /**\n     * Checks if the socket is connected.\n     * @returns {Promise<void>} Promise resolves if once connected.\n     */\n    waitForFirstConnection() {\n        return this._waitForFirstConnection;\n    }\n\n    /**\n     * Called internally.\n     * @private\n     */\n    _getUserPermissions(cb) {\n        if (this.doNotLoadACL) {\n            return cb && cb();\n        } else {\n            this._socket.emit('getUserPermissions', cb);\n        }\n    }\n\n    /**\n     * Called internally.\n     * @private\n     */\n    onConnect() {\n        this._getUserPermissions((err, acl) => {\n            if (err) {\n                return this.onError('Cannot read user permissions: ' + err);\n            } else\n            if (!this.doNotLoadACL) {\n                if (this.loaded) {\n                    return;\n                }\n                this.loaded = true;\n                clearTimeout(this.loadTimer);\n                this.loadTimer = null;\n\n                this.onProgress(PROGRESS.CONNECTED);\n                this.firstConnect = false;\n\n                this.acl = acl;\n            }\n\n            // Read system configuration\n            return (this.admin5only && !window.vendorPrefix ? this.getCompactSystemConfig() : this.getSystemConfig())\n                .then(data => {\n                    if (this.doNotLoadACL) {\n                        if (this.loaded) {\n                            return undefined;\n                        }\n                        this.loaded = true;\n                        clearTimeout(this.loadTimer);\n                        this.loadTimer = null;\n\n                        this.onProgress(PROGRESS.CONNECTED);\n                        this.firstConnect = false;\n                    }\n\n                    this.systemConfig = data;\n                    if (this.systemConfig && this.systemConfig.common) {\n                        this.systemLang = this.systemConfig.common.language;\n                    } else {\n                        this.systemLang = window.navigator.userLanguage || window.navigator.language;\n\n                        if (this.systemLang !== 'en' && this.systemLang !== 'de' && this.systemLang !== 'ru') {\n                            this.systemConfig.common.language = 'en';\n                            this.systemLang = 'en';\n                        }\n                    }\n\n                    this.props.onLanguage && this.props.onLanguage(this.systemLang);\n\n                    if (!this.doNotLoadAllObjects) {\n                        return this.getObjects()\n                            .then(() => {\n                                this.onProgress(PROGRESS.READY);\n                                this.props.onReady && this.props.onReady(this.objects);\n                            });\n                    } else {\n                        this.objects = this.admin5only ? {} : { 'system.config': data };\n                        this.onProgress(PROGRESS.READY);\n                        this.props.onReady && this.props.onReady(this.objects);\n                    }\n                    return undefined;\n                })\n                .catch(e => this.onError('Cannot read system config: ' + e));\n        });\n    }\n\n    /**\n     * Called internally.\n     * @private\n     */\n    authenticate() {\n        if (window.location.search.includes('&href=')) {\n            window.location = `${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`;\n        } else {\n            window.location = `${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`;\n        }\n    }\n\n    /**\n     * Subscribe to changes of the given state.\n     * @param {string} id The ioBroker state ID.\n     * @param {ioBroker.StateChangeHandler} cb The callback.\n     */\n    /**\n     * Subscribe to changes of the given state.\n     * @param {string} id The ioBroker state ID.\n     * @param {boolean} binary Set to true if the given state is binary and requires Base64 decoding.\n     * @param {ioBroker.StateChangeHandler} cb The callback.\n     */\n    subscribeState(id, binary, cb) {\n        if (typeof binary === 'function') {\n            cb = binary;\n            binary = false;\n        }\n\n        if (!this.statesSubscribes[id]) {\n            let reg = id\n                .replace(/\\./g, '\\\\.')\n                .replace(/\\*/g, '.*')\n                .replace(/\\(/g, '\\\\(')\n                .replace(/\\)/g, '\\\\)')\n                .replace(/\\+/g, '\\\\+')\n                .replace(/\\[/g, '\\\\[');\n\n            if (reg.indexOf('*') === -1) {\n                reg += '$';\n            }\n            this.statesSubscribes[id] = { reg: new RegExp(reg), cbs: [] };\n            this.statesSubscribes[id].cbs.push(cb);\n            if (this.connected) {\n                this._socket.emit('subscribe', id);\n            }\n        } else {\n            !this.statesSubscribes[id].cbs.includes(cb) && this.statesSubscribes[id].cbs.push(cb);\n        }\n        if (typeof cb === 'function' && this.connected) {\n            if (binary) {\n                this.getBinaryState(id)\n                    .then(base64 => cb(id, base64))\n                    .catch(e => console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(e)}`));\n            } else {\n                if (Connection.isWeb()) {\n                    this._socket.emit('getStates', id, (err, states) => {\n                        err && console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(err)}`);\n                        states && Object.keys(states).forEach(id => cb(id, states[id]));\n                    });\n                } else {\n                    this._socket.emit('getForeignStates', id, (err, states) => {\n                        err && console.error(`Cannot getForeignStates \"${id}\": ${JSON.stringify(err)}`);\n                        states && Object.keys(states).forEach(id => cb(id, states[id]));\n                    });\n                }\n            }\n        }\n    }\n\n    /**\n     * Unsubscribes all callbacks from changes of the given state.\n     * @param {string} id The ioBroker state ID.\n     */\n    /**\n     * Unsubscribes the given callback from changes of the given state.\n     * @param {string} id The ioBroker state ID.\n     * @param {ioBroker.StateChangeHandler} cb The callback.\n     */\n    unsubscribeState(id, cb) {\n        if (this.statesSubscribes[id]) {\n            if (cb) {\n                const pos = this.statesSubscribes[id].cbs.indexOf(cb);\n                pos !== -1 && this.statesSubscribes[id].cbs.splice(pos, 1);\n            } else {\n                this.statesSubscribes[id].cbs = [];\n            }\n\n            if (!this.statesSubscribes[id].cbs || !this.statesSubscribes[id].cbs.length) {\n                delete this.statesSubscribes[id];\n                this.connected && this._socket.emit('unsubscribe', id);\n            }\n        }\n    }\n\n    /**\n     * Subscribe to changes of the given object.\n     * @param {string} id The ioBroker object ID.\n     * @param {import('./types').ObjectChangeHandler} cb The callback.\n     * @returns {Promise<void>}\n     */\n    subscribeObject(id, cb) {\n        if (!this.objectsSubscribes[id]) {\n            let reg = id.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*');\n            if (!reg.includes('*')) {\n                reg += '$';\n            }\n            this.objectsSubscribes[id] = { reg: new RegExp(reg), cbs: [] };\n            this.objectsSubscribes[id].cbs.push(cb);\n            this.connected && this._socket.emit('subscribeObjects', id);\n        } else {\n            !this.objectsSubscribes[id].cbs.includes(cb) && this.objectsSubscribes[id].cbs.push(cb);\n        }\n        return Promise.resolve();\n    }\n\n    /**\n     * Unsubscribes all callbacks from changes of the given object.\n     * @param {string} id The ioBroker object ID.\n     * @returns {Promise<void>}\n     */\n    /**\n     * Unsubscribes the given callback from changes of the given object.\n     * @param {string} id The ioBroker object ID.\n     * @param {import('./types').ObjectChangeHandler} cb The callback.\n     * @returns {Promise<void>}\n     */\n    unsubscribeObject(id, cb) {\n        if (this.objectsSubscribes[id]) {\n            if (cb) {\n                const pos = this.objectsSubscribes[id].cbs.indexOf(cb);\n                pos !== -1 && this.objectsSubscribes[id].cbs.splice(pos, 1);\n            } else {\n                this.objectsSubscribes[id].cbs = [];\n            }\n\n            if (this.connected && (!this.objectsSubscribes[id].cbs || !this.objectsSubscribes[id].cbs.length)) {\n                delete this.objectsSubscribes[id];\n                this.connected && this._socket.emit('unsubscribeObjects', id);\n            }\n        }\n        return Promise.resolve();\n    }\n\n    /**\n     * Called internally.\n     * @private\n     * @param {string} id\n     * @param {ioBroker.Object | null | undefined} obj\n     */\n    objectChange(id, obj) {\n        // update main.objects cache\n        if (!this.objects) {\n            return;\n        }\n\n        /** @type {import(\"./types\").OldObject} */\n        let oldObj;\n\n        let changed = false;\n        if (obj) {\n            if (obj._rev && this.objects[id]) {\n                this.objects[id]._rev = obj._rev;\n            }\n\n            if (this.objects[id]) {\n                oldObj = { _id: id, type: this.objects[id].type };\n            }\n\n            if (!this.objects[id] || JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                this.objects[id] = obj;\n                changed = true;\n            }\n        } else if (this.objects[id]) {\n            oldObj = { _id: id, type: this.objects[id].type };\n            delete this.objects[id];\n            changed = true;\n        }\n\n        Object.keys(this.objectsSubscribes).forEach(_id => {\n            if (_id === id || this.objectsSubscribes[_id].reg.test(id)) {\n                //@ts-ignore\n                this.objectsSubscribes[_id].cbs.forEach(cb => cb(id, obj, oldObj));\n            }\n        });\n\n        if (changed && this.props.onObjectChange) {\n            this.props.onObjectChange(id, obj);\n        }\n    }\n\n    /**\n     * Called internally.\n     * @private\n     * @param {string} id\n     * @param {ioBroker.State | null | undefined} state\n     */\n    stateChange(id, state) {\n        for (const task in this.statesSubscribes) {\n            if (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\n                this.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\n            }\n        }\n    }\n\n    /**\n     * Gets all states.\n     * @param {boolean} disableProgressUpdate don't call onProgress() when done\n     * @returns {Promise<Record<string, ioBroker.State>>}\n     */\n    getStates(disableProgressUpdate) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getStates', (err, res) => {\n                this.states = res;\n                //@ts-ignore\n                !disableProgressUpdate && this.onProgress(PROGRESS.STATES_LOADED);\n                return err ? reject(err) : resolve(this.states);\n            }));\n    }\n\n    /**\n     * Gets the given state.\n     * @param {string} id The state ID.\n     * @returns {Promise<ioBroker.State | null | undefined>}\n     */\n    getState(id) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getState', id, (err, state) => err ? reject(err) : resolve(state)));\n    }\n\n    /**\n     * Gets the given binary state.\n     * @param {string} id The state ID.\n     * @returns {Promise<Buffer | undefined>}\n     */\n    getBinaryState(id) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        // the data will come in base64\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getBinaryState', id, (err, state) => err ? reject(err) : resolve(state)));\n    }\n\n    /**\n     * Sets the given binary state.\n     * @param {string} id The state ID.\n     * @param {string} base64 The Base64 encoded binary data.\n     * @returns {Promise<void>}\n     */\n    setBinaryState(id, base64) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        // the data will come in base64\n        return new Promise((resolve, reject) =>\n            this._socket.emit('setBinaryState', id, base64, err => err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Sets the given state value.\n     * @param {string} id The state ID.\n     * @param {string | number | boolean | ioBroker.State | ioBroker.SettableState | null} val The state value.\n     * @param {boolean | null} ack Acknowledge flag\n     * @returns {Promise<void>}\n     */\n    setState(id, val, ack) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (typeof ack === 'boolean') {\n            val = { val, ack };\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('setState', id, val, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Gets all objects.\n     * @param {(objects?: Record<string, ioBroker.Object>) => void} update Callback that is executed when all objects are retrieved.\n     * @returns {void}\n     */\n    /**\n     * Gets all objects.\n     * @param {boolean} update Set to true to retrieve all objects from the server (instead of using the local cache).\n     * @param {boolean} disableProgressUpdate don't call onProgress() when done\n     * @returns {Promise<Record<string, ioBroker.Object>> | undefined}\n     */\n    getObjects(update, disableProgressUpdate) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        } else {\n            return new Promise((resolve, reject) => {\n                if (!update && this.objects) {\n                    return resolve(this.objects);\n                }\n\n                this._socket.emit(Connection.isWeb() ? 'getObjects' : 'getAllObjects', (err, res) => {\n                    this.objects = res;\n                    disableProgressUpdate && this.onProgress(PROGRESS.OBJECTS_LOADED);\n                    err ? reject(err) : resolve(this.objects);\n                });\n            });\n        }\n    }\n\n    /**\n     * Called internally.\n     * @private\n     * @param {boolean} isEnable\n     */\n    _subscribe(isEnable) {\n        if (isEnable && !this.subscribed) {\n            this.subscribed = true;\n            this.autoSubscribes.forEach(id => this._socket.emit('subscribeObjects', id));\n            // re subscribe objects\n            Object.keys(this.objectsSubscribes).forEach(id => this._socket.emit('subscribeObjects', id));\n            // re-subscribe logs\n            this.autoSubscribeLog && this._socket.emit('requireLog', true);\n            // re subscribe states\n            Object.keys(this.statesSubscribes).forEach(id => this._socket.emit('subscribe', id));\n        } else if (!isEnable && this.subscribed) {\n            this.subscribed = false;\n            // un-subscribe objects\n            this.autoSubscribes.forEach(id => this._socket.emit('unsubscribeObjects', id));\n            Object.keys(this.objectsSubscribes).forEach(id => this._socket.emit('unsubscribeObjects', id));\n            // un-subscribe logs\n            this.autoSubscribeLog && this._socket.emit('requireLog', false);\n\n            // un-subscribe states\n            Object.keys(this.statesSubscribes).forEach(id => this._socket.emit('unsubscribe', id));\n        }\n    }\n\n    /**\n     * Requests log updates.\n     * @param {boolean} isEnabled Set to true to get logs.\n     * @returns {Promise<void>}\n     */\n    requireLog(isEnabled) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('requireLog', isEnabled, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Deletes the given object.\n     * @param {string} id The object ID.\n     * @param {boolean} maintenance Force deletion of non conform IDs.\n     * @returns {Promise<void>}\n     */\n    delObject(id, maintenance) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('delObject', id, { maintenance: !!maintenance }, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Deletes the given object and all its children.\n     * @param {string} id The object ID.\n     * @param {boolean} maintenance Force deletion of non conform IDs.\n     * @returns {Promise<void>}\n     */\n    delObjects(id, maintenance) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('delObjects', id, {maintenance: !!maintenance}, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Sets the object.\n     * @param {string} id The object ID.\n     * @param {ioBroker.SettableObject} obj The object.\n     * @returns {Promise<void>}\n     */\n    setObject(id, obj) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!obj) {\n            return Promise.reject('Null object is not allowed');\n        }\n\n        obj = JSON.parse(JSON.stringify(obj));\n\n        if (obj.hasOwnProperty('from')) {\n            delete obj.from;\n        }\n        if (obj.hasOwnProperty('user')) {\n            delete obj.user;\n        }\n        if (obj.hasOwnProperty('ts')) {\n            delete obj.ts;\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('setObject', id, obj, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Gets the object with the given id from the server.\n     * @param {string} id The object ID.\n     * @returns {ioBroker.GetObjectPromise} The object.\n     */\n    getObject(id) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getObject', id, (err, obj) =>\n                err ? reject(err) : resolve(obj)));\n    }\n\n    /**\n     * Get all adapter instances.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    /**\n     * Get all instances of the given adapter.\n     * @param {string} adapter The name of the adapter.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getAdapterInstances(adapter, update) {\n        if (typeof adapter === 'boolean') {\n            update = adapter;\n            adapter = '';\n        }\n        adapter = adapter || '';\n\n        if (!update && this._promises['instances_' + adapter]) {\n            return this._promises['instances_' + adapter];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['instances_' + adapter] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                timeout = null;\n                this.getObjectView(\n                    `system.adapter.${adapter ? adapter + '.' : ''}`,\n                    `system.adapter.${adapter ? adapter + '.' : ''}\\u9999`,\n                    'instance'\n                )\n                    .then(items => resolve(Object.keys(items).map(id => fixAdminUI(items[id]))))\n                    .catch(e => reject(e));\n            }, TIMEOUT_FOR_ADMIN4);\n\n            this._socket.emit('getAdapterInstances', adapter, (err, instances) => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    return err ? reject(err) : resolve(instances);\n                }\n            });\n        });\n\n        return this._promises['instances_' + adapter];\n    }\n\n    /**\n     * Get all adapters.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    /**\n     * Get adapters with the given name.\n     * @param {string} adapter The name of the adapter.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getAdapters(adapter, update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (typeof adapter === 'boolean') {\n            update = adapter;\n            adapter = '';\n        }\n\n        adapter = adapter || '';\n\n        if (!update && this._promises['adapter_' + adapter]) {\n            return this._promises['adapter_' + adapter];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['adapter_' + adapter] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                timeout = null;\n                this.getObjectView(\n                    `system.adapter.${adapter}.`,\n                    `system.adapter.${adapter}.\\u9999`,\n                    'adapter'\n                )\n                    .then(items => resolve(Object.keys(items).map(id => fixAdminUI(items[id]))))\n                    .catch(e => reject(e));\n            }, TIMEOUT_FOR_ADMIN4);\n\n            this._socket.emit('getAdapters', adapter, (err, adapters) => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    return err ? reject(err) : resolve(adapters);\n                }\n            });\n        });\n\n        return this._promises['adapter_' + adapter];\n    }\n\n    /**\n     * Called internally.\n     * @private\n     * @param {any[]} objs\n     * @param {(err?: any) => void} cb\n     */\n    _renameGroups(objs, cb) {\n        if (!objs || !objs.length) {\n            cb && cb();\n        } else {\n            let obj = objs.pop();\n            let oldId = obj._id;\n            obj._id = obj.newId;\n            delete obj.newId;\n\n            this.setObject(obj._id, obj)\n                .then(() => this.delObject(oldId))\n                .then(() => setTimeout(() => this._renameGroups(objs, cb), 0))\n                .catch(err => cb && cb(err));\n        }\n    }\n\n    /**\n     * Rename a group.\n     * @param {string} id The id.\n     * @param {string} newId The new id.\n     * @param {string | { [lang in ioBroker.Languages]?: string; }} newName The new name.\n     */\n    renameGroup(id, newId, newName) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        return this.getGroups(true)\n            .then(groups => {\n                if (groups.length) {\n                    // find all elements\n                    const groupsToRename = groups\n                        .filter(group => group._id.startsWith(id + '.'));\n\n                    groupsToRename.forEach(group => group.newId = newId + group._id.substring(id.length));\n\n                    return new Promise((resolve, reject) =>\n                        this._renameGroups(groupsToRename, err => err ? reject(err) : resolve()))\n                        .then(() => {\n                            const obj = groups.find(group => group._id === id);\n\n                            if (obj) {\n                                obj._id = newId;\n                                if (newName !== undefined) {\n                                    obj.common = obj.common || {};\n                                    obj.common.name = newName;\n                                }\n\n                                return this.setObject(obj._id, obj)\n                                    .then(() => this.delObject(id));\n                            }\n                        });\n                }\n            });\n    }\n\n    /**\n     * Sends a message to a specific instance or all instances of some specific adapter.\n     * @param {string} instance The instance to send this message to.\n     * @param {string} [command] Command name of the target instance.\n     * @param {ioBroker.MessagePayload} [data] The message data to send.\n     * @returns {Promise<ioBroker.Message | undefined>}\n     */\n    sendTo(instance, command, data) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise(resolve =>\n            this._socket.emit('sendTo', instance, command, data, result =>\n                resolve(result)));\n    }\n\n    /**\n     * Extend an object and create it if it might not exist.\n     * @param {string} id The id.\n     * @param {ioBroker.PartialObject} obj The object.\n     */\n    extendObject(id, obj) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        obj = JSON.parse(JSON.stringify(obj));\n\n        if (obj.hasOwnProperty('from')) {\n            delete obj.from;\n        }\n        if (obj.hasOwnProperty('user')) {\n            delete obj.user;\n        }\n        if (obj.hasOwnProperty('ts')) {\n            delete obj.ts;\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('extendObject', id, obj, err => err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Register a handler for log messages.\n     * @param {(message: string) => void} handler The handler.\n     */\n    registerLogHandler(handler) {\n        !this.onLogHandlers.includes(handler) && this.onLogHandlers.push(handler);\n    }\n\n    /**\n     * Unregister a handler for log messages.\n     * @param {(message: string) => void} handler The handler.\n     */\n    unregisterLogHandler(handler) {\n        const pos = this.onLogHandlers.indexOf(handler);\n        pos !== -1 && this.onLogHandlers.splice(pos, 1);\n    }\n\n    /**\n     * Register a handler for the connection state.\n     * @param {(connected: boolean) => void} handler The handler.\n     */\n    registerConnectionHandler(handler) {\n        !this.onConnectionHandlers.includes(handler) && this.onConnectionHandlers.push(handler);\n    }\n\n    /**\n     * Unregister a handler for the connection state.\n     * @param {(connected: boolean) => void} handler The handler.\n     */\n    unregisterConnectionHandler(handler) {\n        const pos = this.onConnectionHandlers.indexOf(handler);\n        pos !== -1 && this.onConnectionHandlers.splice(pos, 1);\n    }\n\n    /**\n     * Set the handler for standard output of a command.\n     * @param {(id: string, text: string) => void} handler The handler.\n     */\n    registerCmdStdoutHandler(handler) {\n        this.onCmdStdoutHandler = handler;\n    }\n\n    /**\n     * Unset the handler for standard output of a command.\n     * @param {(id: string, text: string) => void} handler The handler.\n     */\n    unregisterCmdStdoutHandler(handler) {\n        this.onCmdStdoutHandler = null;\n    }\n\n    /**\n     * Set the handler for standard error of a command.\n     * @param {(id: string, text: string) => void} handler The handler.\n     */\n    registerCmdStderrHandler(handler) {\n        this.onCmdStderrHandler = handler;\n    }\n\n    /**\n     * Unset the handler for standard error of a command.\n     * @param {(id: string, text: string) => void} handler The handler.\n     */\n    unregisterCmdStderrHandler(handler) {\n        this.onCmdStderrHandler = null;\n    }\n\n    /**\n     * Set the handler for exit of a command.\n     * @param {(id: string, exitCode: number) => void} handler The handler.\n     */\n    registerCmdExitHandler(handler) {\n        this.onCmdExitHandler = handler;\n    }\n\n    /**\n     * Unset the handler for exit of a command.\n     * @param {(id: string, exitCode: number) => void} handler The handler.\n     */\n    unregisterCmdExitHandler(handler) {\n        this.onCmdExitHandler = null;\n    }\n\n    /**\n     * Get all enums with the given name.\n     * @param {string} [_enum] The name of the enum\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<Record<string, ioBroker.Object>>}\n     */\n    getEnums(_enum, update) {\n        if (!update && this._promises['enums_' + (_enum || 'all')]) {\n            return this._promises['enums_' + (_enum || 'all')];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['enums_' + (_enum || 'all')] = new Promise((resolve, reject) => {\n            this._socket.emit('getObjectView', 'system', 'enum', { startkey: 'enum.' + (_enum || ''), endkey: 'enum.' + (_enum ? (_enum + '.') : '') + '\\u9999' }, (err, res) => {\n                if (!err && res) {\n                    const _res = {};\n                    for (let i = 0; i < res.rows.length; i++) {\n                        if (_enum && res.rows[i].id === 'enum.' + _enum) {\n                            continue;\n                        }\n                        _res[res.rows[i].id] = res.rows[i].value;\n                    }\n                    resolve(_res);\n                } else {\n                    reject(err);\n                }\n            });\n        });\n\n        return this._promises['enums_' + (_enum || 'all')];\n    }\n\n    /**\n     * Query a predefined object view.\n     * @param {string} start The start ID.\n     * @param {string} end The end ID.\n     * @param {string} type The type of object.\n     * @returns {Promise<Record<string, ioBroker.Object>>}\n     */\n    getObjectView(start, end, type) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        start = start || '';\n        end   = end   || '\\u9999';\n\n        return new Promise((resolve, reject) => {\n            this._socket.emit('getObjectView', 'system', type, { startkey: start, endkey: end }, (err, res) => {\n                if (!err) {\n                    const _res = {};\n                    if (res && res.rows) {\n                        for (let i = 0; i < res.rows.length; i++) {\n                            _res[res.rows[i].id] = res.rows[i].value;\n                        }\n                    }\n                    resolve(_res);\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    }\n\n    /**\n     * Get the stored certificates.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<{name: string; type: 'public' | 'private' | 'chained'}[]>}\n     */\n    getCertificates(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (this._promises.cert && !update) {\n            return this._promises.cert;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.cert = this.getObject('system.certificates')\n            .then(res => {\n                const certs = [];\n                if (res && res.native && res.native.certificates) {\n                    Object.keys(res.native.certificates).forEach(c => {\n                        const cert = res.native.certificates[c];\n                        if (!cert) {\n                            return;\n                        }\n                        const _cert = {\n                            name: c,\n                            type: ''\n                        };\n                        // If it is filename, it could be everything\n                        if (cert.length < 700 && (cert.indexOf('/') !== -1 || cert.indexOf('\\\\') !== -1)) {\n                            if (c.toLowerCase().includes('private')) {\n                                _cert.type = 'private';\n                            } else if (cert.toLowerCase().includes('private')) {\n                                _cert.type = 'private';\n                            } else if (c.toLowerCase().includes('public')) {\n                                _cert.type = 'public';\n                            } else if (cert.toLowerCase().includes('public')) {\n                                _cert.type = 'public';\n                            }\n                            certs.push(_cert);\n                        } else {\n                            _cert.type = (cert.substring(0, '-----BEGIN RSA PRIVATE KEY'.length) === '-----BEGIN RSA PRIVATE KEY' || cert.substring(0, '-----BEGIN PRIVATE KEY'.length) === '-----BEGIN PRIVATE KEY') ? 'private' : 'public';\n\n                            if (_cert.type === 'public') {\n                                const m = cert.split('-----END CERTIFICATE-----');\n                                if (m.filter(t => t.replace(/\\r\\n|\\r|\\n/, '').trim()).length > 1) {\n                                    _cert.type = 'chained';\n                                }\n                            }\n\n                            certs.push(_cert);\n                        }\n                    });\n                }\n                return certs;\n            });\n\n        return this._promises.cert;\n    }\n\n    /**\n     * Get the logs from a host (only for admin connection).\n     * @param {string} host\n     * @param {number} [linesNumber]\n     * @returns {Promise<string[]>}\n     */\n    getLogs(host, linesNumber) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise(resolve =>\n            this._socket.emit('sendToHost', host, 'getLogs', linesNumber || 200, lines =>\n                resolve(lines)));\n    }\n\n    /**\n     * Get the log files (only for admin connection).\n     * @returns {Promise<string[]>}\n     */\n    getLogsFiles(host) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('readLogs', host, (err, files) =>\n                err ? reject(err) : resolve(files)));\n    }\n\n    /**\n     * Delete the logs from a host (only for admin connection).\n     * @param {string} host\n     * @returns {Promise<void>}\n     */\n    delLogs(host) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('sendToHost', host, 'delLogs', null, error =>\n                error ? reject(error) : resolve()));\n    }\n\n    /**\n     * Read the meta items.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    readMetaItems() {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getObjectView', 'system', 'meta', { startkey: '', endkey: '\\u9999' }, (err, objs) =>\n                err ? reject(err) : resolve(objs.rows && objs.rows.map(obj => obj.value))));\n    }\n\n    /**\n     * Read the directory of an adapter.\n     * @param {string} adapter The adapter name.\n     * @param {string} fileName The directory name.\n     * @returns {Promise<ioBroker.ReadDirResult[]>}\n     */\n    readDir(adapter, fileName) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('readDir', adapter, fileName, (err, files) =>\n                err ? reject(err) : resolve(files)));\n    }\n\n    /**\n     * Read a file of an adapter.\n     * @param {string} adapter The adapter name.\n     * @param {string} fileName The file name.\n     * @param {boolean} base64 If it must be a base64 format\n     * @returns {Promise<string>}\n     */\n    readFile(adapter, fileName, base64) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) => {\n            if (!base64) {\n                this._socket.emit('readFile', adapter, fileName, (err, data, type) => {\n                    //@ts-ignore\n                    err ? reject(err) : resolve({data, type});\n                });\n            } else {\n                this._socket.emit('readFile64', adapter, fileName, base64, (err, data) =>\n                    err ? reject(err) : resolve(data));\n            }\n        });\n    }\n\n    /**\n     * Write a file of an adapter.\n     * @param {string} adapter The adapter name.\n     * @param {string} fileName The file name.\n     * @param {Buffer | string} data The data (if it's a Buffer, it will be converted to Base64).\n     * @returns {Promise<void>}\n     */\n    writeFile64(adapter, fileName, data) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) => {\n            if (typeof data === 'string') {\n                this._socket.emit('writeFile', adapter, fileName, data, err =>\n                    err ? reject(err) : resolve());\n            } else {\n                const base64 = btoa(\n                    new Uint8Array(data)\n                        .reduce((data, byte) => data + String.fromCharCode(byte), '')\n                );\n\n                this._socket.emit('writeFile64', adapter, fileName, base64, err =>\n                    err ? reject(err) : resolve());\n            }\n        });\n    }\n\n    /**\n     * Rename a file or folder of an adapter.\n     *\n     * All files in folder will be renamed too.\n     * @param {string} adapter The adapter name.\n     * @param {string} oldName The file name of the file to be renamed.\n     * @param {string} newName The new file name.\n     * @returns {Promise<void>}\n     */\n    rename(adapter, oldName, newName) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('rename', adapter, oldName, newName, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Delete a file of an adapter.\n     * @param {string} adapter The adapter name.\n     * @param {string} fileName The file name.\n     * @returns {Promise<void>}\n     */\n    deleteFile(adapter, fileName) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('unlink', adapter, fileName, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Delete a folder of an adapter.\n     * All files in folder will be deleted.\n     * @param {string} adapter The adapter name.\n     * @param {string} folderName The folder name.\n     * @returns {Promise<void>}\n     */\n    deleteFolder(adapter, folderName) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('deleteFolder', adapter, folderName, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Get the list of all hosts.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getHosts(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.hosts) {\n            return this._promises.hosts;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.hosts = new Promise((resolve, reject) =>\n            this._socket.emit(\n                'getObjectView',\n                'system',\n                'host',\n                {startkey: 'system.host.', endkey: 'system.host.\\u9999'},\n                (err, doc) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(doc.rows.map(item => item.value));\n                    }\n                }));\n\n        return this._promises.hosts;\n    }\n\n    /**\n     * Get the list of all users.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getUsers(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.users) {\n            return this._promises.users;\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.users = new Promise((resolve, reject) =>\n            this._socket.emit(\n                'getObjectView',\n                'system',\n                'user',\n                {startkey: 'system.user.', endkey: 'system.user.\\u9999'},\n                (err, doc) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(doc.rows.map(item => item.value));\n                    }\n                }));\n\n        return this._promises.users;\n    }\n\n    /**\n     * Get the list of all groups.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getGroups(update) {\n        if (!update && this._promises.groups) {\n            return this._promises.groups;\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.groups = new Promise((resolve, reject) =>\n            this._socket.emit(\n                'getObjectView',\n                'system',\n                'group',\n                {startkey: 'system.group.', endkey: 'system.group.\\u9999'},\n                (err, doc) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(doc.rows.map(item => item.value));\n                    }\n                }));\n\n        return this._promises.groups;\n    }\n\n    /**\n     * Get the host information.\n     * @param {string} host\n     * @param {boolean} [update] Force update.\n     * @param {number} [timeoutMs] optional read timeout.\n     * @returns {Promise<any>}\n     */\n    getHostInfo(host, update, timeoutMs) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        if (!update && this._promises['hostInfo' + host]) {\n            return this._promises['hostInfo' + host];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['hostInfo' + host] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getHostInfo timeout');\n                }\n            }, timeoutMs || this.props.cmdTimeout);\n\n            this._socket.emit('sendToHost', host, 'getHostInfo', null, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getHostInfo\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getHostInfo\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises['hostInfo' + host];\n    }\n\n    /**\n     * Get the host information (short version).\n     * @param {string} host\n     * @param {boolean} [update] Force update.\n     * @param {number} [timeoutMs] optional read timeout.\n     * @returns {Promise<any>}\n     */\n    getHostInfoShort(host, update, timeoutMs) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        if (!update && this._promises['hostInfoShort' + host]) {\n            return this._promises['hostInfoShort' + host];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['hostInfoShort' + host] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('hostInfoShort timeout');\n                }\n            }, timeoutMs || this.props.cmdTimeout);\n\n            this._socket.emit('sendToHost', host, 'getHostInfoShort', null, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getHostInfoShort\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getHostInfoShort\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises['hostInfoShort' + host];\n    }\n\n    /**\n     * Get the repository.\n     * @param {string} host\n     * @param {any} [args]\n     * @param {boolean} [update] Force update.\n     * @param {number} [timeoutMs] timeout in ms.\n     * @returns {Promise<any>}\n     */\n    getRepository(host, args, update, timeoutMs) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.repo) {\n            return this._promises.repo;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        this._promises.repo = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getRepository timeout');\n                }\n            }, timeoutMs || this.props.cmdTimeout);\n\n            this._socket.emit('sendToHost', host, 'getRepository', args, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getRepository\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getRepository\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises.repo;\n    }\n\n    /**\n     * Get the installed.\n     * @param {string} host\n     * @param {boolean} [update] Force update.\n     * @param {number} [cmdTimeout] timeout in ms (optional)\n     * @returns {Promise<any>}\n     */\n    getInstalled(host, update, cmdTimeout) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        this._promises.installed = this._promises.installed || {};\n\n        if (!update && this._promises.installed[host]) {\n            return this._promises.installed[host];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        this._promises.installed[host] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getInstalled timeout');\n                }\n            }, cmdTimeout || this.props.cmdTimeout);\n\n            this._socket.emit('sendToHost', host, 'getInstalled', null, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getInstalled\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getInstalled\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises.installed[host];\n    }\n\n    /**\n     * Execute a command on a host.\n     * @param {string} host The host name.\n     * @param {string} cmd The command.\n     * @param {string} cmdId The command ID.\n     * @param {number} cmdTimeout Timeout of command in ms\n     * @returns {Promise<void>}\n     */\n    cmdExec(host, cmd, cmdId, cmdTimeout) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!host.startsWith(host)) {\n            host += 'system.host.' + host;\n        }\n\n        return new Promise((resolve, reject) => {\n            let timeout = cmdTimeout && setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('cmdExec timeout');\n                }\n            }, cmdTimeout);\n\n            this._socket.emit('cmdExec', host, cmdId, cmd, null, err => {\n                if (!cmdTimeout || timeout) {\n                    timeout && clearTimeout(timeout);\n                    timeout = null;\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve();\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Checks if a given feature is supported.\n     * @param {string} feature The feature to check.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<any>}\n     */\n    checkFeatureSupported(feature, update) {\n        if (!update && this._promises['supportedFeatures_' + feature]) {\n            return this._promises['supportedFeatures_' + feature];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises['supportedFeatures_' + feature] = new Promise((resolve, reject) =>\n            this._socket.emit('checkFeatureSupported', feature, (err, features) => {\n                err ? reject(err) : resolve(features)\n            }));\n\n        return this._promises['supportedFeatures_' + feature];\n    }\n\n    /**\n     * Read the base settings of a given host.\n     * @param {string} host\n     * @returns {Promise<any>}\n     */\n    readBaseSettings(host) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return this.checkFeatureSupported('CONTROLLER_READWRITE_BASE_SETTINGS')\n            .then(result => {\n                if (result) {\n                    if (!this.connected) {\n                        return Promise.reject(NOT_CONNECTED);\n                    }\n                    return new Promise((resolve, reject) => {\n                        let timeout = setTimeout(() => {\n                            if (timeout) {\n                                timeout = null;\n                                reject('readBaseSettings timeout');\n                            }\n                        }, this.props.cmdTimeout);\n\n                        if (host.startsWith('system.host.')) {\n                            host = host.replace(/^system\\.host\\./, '');\n                        }\n\n                        this._socket.emit('sendToHost', host, 'readBaseSettings', null, data => {\n                            if (timeout) {\n                                clearTimeout(timeout);\n                                timeout = null;\n\n                                if (data === PERMISSION_ERROR) {\n                                    reject('May not read \"BaseSettings\"');\n                                } else if (!data) {\n                                    reject('Cannot read \"BaseSettings\"');\n                                } else {\n                                    resolve(data);\n                                }\n                            }\n                        });\n                    });\n                } else {\n                    return Promise.reject('Not supported');\n                }\n            });\n    }\n\n    /**\n     * Write the base settings of a given host.\n     * @param {string} host\n     * @param {any} config\n     * @returns {Promise<any>}\n     */\n    writeBaseSettings(host, config) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return this.checkFeatureSupported('CONTROLLER_READWRITE_BASE_SETTINGS')\n            .then(result => {\n                if (result) {\n                    if (!this.connected) {\n                        return Promise.reject(NOT_CONNECTED);\n                    }\n                    return new Promise((resolve, reject) => {\n                        let timeout = setTimeout(() => {\n                            if (timeout) {\n                                timeout = null;\n                                reject('writeBaseSettings timeout');\n                            }\n                        }, this.props.cmdTimeout);\n\n                        this._socket.emit('sendToHost', host, 'writeBaseSettings', config, data => {\n                            if (timeout) {\n                                clearTimeout(timeout);\n                                timeout = null;\n\n                                if (data === PERMISSION_ERROR) {\n                                    reject('May not write \"BaseSettings\"');\n                                } else if (!data) {\n                                    reject('Cannot write \"BaseSettings\"');\n                                } else {\n                                    resolve(data);\n                                }\n                            }\n                        });\n                    });\n                } else {\n                    return Promise.reject('Not supported');\n                }\n            })\n    }\n\n    /**\n     * Send command to restart the iobroker on host\n     * @param {string} host\n     * @returns {Promise<any>}\n     */\n    restartController(host) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return new Promise((resolve, reject) => {\n            this._socket.emit('sendToHost', host, 'restartController', null, error => {\n                error ? reject(error) : resolve(true);\n            });\n        });\n    }\n\n    /**\n     * Read statistics information from host\n     * @param {string} host\n     * @param {string} typeOfDiag one of none, normal, no-city, extended\n     * @returns {Promise<any>}\n     */\n    getDiagData(host, typeOfDiag) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return new Promise(resolve => {\n            this._socket.emit('sendToHost', host, 'getDiagData', typeOfDiag, result =>\n                resolve(result));\n        });\n    }\n\n    /**\n     * Read all states (which might not belong to this adapter) which match the given pattern.\n     * @param {string} pattern\n     * @returns {ioBroker.GetStatesPromise}\n     */\n    getForeignStates(pattern) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        if (Connection.isWeb()) {\n            return new Promise((resolve, reject) =>\n                this._socket.emit('getStates', pattern || '*', (err, states) =>\n                    err ? reject(err) : resolve(states)));\n        } else {\n            return new Promise((resolve, reject) =>\n                this._socket.emit('getForeignStates', pattern || '*', (err, states) =>\n                    err ? reject(err) : resolve(states)));\n        }\n    }\n\n    /**\n     * Get foreign objects by pattern, by specific type and resolve their enums.\n     * @param {string} pattern\n     * @param {string} [type]\n     * @returns {ioBroker.GetObjectsPromise}\n     */\n    getForeignObjects(pattern, type) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getForeignObjects', pattern || '*', type, (err, states) =>\n                err ? reject(err) : resolve(states)));\n    }\n\n    /**\n     * Gets the system configuration.\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.OtherObject>}\n     */\n    getSystemConfig(update) {\n        if (!update && this._promises.systemConfig) {\n            return this._promises.systemConfig;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.systemConfig = this.getObject('system.config')\n            .then(systemConfig => {\n                //@ts-ignore\n                systemConfig = systemConfig || {};\n                //@ts-ignore\n                systemConfig.common = systemConfig.common || {};\n                //@ts-ignore\n                systemConfig.native = systemConfig.native || {};\n                return systemConfig;\n            });\n\n        return this._promises.systemConfig;\n    }\n\n    /**\n     * Sets the system configuration.\n     * @param {ioBroker.SettableObjectWorker<ioBroker.OtherObject>} obj\n     * @returns {Promise<ioBroker.SettableObjectWorker<ioBroker.OtherObject>>}\n     */\n    setSystemConfig(obj) {\n        return this.setObject('system.config', obj)\n            .then(() => this._promises.systemConfig = Promise.resolve(obj));\n    }\n\n    /**\n     * Get the raw socket.io socket.\n     * @returns {any}\n     */\n    getRawSocket() {\n        return this._socket;\n    }\n\n    /**\n     * Get the history of a given state.\n     * @param {string} id\n     * @param {ioBroker.GetHistoryOptions} options\n     * @returns {Promise<ioBroker.GetHistoryResult>}\n     */\n    getHistory(id, options) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getHistory', id, options, (err, values) =>\n                err ? reject(err) : resolve(values)));\n    }\n\n    /**\n     * Get the history of a given state.\n     * @param {string} id\n     * @param {ioBroker.GetHistoryOptions} options\n     * @returns {Promise<{values: ioBroker.GetHistoryResult; sesionId: string; stepIgnore: number}>}\n     */\n    getHistoryEx(id, options) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getHistory', id, options, (err, values, stepIgnore, sessionId) =>\n                err ? reject(err) : resolve({ values, sessionId, stepIgnore })));\n    }\n\n    /**\n     * Change the password of the given user.\n     * @param {string} user\n     * @param {string} password\n     * @returns {Promise<void>}\n     */\n    changePassword(user, password) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('changePassword', user, password, err =>\n                err ? reject(err) : resolve()));\n    }\n\n    /**\n     * Get the IP addresses of the given host.\n     * @param {string} host\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<string[]>}\n     */\n    getIpAddresses(host, update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!host.startsWith('system.host.')) {\n            host = 'system.host.' + host;\n        }\n\n        if (!update && this._promises['IPs_' + host]) {\n            return this._promises['IPs_' + host];\n        }\n        this._promises['IPs_' + host] = this.getObject(host)\n            .then(obj => obj && obj.common ? obj.common.address || [] : []);\n\n        return this._promises['IPs_' + host];\n    }\n\n    /**\n     * Get the IP addresses with interface names of the given host or find host by IP.\n     * @param {string} ipOrHostName\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<any[<name, address, family>]>}\n     */\n    getHostByIp(ipOrHostName, update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (ipOrHostName.startsWith('system.host.')) {\n            ipOrHostName = ipOrHostName.replace(/^system\\.host\\./, '');\n        }\n\n        if (!update && this._promises['rIPs_' + ipOrHostName]) {\n            return this._promises['rIPs_' + ipOrHostName];\n        }\n        this._promises['rIPs_' + ipOrHostName] = new Promise(resolve =>\n            this._socket.emit('getHostByIp', ipOrHostName, (ip, host) => {\n                const IPs4 = [{name: '[IPv4] 0.0.0.0 - Listen on all IPs', address: '0.0.0.0', family: 'ipv4'}];\n                const IPs6 = [{name: '[IPv6] :: - Listen on all IPs',      address: '::',      family: 'ipv6'}];\n                if (host?.native?.hardware?.networkInterfaces) {\n                    for (const eth in host.native.hardware.networkInterfaces) {\n                        if (!host.native.hardware.networkInterfaces.hasOwnProperty(eth)) {\n                            continue;\n                        }\n                        for (let num = 0; num < host.native.hardware.networkInterfaces[eth].length; num++) {\n                            if (host.native.hardware.networkInterfaces[eth][num].family !== 'IPv6') {\n                                IPs4.push({name: `[${host.native.hardware.networkInterfaces[eth][num].family}] ${host.native.hardware.networkInterfaces[eth][num].address} - ${eth}`, address: host.native.hardware.networkInterfaces[eth][num].address, family: 'ipv4'});\n                            } else {\n                                IPs6.push({name: `[${host.native.hardware.networkInterfaces[eth][num].family}] ${host.native.hardware.networkInterfaces[eth][num].address} - ${eth}`, address: host.native.hardware.networkInterfaces[eth][num].address, family: 'ipv6'});\n                            }\n                        }\n                    }\n                }\n                for (let i = 0; i < IPs6.length; i++) {\n                    IPs4.push(IPs6[i]);\n                }\n                resolve(IPs4);\n            }));\n\n        return this._promises['rIPs_' + ipOrHostName];\n    }\n\n    /**\n     * Encrypt a text\n     * @param {string} text\n     * @returns {Promise<string>}\n     */\n    encrypt(text) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('encrypt', text, (err, text) =>\n                err ? reject(err) : resolve(text)));\n    }\n\n    /**\n     * Decrypt a text\n     * @param {string} encryptedText\n     * @returns {Promise<string>}\n     */\n    decrypt(encryptedText) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('decrypt', encryptedText, (err, text) =>\n                err ? reject(err) : resolve(text)));\n    }\n\n    /**\n     * Gets the version.\n     * @returns {Promise<{version: string; serverName: string}>}\n     */\n    getVersion(update) {\n        if (update && this._promises.version) {\n            this._promises.version = null;\n        }\n\n        this._promises.version = this._promises.version || new Promise((resolve, reject) =>\n            this._socket.emit('getVersion', (err, version, serverName) => {\n                // support of old socket.io\n                if (err && !version && typeof err === 'string' && err.match(/\\d+\\.\\d+\\.\\d+/)) {\n                    resolve({ version: err, serverName: 'socketio' });\n                } else {\n                    return err ? reject(err) : resolve({ version, serverName });\n                }\n            }));\n\n        return this._promises.version;\n    }\n\n    /**\n     * Gets the web server name.\n     * @returns {Promise<string>}\n     */\n    getWebServerName() {\n        this._promises.webName = this._promises.webName || new Promise((resolve, reject) =>\n            this._socket.emit('getAdapterName', (err, name) =>\n                err ? reject(err) : resolve(name)));\n\n        return this._promises.webName;\n    }\n\n    /**\n     * Gets the admin version.\n     * @deprecated use getVersion()\n     * @returns {Promise<{version: string; serverName: string}>}\n     */\n    getAdminVersion() {\n        console.log('Deprecated: use getVersion');\n        return this.getVersion();\n    }\n\n    /**\n     * Change access rights for file\n     * @param {string} [adapter] adapter name\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\n     * @param {object} [options] like {mode: 0x644}\n     * @returns {Promise<{entries: array}>}\n     */\n    chmodFile(adapter, filename, options) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('chmodFile', adapter, filename, options, (err, entries, id) =>\n                err ? reject(err) : resolve({entries, id})));\n    }\n\n    /**\n     * Change owner or/and owner group for file\n     * @param {string} [adapter] adapter name\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\n     * @param {object} [options] like {owner: 'newOwner', ownerGroup: 'newGroup'}\n     * @returns {Promise<{entries: array}>}\n     */\n    chownFile(adapter, filename, options) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('chownFile', adapter, filename, options, (err, entries, id) =>\n                err ? reject(err) : resolve({entries, id})));\n    }\n\n    /**\n     * Check if the file exists\n     * @param {string} [adapter] adapter name\n     * @param {string} [filename] file name with full path. it could be like vis.0/*\n     * @returns {Promise<boolean>}\n     */\n    fileExists(adapter, filename) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('fileExists', adapter, filename, (err, exists) =>\n                err ? reject(err) : resolve(exists)));\n    }\n\n    /**\n     * Get the alarm notifications from a host (only for admin connection).\n     * @param {string} host\n     * @param {string} [category] - optional\n     * @returns {Promise<any>}\n     */\n    getNotifications(host, category) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise(resolve =>\n            this._socket.emit('sendToHost', host, 'getNotifications', { category }, notifications =>\n                resolve(notifications)));\n    }\n\n    /**\n     * Clear the alarm notifications on a host (only for admin connection).\n     * @param {string} host\n     * @param {string} [category] - optional\n     * @returns {Promise<any>}\n     */\n    clearNotifications(host, category) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise(resolve =>\n            this._socket.emit('sendToHost', host, 'clearNotifications', {category}, notifications =>\n                resolve(notifications)));\n    }\n\n    /**\n     * Read if only easy mode is allowed  (only for admin connection).\n     * @returns {Promise<boolean>}\n     */\n    getIsEasyModeStrict() {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getIsEasyModeStrict', (error, isStrict) =>\n                error ? reject(error) : resolve(isStrict)));\n    }\n\n    /**\n     * Read easy mode configuration (only for admin connection).\n     * @returns {Promise<any>}\n     */\n    getEasyMode() {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getEasyMode', (error, config) =>\n                error ? reject(error) : resolve(config)));\n    }\n\n    /**\n     * Read current user\n     * @returns {Promise<string>}\n     */\n    getCurrentUser() {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise(resolve =>\n            this._socket.emit('authEnabled', (isSecure, user) =>\n                resolve(user)));\n    }\n\n    getCurrentSession(cmdTimeout) {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) => {\n            const controller = new AbortController();\n\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    controller.abort();\n                    reject('getCurrentSession timeout');\n                }\n            }, cmdTimeout || 5000);\n\n            return fetch('./session', { signal: controller.signal })\n                .then(res => res.json())\n                .then(json => {\n                    if (timeout) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        resolve(json);\n                    }\n                })\n                .catch(e =>\n                    reject('getCurrentSession: ' + e));\n        });\n    }\n\n    /**\n     * Read adapter ratings\n     * @returns {Promise<any>}\n     */\n    getRatings(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        return new Promise((resolve, reject) =>\n            this._socket.emit('getRatings', update, (err, ratings) =>\n                err ? reject(err) : resolve(ratings)));\n    }\n\n    /**\n     * Read current web, socketio or admin namespace, like admin.0\n     * @returns {Promise<string>}\n     */\n    getCurrentInstance() {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.currentInstance = this._promises.currentInstance ||\n            new Promise((resolve, reject) =>\n                this._socket.emit('getCurrentInstance', (err, namespace) =>\n                    err ? reject(err) : resolve(namespace)));\n\n        return this._promises.currentInstance;\n    }\n\n    // returns very optimized information for adapters to minimize connection load\n    getCompactAdapters(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.compactAdapters) {\n            return this._promises.compactAdapters;\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n        this._promises.compactAdapters = new Promise((resolve, reject) =>\n            this._socket.emit('getCompactAdapters', (err, adapters) =>\n                err ? reject(err) : resolve(adapters)));\n\n        return this._promises.compactAdapters;\n    }\n\n    getAdaptersResetCache(adapter) {\n        adapter = adapter || '';\n        this._promises.compactAdapters = null;\n        this._promises['adapter_' + adapter] = null;\n    }\n\n    // returns very optimized information for adapters to minimize connection load\n    getCompactInstances(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.compactInstances) {\n            return this._promises.compactInstances;\n        }\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.compactInstances = new Promise((resolve, reject) =>\n            this._socket.emit('getCompactInstances', (err, instances) =>\n                err ? reject(err) : resolve(instances)));\n\n        return this._promises.compactInstances;\n    }\n\n    getAdapternInstancesResetCache(adapter) {\n        adapter = adapter || '';\n        this._promises.compactInstances = null;\n        this._promises['instances_' + adapter] = null;\n    }\n\n    // returns very optimized information for adapters to minimize connection load\n    // reads only version of installed adapter\n    getCompactInstalled(host, update, cmdTimeout) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        this._promises.installedCompact = this._promises.installedCompact || {};\n\n        if (!update && this._promises.installedCompact[host]) {\n            return this._promises.installedCompact[host];\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        this._promises.installedCompact[host] = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getCompactInstalled timeout');\n                }\n            }, cmdTimeout || this.props.cmdTimeout);\n\n            this._socket.emit('getCompactInstalled', host, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getCompactInstalled\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getCompactInstalled\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises.installedCompact[host];\n    }\n\n    // returns very optimized information for adapters to minimize connection load\n    // reads only version of installed adapter\n    getCompactSystemRepositories(update, cmdTimeout) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        this._promises.installedCompact = this._promises.installedCompact || {};\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.getCompactSystemRepositories = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getCompactSystemRepositories timeout');\n                }\n            }, cmdTimeout || this.props.cmdTimeout);\n\n            this._socket.emit('getCompactSystemRepositories', data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getCompactSystemRepositories\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getCompactSystemRepositories\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises.getCompactSystemRepositories;\n    }\n\n    getInstalledResetCache(host) {\n        if (this._promises.installedCompact) {\n            this._promises.installedCompact[host] = null;\n        }\n        if (this._promises.installed) {\n            this._promises.installed[host] = null;\n        }\n    }\n\n    // returns very optimized information for adapters to minimize connection load\n    getCompactSystemConfig(update) {\n        if (!update && this._promises.systemConfigCommon) {\n            return this._promises.systemConfigCommon;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.systemConfigCommon = new Promise((resolve, reject) =>\n            this._socket.emit('getCompactSystemConfig', (err, systemConfig) =>\n                err ? reject(err) : resolve(systemConfig)));\n\n        return this._promises.systemConfigCommon;\n    }\n\n    /**\n     * Get the repository in compact form (only version and icon).\n     * @param {string} host\n     * @param {boolean} [update] Force update.\n     * @param {number} [timeoutMs] timeout in ms.\n     * @returns {Promise<any>}\n     */\n    getCompactRepository(host, update, timeoutMs) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n\n        if (!update && this._promises.repoCompact) {\n            return this._promises.repoCompact;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        if (!host.startsWith('system.host.')) {\n            host += 'system.host.' + host;\n        }\n\n        this._promises.repoCompact = new Promise((resolve, reject) => {\n            let timeout = setTimeout(() => {\n                if (timeout) {\n                    timeout = null;\n                    reject('getCompactRepository timeout');\n                }\n            }, timeoutMs || this.props.cmdTimeout);\n\n            this._socket.emit('getCompactRepository', host, data => {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    if (data === PERMISSION_ERROR) {\n                        reject('May not read \"getCompactRepository\"');\n                    } else if (!data) {\n                        reject('Cannot read \"getCompactRepository\"');\n                    } else {\n                        resolve(data);\n                    }\n                }\n            });\n        });\n\n        return this._promises.repoCompact;\n    }\n\n    getInstalledResetCache(host) {\n        this._promises.repoCompact = null;\n        this._promises.repo = null;\n    }\n\n    /**\n     * Get the list of all hosts in compact form (only _id, common.name, common.icon, common.color, native.hardware.networkInterfaces)\n     * @param {boolean} [update] Force update.\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getCompactHosts(update) {\n        if (Connection.isWeb()) {\n            return Promise.reject('Allowed only in admin');\n        }\n        if (!update && this._promises.hostsCompact) {\n            return this._promises.hostsCompact;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.hostsCompact = new Promise((resolve, reject) =>\n            this._socket.emit('getCompactHosts', (err, hosts) =>\n                err ? reject(err) : resolve(hosts)));\n\n        return this._promises.hostsCompact;\n    }\n\n    /**\n     * Get uuid\n     * @returns {Promise<ioBroker.Object[]>}\n     */\n    getUuid() {\n        if (this._promises.uuid) {\n            return this._promises.uuid;\n        }\n\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        this._promises.uuid = this.getObject('system.meta.uuid')\n            //@ts-ignore\n            .then(obj => obj?.native?.uuid);\n\n        return this._promises.uuid;\n    }\n\n    /**\n     * Send log to ioBroker log\n     * @param {string} [text] Log text\n     * @param {string} [level] `info`, `debug`, `warn`, `error` or `silly`\n     * @returns {void}\n     */\n    log(text, level) {\n        text && this._socket.emit('log', text, level || 'debug');\n    }\n\n    /**\n     * Logout current user\n     * @returns {Promise<null>}\n     */\n    logout() {\n        if (!this.connected) {\n            return Promise.reject(NOT_CONNECTED);\n        }\n\n        return new Promise((resolve, reject) =>\n            this._socket.emit('logout', err =>\n                err ? reject(err) : resolve(null)));\n    }\n}\n\nConnection.Connection = {\n    onLog: PropTypes.func,\n    onReady: PropTypes.func,\n    onProgress: PropTypes.func,\n};\n\nexport default Connection;\n","/**\n * Copyright 2019-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n\n// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\n\nimport IconCheck from '@mui/icons-material/Check';\nimport IconClose from '@mui/icons-material/Close';\n\nimport I18n from '../i18n';\n\nconst styles = {\n    suppress: {\n        fontSize: 12,\n    },\n    suppressRoot: {\n        marginTop: 16\n    }\n};\n\n/**\n * @typedef {object} DialogConfirmProps\n * @property {string} [title] The dialog title; default: Are you sure? (translated)\n * @property {string} text The dialog text.\n * @property {string} [ok] The ok button text; default: OK (translated)\n * @property {string} [cancel] The cancel button text; default: Cancel (translated)\n * @property {string} [suppressQuestionMinutes] interval in minutes for which the confirm dialog will be suppressed if activated.\n * @property {string} [suppressText] The suppress checkbox text; default: Suppress question for next %s minutes (translated)\n * @property {string} [dialogName] Name of the dialog. Used only with suppressQuestionMinutes to store the user choice\n * @property {(ok: boolean) => void} [onClose] Close handler.\n *\n * @extends {React.Component<DialogConfirmProps>}\n */\nclass DialogConfirm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        if (!this.props.dialogName && this.props.suppressQuestionMinutes) {\n            throw new Error('dialogName required if suppressQuestionMinutes used');\n        }\n        let suppress = false;\n\n        if (this.props.suppressQuestionMinutes) {\n            suppress = parseInt((window._localStorage || window.localStorage).getItem(this.props.dialogName), 10) || 0;\n\n            if (!suppress) {\n                suppress = false;\n            } else if (Date.now() > suppress) {\n                (window._localStorage || window.localStorage).removeItem(this.props.dialogName);\n                suppress = false;\n            }\n        }\n\n        this.state = {\n            suppress,\n        };\n    }\n\n    handleOk() {\n        if (this.state.suppress) {\n            (window._localStorage || window.localStorage).setItem(this.props.dialogName, Date.now() + this.props.suppressQuestionMinutes * 60000);\n        }\n        this.props.onClose && this.props.onClose(true);\n    };\n\n    handleCancel() {\n        this.props.onClose && this.props.onClose(false);\n    };\n\n    render() {\n        if (typeof this.state.suppress === 'number') {\n            setTimeout(() => this.props.onClose && this.props.onClose(true), 100);\n            return null;\n        }\n\n        return <Dialog\n            open={true}\n            maxWidth=\"md\"\n            fullWidth={true}\n            onClose={(event, reason) => {\n                if (reason !== 'backdropClick' && reason !== 'escapeKeyDown') {\n                    this.handleCancel()\n                }\n            }}\n            aria-labelledby=\"confirmation-dialog-title\"\n            aria-describedby=\"confirmation-dialog-description\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('ra_Are you sure?')}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"confirmation-dialog-description\">\n                    {this.props.icon || null}\n                    {this.props.text}\n                    {this.props.suppressQuestionMinutes ? <br/> : null}\n                    {this.props.suppressQuestionMinutes ?\n                        <FormControlLabel\n                            classes={{label: this.props.classes.suppress, root: this.props.classes.suppressRoot}}\n                            control={<Checkbox checked={!!this.state.suppress} onChange={() => this.setState({suppress: !this.state.suppress})} />}\n                            label={this.props.suppressText || I18n.t('ra_Suppress question for next %s minutes', this.props.suppressQuestionMinutes)}\n                        /> :\n                        null}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus startIcon={<IconCheck />}>{this.props.ok || I18n.t('ra_Ok')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} color=\"grey\" startIcon={<IconClose />}>{this.props.cancel || I18n.t('ra_Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogConfirm.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    ok: PropTypes.string,\n    cancel: PropTypes.string,\n    icon: PropTypes.object,\n    suppressQuestionMinutes: PropTypes.number,\n    suppressText: PropTypes.string,\n    dialogName: PropTypes.string,\n};\n\nconst _export = withStyles(styles)(DialogConfirm);\nexport default _export;","/**\n * Copyright 2018-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n// please do not delete React, as without it other projects could not be compiled: ReferenceError: React is not defined\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nimport IconCheck from '@mui/icons-material/Check';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n    titleBackground: {\n\n    },\n    titleColor: {\n\n    }\n});\n\n/**\n * @typedef {object} DialogErrorProps\n * @property {string} [title] The dialog title; default: Error (translated)\n * @property {string | JSX.Element} text The dialog text.\n * @property {() => void} [onClose] Close handler.\n * @property {{titleBackground: string; titleColor: string}} classes The styling class names.\n *\n * @extends {React.Component<DialogErrorProps>}\n */\nclass DialogError extends React.Component {\n    handleOk() {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return <Dialog\n            open={true}\n            maxWidth=\"sm\"\n            fullWidth={true}\n            onClose={() => this.handleOk()}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle className={this.props.classes.titleBackground}\n                         classes={{root: this.props.classes.titleColor}}\n                         id=\"alert-dialog-title\">{this.props.title || I18n.t('ra_Error')}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {this.props.text || I18n.t('ra_Unknown error!')}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus startIcon={<IconCheck />}>{I18n.t('ra_Ok')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    text: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element\n    ]),\n    icon: PropTypes.object\n};\n\n/** @type {typeof DialogError} */\nconst _export = withStyles(styles)(DialogError);\nexport default _export;\n","\n/**\n * Print the ioBroker welcome screen to the developer console.\n */\nfunction printPrompt() {\n    const prompt = `\n██╗ ██████╗ ██████╗ ██████╗  ██████╗ ██╗  ██╗███████╗██████╗ \n██║██╔═══██╗██╔══██╗██╔══██╗██╔═══██╗██║ ██╔╝██╔════╝██╔══██╗\n██║██║   ██║██████╔╝██████╔╝██║   ██║█████╔╝ █████╗  ██████╔╝\n██║██║   ██║██╔══██╗██╔══██╗██║   ██║██╔═██╗ ██╔══╝  ██╔══██╗\n██║╚██████╔╝██████╔╝██║  ██║╚██████╔╝██║  ██╗███████╗██║  ██║\n╚═╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝ ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝\n`;\n\n    console.log(prompt);\n    console.log('Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters');\n    console.log('Help us to create open source project with reactJS!');\n    console.log('See you :)');\n}\n\nexport default printPrompt;","import {createTheme, adaptV4Theme, alpha} from '@mui/material/styles';\n\nimport {orange, grey} from '@mui/material/colors';\n\nconst step = (16 - 5) / 23 / 100;\n\n/**\n * Convert hex color in the format '#rrggbb' or '#rgb' to an RGB object.\n * @param {string} hex\n * @returns {{r: number, g: number, b: number}}\n */\nfunction toInt(hex) {\n    const rgb = {\n        r: 0,\n        g: 0,\n        b: 0,\n    };\n\n    if (hex.length === 7) {\n        rgb.r = parseInt(hex.substr(1, 2), 16);\n        rgb.g = parseInt(hex.substr(3, 2), 16);\n        rgb.b = parseInt(hex.substr(5, 2), 16);\n    } else if (hex.length === 4) {\n        const r = hex.substr(1, 1);\n        const g = hex.substr(2, 1);\n        const b = hex.substr(3, 1);\n\n        rgb.r = parseInt(r + r, 16);\n        rgb.g = parseInt(g + g, 16);\n        rgb.b = parseInt(b + b, 16);\n    }\n\n    return rgb;\n}\n\n/**\n * Convert an RGB object to a hex color string in the format '#rrggbb'.\n * @param {{r: number, g: number, b: number}} int\n * @returns {string}\n */\nfunction toHex(int) {\n    return `#${Math.round(int.r).toString(16)}${Math.round(int.g).toString(16)}${Math.round(int.b).toString(16)}`;\n}\n\n/**\n * @param {string} color color in the format '#rrggbb' or '#rgb'\n * @param {string} overlayColor overlay color in the format '#rrggbb' or '#rgb'\n * @param {number} elevation elevation as an integer starting with 1\n * @returns {string} the hex color string in the format '#rrggbb'\n */\nfunction getElevation(color, overlayColor, elevation) {\n    const rgb = toInt(color);\n    const overlay = toInt(overlayColor);\n\n    rgb.r += overlay.r * (0.05 + step * (elevation - 1));\n    rgb.g += overlay.g * (0.05 + step * (elevation - 1));\n    rgb.b += overlay.b * (0.05 + step * (elevation - 1));\n\n    return toHex(rgb);\n}\n\n/**\n * Get all 24 elevations of the given color and overlay.\n * @param {string} color color in the format '#rrggbb' or '#rgb'\n * @param {string} overlay overlay color in the format '#rrggbb' or '#rgb'\n * @returns {import('@mui/material/styles/withStyles').CSSProperties}\n */\nfunction getElevations(color, overlay) {\n    /** @type {import('@mui/material/styles/withStyles').CSSProperties} */\n    const elevations = {};\n\n    for (let i = 1; i <= 24; i++) {\n        elevations[`elevation${i}`] = {\n            backgroundColor: getElevation(color, overlay, i),\n        };\n    }\n\n    return elevations;\n}\n\nconst buttonsPalette = theme => ({\n    palette: {\n        // mode: \"dark\",\n        grey: {\n            main: grey[300],\n            dark: grey[400],\n        },\n    },\n});\n\nconst buttonsTheme = theme => ({\n    components: {\n        MuiButton: {\n            variants: [\n                {\n                    props: {variant: 'contained', color: 'grey'},\n                    style: {\n                        color: theme.palette.getContrastText(theme.palette.grey[300]),\n                    },\n                },\n                {\n                    props: {variant: 'outlined', color: 'grey'},\n                    style: {\n                        color: theme.palette.text.primary,\n                        borderColor:\n                            theme.palette.mode === 'light'\n                                ? 'rgba(0, 0, 0, 0.23)'\n                                : 'rgba(255, 255, 255, 0.23)',\n                        '&.Mui-disabled': {\n                            border: `1px solid ${theme.palette.action.disabledBackground}`,\n                        },\n                        '&:hover': {\n                            borderColor:\n                                theme.palette.mode === 'light'\n                                    ? 'rgba(0, 0, 0, 0.23)'\n                                    : 'rgba(255, 255, 255, 0.23)',\n                            backgroundColor: alpha(\n                                theme.palette.text.primary,\n                                theme.palette.action.hoverOpacity,\n                            ),\n                        },\n                    },\n                },\n                {\n                    props: {color: 'grey', variant: 'text'},\n                    style: {\n                        color: 'black',\n                        '&:hover': {\n                            backgroundColor: alpha(\n                                theme.palette.text.primary,\n                                theme.palette.action.hoverOpacity,\n                            ),\n                        },\n                    },\n                },\n            ],\n        },\n    },\n});\n\n/**\n * The theme creation factory function.\n * @param {string} type\n * @returns {import('./types').Theme}\n */\nconst Theme = type => {\n    let theme;\n    if (type === 'dark') {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'dark',\n                background: {\n                    paper: '#121212',\n                    default: '#121212',\n                },\n                primary: {\n                    main: '#4dabf5',\n                },\n                secondary: {\n                    main: '#436a93',\n                },\n                expert: '#14bb00',\n                text: {\n                    primary: '#ffffff',\n                    secondary: '#ffffff',\n                },\n            },\n            overrides: {\n                MuiAppBar: {\n                    colorDefault: {\n                        backgroundColor: '#272727',\n                    },\n                },\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[200],\n                        '&:hover': {\n                            color: orange[100],\n                        },\n                    },\n                },\n                MuiPaper: getElevations('#121212', '#fff'),\n            },\n        };\n    } else if (type === 'blue') {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'dark',\n                background: {\n                    paper: '#151d21',\n                    default: '#151d21',\n                },\n                primary: {\n                    main: '#4dabf5',\n                },\n                secondary: {\n                    main: '#436a93',\n                },\n                expert: '#14bb00',\n                text: {\n                    primary: '#ffffff',\n                    secondary: '#ffffff',\n                },\n            },\n            overrides: {\n                MuiAppBar: {\n                    colorDefault: {\n                        backgroundColor: '#2a3135',\n                    },\n                },\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[200],\n                        '&:hover': {\n                            color: orange[100],\n                        },\n                    },\n                },\n                MuiPaper: getElevations('#151d21', '#fff'),\n            },\n        };\n    } else if (type === 'colored') {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'light',\n                primary: {\n                    main: '#3399CC',\n                },\n                secondary: {\n                    main: '#164477',\n                },\n                expert: '#96fc96',\n            },\n            overrides: {\n                MuiAppBar: {\n                    colorDefault: {\n                        backgroundColor: '#3399CC',\n                    },\n                },\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[400],\n                        '&:hover': {\n                            color: orange[300],\n                        },\n                    },\n                },\n            },\n        };\n    } else if (type === 'PT') {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'light',\n                primary: {\n                    main: '#0F99DE',\n                },\n                secondary: {\n                    main: '#88A536',\n                },\n                expert: '#BD1B24',\n            },\n            overrides: {\n                MuiAppBar: {\n                    colorDefault: {\n                        backgroundColor: '#0F99DE',\n                    },\n                },\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[400],\n                        '&:hover': {\n                            color: orange[300],\n                        },\n                    },\n                },\n            },\n        };\n    } else if (type === 'DX') {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'light',\n                primary: {\n                    main: '#F5F5F7',\n                },\n                secondary: {\n                    main: '#a9a9a9',\n                },\n                expert: '#BD1B24',\n                text: {\n                    primary: '#007AFE',\n                    secondary: '#007AFE',\n                    disabled: '#007AFEAA',\n                },\n            },\n            overrides: {\n                MuiAppBar: {\n                    colorDefault: {\n                        backgroundColor: '#a9a9a9',\n                    },\n                },\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[400],\n                        '&:hover': {\n                            color: orange[300],\n                        },\n                    },\n                },\n            },\n        };\n    } else {\n        theme = {\n            name: type,\n            palette: {\n                mode: 'light',\n                primary: {\n                    main: '#3399CC',\n                },\n                secondary: {\n                    main: '#164477',\n                },\n                expert: '#14bb00',\n            },\n            overrides: {\n                MuiLink: {\n                    root: {\n                        textTransform: 'uppercase',\n                        transition: 'color .3s ease',\n                        color: orange[400],\n                        '&:hover': {\n                            color: orange[300],\n                        },\n                    },\n                },\n            },\n        };\n    }\n\n    theme.toolbar = {\n        height: 48,\n    };\n\n    // add save toolbar\n    theme.saveToolbar = {\n        background: theme.palette.primary.main,\n        button: {\n            borderRadius: 3,\n            height: 32,\n        },\n    };\n\n    theme.palette.grey = {\n        main: grey[300],\n        dark: grey[400],\n    };\n\n    theme = createTheme(adaptV4Theme(theme));\n\n    return createTheme(theme, {\n        components: {\n            MuiButton: {\n                variants: [\n                    {\n                        props: {variant: 'contained', color: 'grey'},\n                        style: {\n                            color: theme.palette.getContrastText(theme.palette.grey[300]),\n                        },\n                    },\n                    {\n                        props: {variant: 'outlined', color: 'grey'},\n                        style: {\n                            color: theme.palette.text.primary,\n                            borderColor:\n                                theme.palette.mode === 'light'\n                                    ? 'rgba(0, 0, 0, 0.23)'\n                                    : 'rgba(255, 255, 255, 0.23)',\n                            '&.Mui-disabled': {\n                                border: `1px solid ${theme.palette.action.disabledBackground}`,\n                            },\n                            '&:hover': {\n                                borderColor:\n                                    theme.palette.mode === 'light'\n                                        ? 'rgba(0, 0, 0, 0.23)'\n                                        : 'rgba(255, 255, 255, 0.23)',\n                                backgroundColor: alpha(\n                                    theme.palette.text.primary,\n                                    theme.palette.action.hoverOpacity,\n                                ),\n                            },\n                        },\n                    },\n                    {\n                        props: {variant: 'text', color: 'grey'},\n                        style: {\n                            color: theme.palette.text.primary,\n                            '&:hover': {\n                                backgroundColor: alpha(\n                                    theme.palette.text.primary,\n                                    theme.palette.action.hoverOpacity,\n                                ),\n                            },\n                        },\n                    },\n                ],\n            },\n        },\n    });\n};\n\nexport default Theme;\n","/***\n * Copyright 2018-2022 bluefox <dogafox@gmail.com>\n *\n * MIT License\n *\n ***/\n\n /**\n  * Translation string management.\n  */\nclass I18n {\n    /**\n     * List of all languages with their translations.\n     * @type {{ [lang in ioBroker.Languages]?: Record<string, string>; }}\n     */\n    static translations = {};\n\n     /**\n      * List of unknown translations during development.\n      * @type {string[]}\n      */\n     static unknownTranslations = [];\n\n    /**\n     * The currently displayed language.\n     * @type {ioBroker.Languages}\n     */\n    static lang = window.sysLang || 'en';\n\n    static _disableWarning = false;\n\n    /**\n     * Set the language to display.\n     * @param {ioBroker.Languages} lang\n     */\n    static setLanguage(lang) {\n        if (lang) {\n            I18n.lang = lang;\n        }\n    }\n\n     /**\n      * Add translations\n      * User can provide two types of structures:\n      * - {\"word1\": \"translated word1\", \"word2\": \"translated word2\"}, but in this case the lang must be provided\n      * - {\"word1\": {\"en\": \"translated en word1\", \"de\": \"translated de word1\"}, \"word2\": {\"en\": \"translated en word2\", \"de\": \"translated de word2\"}}, but no lang must be provided\n      * @param {object} words additional words for specific language\n      * @param {ioBroker.Languages} lang\n      */\n     static extendTranslations(words, lang) {\n         try {\n             if (!lang) {\n                 if (words.en && words.de && words.ru) {\n                     Object.keys(words).forEach(lang => {\n                         I18n.translations[lang] = I18n.translations[lang] || {};\n                         Object.assign(I18n.translations[lang], words[lang]);\n                     });\n                 } else {\n                     Object.keys(words).forEach(word => {\n                         Object.keys(words[word]).forEach(lang => {\n                             if (!I18n.translations[lang]) {\n                                 console.warn(`Used unknown language: ${lang}`);\n                             }\n                             if (!I18n.translations[lang][word]) {\n                                 I18n.translations[lang][word] = words[word][lang];\n                             } else if (I18n.translations[lang][word] !== words[word][lang]) {\n                                 console.warn(`Translation for word \"${word}\" in \"${lang}\" was ignored: existing = \"${I18n.translations[lang][word]}\", new = ${words[word][lang]}`);\n                             }\n                         });\n                     });\n                 }\n             } else {\n                 if (!I18n.translations[lang]) {\n                     console.warn(`Used unknown language: ${lang}`);\n                 }\n                 I18n.translations[lang] = I18n.translations[lang] || {};\n                 Object.keys(words)\n                     .forEach(word => {\n                         if (!I18n.translations[lang][word]) {\n                             I18n.translations[lang][word] = words[word];\n                         } else if (I18n.translations[lang][word] !== words[word]) {\n                             console.warn(`Translation for word \"${word}\" in \"${lang}\" was ignored: existing = \"${I18n.translations[lang][word]}\", new = ${words[word]}`);\n                         }\n                     });\n             }\n         } catch (e) {\n             console.error(`Cannot apply translations: ${e}`);\n         }\n    }\n\n    /**\n     * Sets all translations (in all languages).\n     * @param {{ [lang in ioBroker.Languages]?: Record<string, string>; }} translations\n     */\n    static setTranslations(translations) {\n        if (translations) {\n            I18n.translations = translations;\n        }\n    }\n\n    /**\n     * Get the currently chosen language.\n     * @returns {ioBroker.Languages} The current language.\n     */\n    static getLanguage() {\n        return I18n.lang;\n    }\n\n    /**\n     * Translate the given string to the selected language.\n     * @param {string} word The (key) word to look up the string.\n     * @param {string[]} args Optional arguments which will replace the first (second, third, ...) occurrences of %s\n     */\n    static t(word, ...args) {\n        let translation = I18n.translations[I18n.lang];\n        if (translation) {\n            const w = translation[word];\n            if (w) {\n                word = w;\n            } else {\n                if (!I18n.unknownTranslations.includes(word)) {\n                    I18n.unknownTranslations.push(word);\n                    !I18n._disableWarning && console.log(`Translate: ${word}`);\n                }\n                // fallback to english\n                if (I18n.lang !== 'en' && I18n.translations.en) {\n                    const wordEn = I18n.translations.en[word];\n                    if (wordEn) {\n                        word = wordEn;\n                    }\n                }\n            }\n        }\n        for (const arg of args) {\n            word = word.replace('%s', arg);\n        }\n        return word;\n    }\n\n     /**\n      * Show non-translated words\n      * Required during development\n      * @param {string | RegExp} filter filter words\n      */\n     static i18nShow(filter) {\n         /**\n          * List words with their translations.\n          * @type {Record<string, string>}\n          */\n         const result = {};\n        if (!filter) {\n            I18n.unknownTranslations.forEach(word => {\n                result[word] = word;\n            });\n            console.log(JSON.stringify(result, null, 2));\n        } else if (typeof filter === 'string') {\n            I18n.unknownTranslations.forEach(word => {\n                if (word.startsWith(filter)) {\n                    result[word] = word.replace(filter, '');\n                }\n            });\n            console.log(JSON.stringify(result, null, 2));\n        } else if (typeof filter === 'object') {\n            I18n.unknownTranslations.forEach(word => {\n                if (filter.test(word)) {\n                    result[word] = word;\n                }\n            });\n            console.log(JSON.stringify(result, null, 2));\n        }\n    }\n\n     /**\n      * Disable warning about non-translated words\n      * Required during development\n      * @param {boolean} disable Do the warning should be disabled\n      */\n    static disableWarning(disable) {\n        I18n._disableWarning = !!disable;\n    }\n}\n\n// install global handlers\nwindow.i18nShow = I18n.i18nShow;\nwindow.i18nDisableWarning = I18n.disableWarning;\n\n\n/*I18n.translations = {\n    'en': require('./i18n/en'),\n    'ru': require('./i18n/ru'),\n    'de': require('./i18n/de'),\n};\nI18n.fallbacks = true;\nI18n.t = function () {};*/\n\nexport default I18n;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@mui/material/utils\");","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"sourceRoot":""}