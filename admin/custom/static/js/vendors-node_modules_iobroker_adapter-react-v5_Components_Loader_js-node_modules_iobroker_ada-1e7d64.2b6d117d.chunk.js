(self.webpackChunkiobroker_admin_component_telegram=self.webpackChunkiobroker_admin_component_telegram||[]).push([["vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-1e7d64"],{40666:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(56690)),k=f(a(89728)),w=f(a(61655)),_=f(a(94993)),P=f(a(73808)),y=f(a(4819)),m=f(a(15854));function A(l){var t=b();return function(){var e=(0,P.default)(l),r;if(t){var n=(0,P.default)(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return(0,_.default)(this,r)}}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}var E=`
/**
 * Copyright 2018-2022 bluefox <dogafox@gmail.com>
 *
 * MIT License
 *
 **/

.logo-background-light, .logo-background-colored {
    background: white;
}
.logo-background-dark, .logo-background-blue {
    background: black;
}
.logo-div {
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    overflow: hidden;
    border-radius: 50%;
    z-index: 2;
}
.logo-border {
    /*border-color: #164477;*/
    border-top-color: #3399CC;
    border-left-color: #164477;
    border-bottom-color: #164477;
    border-right-color: #164477;
    border-radius: 50%;
    border-style: solid;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    position: absolute;
}
.logo-top {
    position: absolute;
    width: 4.5%;
    height: 16%;
    top: 0;
    z-index: 2;
}
.logo-i {
    position: absolute;
    width: 14.5%;
    height: 60%;
    top: 20%;
    left: 42%;
    background: #3399CC;
}
.logo-i-top {
    position: absolute;
    width: 14.5%;
    height: 4%;
    left: 42%;
    background: #3399CC;
    border-radius: 100%;
}
.logo-back {
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
}
@keyframes logo-grow {
    0% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(1);
        opacity: 1
    }
    99% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(10);
        opacity: 0;
    }
    100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
}
@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }
@keyframes logo-color-inside-light {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-dark {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-colored {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-blue {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}

@keyframes logo-color-outside-light {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-dark  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-colored {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-blue  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}

.logo-animate-wait {
    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;
}

.logo-animate-grow-light {
    background: #DDD;
}
.logo-animate-grow-dark {
    background: #1d1d1d;
}
.logo-animate-grow-colored {
    background: #DDD;
}
.logo-animate-grow-blue {
    background: #1d1d1d;
}

.logo-animate-grow {
    display: inline-block;
    text-align: center;
    z-index: 1;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    width: 245px;
    height: 245px;
    border-radius: 50%;
    position: absolute;
    animation: logo-grow 1s 1 ease forwards;
}

.logo-animate-color-inside-light {
    animation: logo-color-inside-light 2.5s;
}
.logo-animate-color-inside-dark {
    animation: logo-color-inside-dark 2.5s;
}
.logo-animate-color-inside-colored {
    animation: logo-color-inside-colored 2.5s;
}
.logo-animate-color-inside-blue {
    animation: logo-color-inside-blue 2.5s;
}

.logo-animate-color-outside-light {
    animation: logo-color-outside-light 1.5s;
}
.logo-animate-color-outside-dark {
    animation: logo-color-outside-dark 1.5s;
}
.logo-animate-color-outside-colored {
    animation: logo-color-outside-colored 1.5s;
}
.logo-animate-color-outside-blue {
    animation: logo-color-outside-blue 1.5s;
}
`,S=function(l){(0,w.default)(i,l);var t=A(i);function i(e){var r;if((0,C.default)(this,i),r=t.call(this,e),!window.document.getElementById("loader-iobroker-component")){var n=window.document.createElement("style");n.setAttribute("id","loader-iobroker-component"),n.innerHTML=E,window.document.head.appendChild(n)}return r}return(0,k.default)(i,[{key:"render",value:function(){var r=this.props.size||234,n=this.props.themeType||this.props.theme||"light";return y.default.createElement("div",{className:"logo-back logo-background-"+n,style:{backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?"url("+window.loadingBackgroundImage+")":void 0,backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},window.loadingHideLogo==="true"?null:y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:"logo-div",style:{width:r,height:r}},y.default.createElement("div",{className:"logo-top logo-background-"+n,style:{left:"37%"}}),y.default.createElement("div",{className:"logo-top logo-background-"+n,style:{left:"57%"}}),y.default.createElement("div",{className:"logo-border logo-background-".concat(n," logo-animate-wait"),style:{borderWidth:r*.132}}),y.default.createElement("div",{className:"logo-i logo-animate-color-inside-"+n}),y.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-"+n,style:{top:"18%"}}),y.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-"+n,style:{bottom:"18%"}})),y.default.createElement("div",{className:"logo-animate-grow logo-animate-grow-"+n,style:{width:r+11,height:r+11}})))}}]),i}(y.default.Component);S.propTypes={size:m.default.number,themeType:m.default.string};var v=S,c=v;h.default=c},43924:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(56690)),k=f(a(89728)),w=f(a(66115)),_=f(a(61655)),P=f(a(94993)),y=f(a(73808)),m=f(a(4819));function A(v){var c=b();return function(){var t=(0,y.default)(v),i;if(c){var e=(0,y.default)(this).constructor;i=Reflect.construct(t,arguments,e)}else i=t.apply(this,arguments);return(0,P.default)(this,i)}}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}var E=function(v){(0,_.default)(l,v);var c=A(l);function l(t){var i;return(0,C.default)(this,l),i=c.call(this,t),i.onHashChangedBound=i.onHashChanged.bind((0,w.default)(i)),i}return(0,k.default)(l,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.onHashChangedBound)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.onHashChangedBound)}},{key:"onHashChanged",value:function(){}}],[{key:"getLocation",value:function(){var i=window.location.hash;i=i.replace(/^#/,"");var e=i.split("/").map(function(r){try{return r?decodeURIComponent(r):""}catch(n){return console.error("Router: Cannot decode "+r),r||""}});return{tab:e[0]||"",dialog:e[1]||"",id:e[2]||"",arg:e[3]||""}}},{key:"doNavigate",value:function(i,e,r,n){var o="",s=l.getLocation();n!==void 0&&!r&&(r=s.id),r&&!e&&(e=s.dialog),(e&&!i||i===null)&&(i=s.tab),i&&(o="#"+i,e&&(o+="/"+e,r&&(o+="/"+r,n!==void 0&&(o+="/"+n)))),window.location.hash!==o&&(window.location.hash=o)}}]),l}(m.default.Component),S=E;h.default=S},84302:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(56690)),k=f(a(89728)),w=f(a(61655)),_=f(a(94993)),P=f(a(73808)),y=f(a(4819)),m=f(a(42390)),A=f(a(24724)),b=f(a(15854)),E=f(a(44515)),S=f(a(55289)),v=f(a(28027)),c=f(a(62976));function l(o){var s=t();return function(){var d=(0,P.default)(o),g;if(s){var D=(0,P.default)(this).constructor;g=Reflect.construct(d,arguments,D)}else g=d.apply(this,arguments);return(0,_.default)(this,g)}}function t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}var i=function(s){return{buttonIcon:{marginRight:8}}},e=function(o){(0,w.default)(u,o);var s=l(u);function u(d){var g;(0,C.default)(this,u),g=s.call(this,d);var D=d.newReact===void 0?!0:d.newReact;try{g.isIFrame=!D&&window.self!==window.top}catch(F){g.isIFrame=!D}return g}return(0,k.default)(u,[{key:"render",value:function(){var g=this,D=this.props.noTextOnButtons,F={borderRadius:this.props.theme.saveToolbar.button.borderRadius||3,height:this.props.theme.saveToolbar.button.height||32},O={bottom:this.isIFrame?38:0,left:this.props.paddingLeft||0,right:0,position:"absolute",background:this.props.theme.saveToolbar.background};return this.props.dense&&(O.minHeight=48),this.props.error&&(F.border="1px solid red"),y.default.createElement(E.default,{position:"absolute",style:O},y.default.createElement(A.default,{variant:"extended","aria-label":"Save",disabled:!this.props.changed||this.props.error,onClick:function(){return g.props.onSave(!1)},style:F},y.default.createElement(v.default,{className:D?"":this.props.classes.buttonIcon}),!D&&S.default.t("ra_Save")),y.default.createElement(A.default,{variant:"extended","aria-label":"Save and close",disabled:!this.props.changed||this.props.error,onClick:function(){return g.props.onSave(!0)},style:Object.assign({},F,{marginLeft:10})},y.default.createElement(v.default,{className:D?"":this.props.classes.buttonIcon}),D?"+":S.default.t("ra_Save and close"),D&&y.default.createElement(c.default,null)),y.default.createElement("div",{style:{flexGrow:1}}),y.default.createElement(A.default,{variant:"extended","aria-label":"Close",onClick:function(){return g.props.onClose()},style:F},y.default.createElement(c.default,{className:D?"":this.props.classes.buttonIcon}),!D&&S.default.t("ra_Close")))}}]),u}(y.default.Component);e.propTypes={dense:b.default.bool,paddingLeft:b.default.number,noTextOnButtons:b.default.bool,theme:b.default.object,isIFrame:b.default.bool,changed:b.default.bool.isRequired,error:b.default.bool,onSave:b.default.func.isRequired,onClose:b.default.func.isRequired,newReact:b.default.bool};var r=(0,m.default)(i)(e),n=r;h.default=n},33919:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(27424)),k=f(a(18698)),w=f(a(56690)),_=f(a(89728)),P=f(a(38416)),y=f(a(4819)),m=f(a(55289)),A="material",b=["Su","Mo","Tu","We","Th","Fr","Sa"],E=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],S={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},v={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"},c=function(){function t(){(0,w.default)(this,t)}return(0,_.default)(t,null,[{key:"CapitalWords",value:function(e){return(e||"").split(/[\s_]/).filter(function(r){return r}).map(function(r){return r?r[0].toUpperCase()+r.substring(1).toLowerCase():""}).join(" ")}},{key:"formatSeconds",value:function(e){var r=Math.floor(e/86400);e%=3600*24;var n=Math.floor(e/3600);n<10&&(n="0"+n),e%=3600;var o=Math.floor(e/60);o<10&&(o="0"+o),e%=60,e=Math.floor(e),e<10&&(e="0"+e);var s="";return r&&(s+="".concat(r," ").concat(m.default.t("ra_daysShortText")," ")),s+="".concat(n,":").concat(o,":").concat(e),s}},{key:"getObjectName",value:function(e,r,n,o,s){var u=e[r],d=r,g=s?"desc":"name";if(typeof n=="string"&&!o&&(o={language:n},n=null),o=o||{},o.language||(o.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),n&&n.name)d=n.name,(0,k.default)(d)==="object"&&(d=d[o.language]||d.en);else if(u&&u.common&&u.common[g])d=u.common[g],g!=="desc"&&!d&&u.common.desc&&(d=u.common.desc),(0,k.default)(d)==="object"&&(d=d[o.language]||d.en||d.de||d.ru||""),d=(d||"").toString().replace(/[_.]/g," "),d===d.toUpperCase()&&(d=d[0]+d.substring(1).toLowerCase());else{var D=r.lastIndexOf(".");d=r.substring(D+1).replace(/[_.]/g," "),d=t.CapitalWords(d)}return d.trim()}},{key:"getObjectNameFromObj",value:function(e,r,n,o,s){var u=e,d=e&&e._id||"",g=o?"desc":"name";return typeof r=="string"&&!n&&(n={language:r},r=null),n=n||{},r&&r.name?(d=r.name,(0,k.default)(d)==="object"&&(d=d[n.language]||d.en)):u&&u.common&&u.common[g]&&(d=u.common[g],g!=="desc"&&!d&&u.common.desc&&(d=u.common.desc),(0,k.default)(d)==="object"&&(d=d[n.language]||d.en),d=(d||"").toString().replace(/[_.]/g," "),d===d.toUpperCase()&&(d=d[0]+d.substring(1).toLowerCase())),s?d:d.trim()}},{key:"getSettingsOrder",value:function(e,r,n){e&&e.hasOwnProperty("common")&&(e=e.common);var o;if(e&&e.custom){o=(e.custom||{})[A];var s=n.user||"admin";if(o&&o[s]){if(r){if(o[s].subOrder&&o[s].subOrder[r])return JSON.parse(JSON.stringify(o[s].subOrder[r]))}else if(o[s].order)return JSON.parse(JSON.stringify(o[s].order))}}return null}},{key:"getSettingsCustomURLs",value:function(e,r,n){e&&e.hasOwnProperty("common")&&(e=e.common);var o;if(e&&e.custom){o=(e.custom||{})[A];var s=n.user||"admin";if(o&&o[s]){if(r){if(o[s].subURLs&&o[s].subURLs[r])return JSON.parse(JSON.stringify(o[s].subURLs[r]))}else if(o[s].URLs)return JSON.parse(JSON.stringify(o[s].URLs))}}return null}},{key:"reorder",value:function(e,r,n){var o=Array.from(e),s=o.splice(r,1),u=(0,C.default)(s,1),d=u[0];return o.splice(n,0,d),o}},{key:"getSettings",value:function(e,r,n){var o,s=e&&e._id||r&&r.id;if(e&&e.hasOwnProperty("common")&&(e=e.common),e&&e.custom?(o=e.custom||{},o=o[A]&&o[A][r.user||"admin"]?JSON.parse(JSON.stringify(o[A][r.user||"admin"])):{enabled:!0}):o={enabled:n===void 0?!0:n,useCustom:!1},o.hasOwnProperty("enabled")||(o.enabled=n===void 0?!0:n),r&&(!o.name&&r.name&&(o.name=r.name),!o.icon&&r.icon&&(o.icon=r.icon),!o.color&&r.color&&(o.color=r.color)),e&&(!o.color&&e.color&&(o.color=e.color),!o.icon&&e.icon&&(o.icon=e.icon),!o.name&&e.name&&(o.name=e.name)),(0,k.default)(o.name)==="object"&&(o.name=o.name[r.language]||o.name.en,o.name=(o.name||"").toString().replace(/_/g," "),o.name===o.name.toUpperCase()&&(o.name=o.name[0]+o.name.substring(1).toLowerCase())),!o.name&&s){var u=s.lastIndexOf(".");o.name=s.substring(u+1).replace(/[_.]/g," "),o.name=(o.name||"").toString().replace(/_/g," "),o.name=t.CapitalWords(o.name)}return o}},{key:"setSettings",value:function(e,r,n){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[A]=e.common.custom[A]||{},e.common.custom[A][n.user||"admin"]=r;var o=e.common.custom[A][n.user||"admin"];return o.useCommon&&(o.color!==void 0&&(e.common.color=o.color,delete o.color),o.icon!==void 0&&(e.common.icon=o.icon,delete o.icon),o.name!==void 0&&((0,k.default)(e.common.name)!=="object"&&(e.common.name={}),e.common.name[n.language]=o.name,delete o.name)),!0}else return!1}},{key:"getIcon",value:function(e,r){return e&&e.icon?e.icon.length<=2?y.default.createElement("span",{style:r||{}},e.icon):e.icon.startsWith("data:image")?y.default.createElement("img",{alt:e.name,src:e.icon,style:r||{}}):y.default.createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:r||{}}):null}},{key:"getObjectIcon",value:function(e,r){if((0,k.default)(e)==="object"&&(r=e,e=r._id),r&&r.common&&r.common.icon){var n=r.common.icon;if(typeof n=="string"&&n.length<=2)return n;if(n.startsWith("data:image"))return n;var o=e.split(".");return o[0]==="system"?n="adapter/"+o[2]+(n.startsWith("/")?"":"/")+n:n="adapter/"+o[0]+(n.startsWith("/")?"":"/")+n,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)||window.location.pathname.match(/material\/[.\d]+/)?n="../../"+n:window.location.pathname.match(/material\//)&&(n="../"+n),n}else return null}},{key:"splitCamelCase",value:function(e){if(!1)var r,n,o,s,u,d,g;else return t.CapitalWords(e)}},{key:"isUseBright",value:function(e,r){if(e==null||e==="")return r===void 0?!0:r;e=e.toString(),e.indexOf("#")===0&&(e=e.slice(1));var n,o,s,u=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(u&&u.length===4)n=parseInt(u[1],10),o=parseInt(u[2],10),s=parseInt(u[3],10);else{if(e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length===8)e=e.substring(0,6);else if(e.length!==6)return!1;n=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16)}return n*.299+o*.587+s*.114<=186}},{key:"getTimeString",value:function(e){if(e=parseFloat(e),isNaN(e))return"--:--";var r=Math.floor(e/3600),n=Math.floor(e%3600/60),o=e%60;return r?(n<10&&(n="0"+n),o<10&&(o="0"+o),r+":"+n+":"+o):(o<10&&(o="0"+o),n+":"+o)}},{key:"getWindDirection",value:function(e){if(e>=0&&e<11.25)return"N";if(e>=11.25&&e<33.75)return"NNE";if(e>=33.75&&e<56.25)return"NE";if(e>=56.25&&e<78.75)return"ENE";if(e>=78.75&&e<101.25)return"E";if(e>=101.25&&e<123.75)return"ESE";if(e>=123.75&&e<146.25)return"SE";if(e>=146.25&&e<168.75)return"SSE";if(e>=168.75&&e<191.25)return"S";if(e>=191.25&&e<213.75)return"SSW";if(e>=213.75&&e<236.25)return"SW";if(e>=236.25&&e<258.75)return"WSW";if(e>=258.75&&e<281.25)return"W";if(e>=281.25&&e<303.75)return"WNW";if(e>=303.75&&e<326.25)return"NW";if(e>=326.25&&e<348.75)return"NNW";if(e>=348.75)return"N"}},{key:"padding",value:function(e){return typeof e=="string"?e.length<2?"0"+e:e:e<10?"0"+e:e}},{key:"setDataFormat",value:function(e){e&&(t.dateFormat=e.toUpperCase().split(/[.-/]/),t.dateFormat.splice(t.dateFormat.indexOf("YYYY"),1))}},{key:"date2string",value:function(e){if(typeof e=="string"){if(e=e.trim(),!e)return"";if(e.match(/^[\w\s]+$/))return e;var r=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(r){var n=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)],o=n.find(function(d){return d>31});n.splice(n.indexOf(o),1);var s=n.find(function(d){return d>12});s?(n.splice(n.indexOf(s),1),e=new Date(o,n[0]-1,s)):t.dateFormat[0][0]==="M"&&t.dateFormat[1][0]==="D"?(e=new Date(o,n[0]-1,n[1]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,n[1]-1,n[0]))):t.dateFormat[0][0]==="D"&&t.dateFormat[1][0]==="M"?(e=new Date(o,n[1]-1,n[0]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,n[0]-1,n[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e);var u=m.default.t("ra_dow_"+b[e.getDay()]).replace("ra_dow_","");return u+=". "+e.getDate()+" "+m.default.t("ra_month_"+E[e.getMonth()]).replace("ra_month_",""),u}},{key:"renderTextWithA",value:function(e){var r=e.match(/<a [^<]+<\/a>|<br\/?>/);if(r){var n=[],o=1;do{var s=e.split(r[0]);if(s[0]&&n.push(y.default.createElement("span",{key:"a"+o++},s[0])),r[0].startsWith("<br"))n.push(y.default.createElement("br",{key:"a"+o++}));else{var u=r[0].match(/href="([^"]+)"/)||r[0].match(/href='([^']+)'/),d=r[0].match(/target="([^"]+)"/)||r[0].match(/target='([^']+)'/),g=r[0].match(/rel="([^"]+)"/)||r[0].match(/rel='([^']+)'/),D=r[0].match(/>([^<]*)</);n.push(y.default.createElement("a",{key:"a"+o++,href:u?u[1]:"",target:d?d[1]:"_blank",rel:g?g[1]:""},D?D[1]:""))}e=s[1],r=e&&e.match(/<a [^<]+<\/a>|<br\/?>/),r||s[1]&&n.push(y.default.createElement("span",{key:"a"+o++},s[1]))}while(r);return n}else return e}},{key:"getSmartName",value:function(e,r,n,o){return r?o?e[r]&&e[r].common&&e[r].common.custom&&e[r].common.custom[n]&&e[r].common.custom[n].smartName||null:e[r].common.smartName:o?e&&!e.common?e.smartName:e&&e.common&&e.common.custom&&e.common.custom[n]?e.common.custom[n].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}},{key:"getSmartNameFromObj",value:function(e,r,n){return n?e&&!e.common?e.smartName:e&&e.common&&e.common.custom&&e.common.custom[r]?e.common.custom[r].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}},{key:"enableSmartName",value:function(e,r,n){n?(e.common.custom=e.common.custom||{},e.common.custom[r]=e.common.custom[r]||{},e.common.custom[r].smartName={}):e.common.smartName={}}},{key:"removeSmartName",value:function(e,r,n){n?e.common&&e.common.custom&&e.common.custom[r]&&(e.common.custom[r]=null):e.common.smartName=null}},{key:"updateSmartName",value:function(e,r,n,o,s,u){var d=m.default.getLanguage();if(typeof e.common.smartName=="string"){var g=e.common.smartName;e.common.smartName={},e.common.smartName[d]=g}if(e.native&&e.native.byON){delete e.native.byON;var D=e.common.smartName;(!D||(0,k.default)(D)!=="object")&&(D={en:D},D[d]=D.en),e.common.smartName=D}if(o!==void 0&&(u?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},o?e.common.custom[s].smartName.smartType=o:delete e.common.custom[s].smartName.smartType):(e.common.smartName=e.common.smartName||{},o?e.common.smartName.smartType=o:delete e.common.smartName.smartType)),n!==void 0&&(u?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},e.common.custom[s].smartName.byON=n):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=n)),r!==void 0){var F;if(u?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},F=e.common.custom[s].smartName):(e.common.smartName=e.common.smartName||{},F=e.common.smartName),F[d]=r,F&&(!F[d]||F[d]===e.common.name&&(!e.common.role||e.common.role.indexOf("button")>=0))){delete F[d];var O=!0;for(var T in F)if(F.hasOwnProperty(T)){O=!1;break}O&&(u?e.common.custom[s].smartName.byON===void 0?delete e.common.custom[s]:(delete e.common.custom[s].en,delete e.common.custom[s].de,delete e.common.custom[s].ru,delete e.common.custom[s].nl,delete e.common.custom[s].pl,delete e.common.custom[s].it,delete e.common.custom[s].fr,delete e.common.custom[s].pt,delete e.common.custom[s].es,delete e.common.custom[s]["zh-cn"]):e.common.smartName.byON!==void 0?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}},{key:"disableSmartName",value:function(e,r,n){n?(e.common.custom=e.common.custom||{},e.common.custom[r]=e.common.custom[r]||{},e.common.custom[r].smartName=!1):e.common.smartName=!1}},{key:"copyToClipboard",value:function(e,r){var n=window.document.createElement("textarea");n.value=e,window.document.body.appendChild(n),n.select(),window.document.execCommand("copy"),window.document.body.removeChild(n),console.log(e),r&&r.stopPropagation(),r&&r.preventDefault()}},{key:"getFileExtension",value:function(e){var r=(e||"").lastIndexOf(".");return r!==-1?e.substring(r+1).toLowerCase():null}},{key:"formatBytes",value:function(e){if(Math.abs(e)<1024)return e+" B";var r=["KB","MB","GB"],n=-1;do e/=1024,++n;while(Math.abs(e)>=1024&&n<r.length-1);return e.toFixed(1)+" "+r[n]}},{key:"getInvertedColor",value:function(e,r,n){if(e){var o=t.invertColor(e,!0);return o==="#FFFFFF"&&(r==="dark"||n&&r==="light")?"#DDD":o==="#000000"&&(r==="light"||n&&r==="dark")?"#222":void 0}else return}},{key:"invertColor",value:function(e,r){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){var n=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);n&&(e=parseInt(n[1],10).toString(16).padStart(2,"0")+parseInt(n[2],10).toString(16).padStart(2,"0")+parseInt(n[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){var o=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);o&&(e=parseInt(o[1],10).toString(16).padStart(2,"0")+parseInt(o[2],10).toString(16).padStart(2,"0")+parseInt(o[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var s=null;if(e.length===8)s=e.substring(6,8),e=e.substring(0,6);else if(e.length!==6)return console.warn("Cannot invert color: "+e),e;var u=parseInt(e.slice(0,2),16),d=parseInt(e.slice(2,4),16),g=parseInt(e.slice(4,6),16);return r?u*.299+d*.587+g*.114>186?"#000000".concat(s||""):"#FFFFFF".concat(s||""):(u=(255-u).toString(16),d=(255-d).toString(16),g=(255-g).toString(16),"#".concat(u.padStart(2,"0")).concat(d.padStart(2,"0")).concat(g.padStart(2,"0")).concat(s||""))}},{key:"_toVal",value:function(e){var r,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if((0,k.default)(e)==="object")if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=t._toVal(e[r]))&&(o&&(o+=" "),o+=n);else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}},{key:"clsx",value:function(){for(var e=0,r,n,o="";e<arguments.length;)(r=arguments[e++])&&(n=t._toVal(r))&&(o&&(o+=" "),o+=n);return o}},{key:"getThemeName",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?window.vendorPrefix:e||((window._localStorage||window.localStorage)&&(window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}},{key:"getThemeType",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(e=e||(window._localStorage||window.localStorage)&&(window._localStorage||window.localStorage).getItem("App.themeName"),e==="dark"||e==="blue"?"dark":"light")}},{key:"setThemeName",value:function(e){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme",e==="dark"||e==="blue"?"dark":"light"))}},{key:"toggleTheme",value:function(e){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@")return window.vendorPrefix;e=e||(window._localStorage||window.localStorage)&&(window._localStorage||window.localStorage).getItem("App.themeName");var r=t.getThemeNames(),n=r.indexOf(e),o;return n!==-1?o=r[(n+1)%r.length]:o=r[0],t.setThemeName(o),o}},{key:"getThemeNames",value:function(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?[window.vendorPrefix]:["light","dark","blue","colored"]}},{key:"parseQuery",value:function(e){e=(e||"").toString().replace(/^\?/,"");var r={};return e.split("&").forEach(function(n){if(n=n.trim(),n){var o=n.split("="),s=decodeURIComponent(o[0]).trim();if(o.length>1)if(r[s]=decodeURIComponent(o[1]),r[s]==="true")r[s]=!0;else if(r[s]==="false")r[s]=!1;else{var u=parseFloat(r[s]);u.toString()===r[s]&&(r[s]=u)}else r[s]=!0}}),r}},{key:"getParentId",value:function(e){var r=(e||"").toString().split(".");return r.length>1?(r.pop(),r.join(".")):null}},{key:"formatDate",value:function(e,r){if(!e)return"";var n,o=e.getMonth()+1;o<10&&(o="0"+o);var s=e.getDate();s<10&&(s="0"+s),r==="MM/DD/YYYY"?n=o+"/"+s+"/"+e.getFullYear():n=e.getFullYear()+"-"+o+"-"+s;var u=e.getHours();return u<10?n+=" 0"+u:n+=" "+u,u=e.getMinutes(),u<10?n+=":0"+u:n+=":"+u,u=e.getSeconds(),u<10?n+=":0"+u:n+=":"+u,u=e.getMilliseconds(),u<10?n+=".00"+u:u<100?n+=".0"+u:n+="."+u,n}},{key:"formatTime",value:function(e){if(e){e=Math.round(e);var r=Math.floor(e/(3600*24)),n=Math.floor(e%(3600*24)/3600),o=Math.floor(e%3600/60),s=e%60;return r?"".concat(r,".").concat(n.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):n?"".concat(n,":").concat(o.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"0:".concat(o.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))}else return"0:00:00"}},{key:"MDtext2link",value:function(e){var r=e.match(/\d+\.\)\s/);return r&&(e=e.replace(r[0],r[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Zа-яА-Я0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}},{key:"openLink",value:function(e,r){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),r==="this"?window.location=e:window.open(e,r||"_blank")}},{key:"MDgetTitle",value:function(e){var r=t.extractHeader(e),n=r.body,o=r.header;if(o.title)return o.title;n=n.replace(/{[^}]*}/g,""),n=n.trim();for(var s=n.replace(/\r/g,"").split(`
`),u=0;u<s.length;u++)if(s[u].startsWith("# "))return s[u].substring(2).trim();return""}},{key:"MDextractHeader",value:function(e){var r={};if(e.substring(0,3)==="---"){var n=e.substring(3).indexOf(`
---`);if(n!==-1){var o=e.substring(3,n+3),s=o.replace(/\r/g,"").split(`
`);s.forEach(function(u){if(!!u.trim()){var d=u.indexOf(":");if(d!==-1){var g=u.substring(0,d).trim();r[g]=u.substring(d+1).trim(),r[g]=r[g].replace(/^['"]|['"]$/g,""),r[g]==="true"?r[g]=!0:r[g]==="false"?r[g]=!1:parseFloat(r[g]).toString()===r[g]&&(r[g]=parseFloat(r[g]))}else r[u.trim()]=!0}}),e=e.substring(n+7)}}return{header:r,body:e}}},{key:"MDremoveDocsify",value:function(e){var r=e.match(/{docsify-[^}]*}/g);return r&&r.forEach(function(n){return e=e.replace(n,"")}),e}},{key:"generateFile",value:function(e,r){var n=document.createElement("a");n.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,null,2))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"quality2text",value:function(e){var r=e&4294901760,n=S[e],o;return n?o=[n]:e&1?o=[S[1],"0x"+(e&65534).toString(16)]:e&2?o=[S[2],"0x"+(e&65533).toString(16)]:o=["0x"+e.toString(16)],r&&o.push("0x"+(r>>16).toString(16).toUpperCase()),o}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"getStates",value:function(e){var r,n=e==null||(r=e.common)===null||r===void 0?void 0:r.states;if(n){if(typeof n=="string"&&n[0]==="{")try{n=JSON.parse(n)}catch(g){console.error("Cannot parse states: ".concat(n)),n=null}else if(typeof n=="string"){var o=n.split(";");n={};for(var s=0;s<o.length;s++){var u=o[s].split(":");n[u[0]]=u[1]}}else if(Array.isArray(n)){var d={};return e.common.type==="number"?n.forEach(function(g,D){return d[D]=g}):e.common.type==="string"?n.forEach(function(g){return d[g]=g}):e.common.type==="boolean"&&(d.false=n[0],d.true=n[1]),d}}return n}},{key:"getSvg",value:function(e){return fetch(e).then(function(r){return r.blob()}).then(function(r){return new Promise(function(n){var o=new FileReader;o.onload=function(){n(this.result)},o.readAsDataURL(r)})})}},{key:"detectMimeType",value:function(e){var r=Object.keys(v).find(function(n){return e.startsWith(n)});return r?v[r]:null}}]),t}();(0,P.default)(c,"namespace",A),(0,P.default)(c,"INSTANCES","instances"),(0,P.default)(c,"dateFormat",["DD","MM"]),(0,P.default)(c,"FORBIDDEN_CHARS",/(?:(?![ !#-&\(\)\+\x2D-:=@-Z\^_a-~\xB5\xC0-\xD6\xD8-\xF6\xF8-\u01BA\u01BC-\u01BF\u01C4\u01C6\u01C7\u01C9\u01CA\u01CC-\u01F1\u01F3-\u0293\u0295-\u02AF\u0370-\u0373\u0376\u0377\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0560-\u0588\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FD-\u10FF\u13A0-\u13F5\u13F8-\u13FD\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FBB\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCB\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFB\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C7B\u2C7E-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA620-\uA629\uA640-\uA66D\uA680-\uA69B\uA722-\uA76F\uA771-\uA787\uA78B-\uA78E\uA790-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F5\uA7F6\uA7FA\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uABF0-\uABF9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A]|\uD801[\uDC00-\uDC4F\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD81B[\uDE40-\uDE7F]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9]|\uD83A[\uDD00-\uDD43\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9])[\s\S])+/g);var l=c;h.default=l},38120:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.PROGRESS=h.ERRORS=void 0;var C=f(a(27424)),k=f(a(56690)),w=f(a(89728)),_=f(a(15854)),P={CONNECTING:0,CONNECTED:1,OBJECTS_LOADED:2,READY:3};h.PROGRESS=P;var y="permissionError",m="notConnectedError",A=1300,b={PERMISSION_ERROR:y,NOT_CONNECTED:m};h.ERRORS=b;function E(c){return c&&c.common&&!c.common.adminUI&&(c.common.noConfig?(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.config="none"):c.common.jsonConfig?(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.config="json"):c.common.materialize?(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.config="materialize"):(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.config="html"),c.common.jsonCustom?(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.custom="json"):c.common.supportCustoms&&(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.custom="json"),c.common.materializeTab&&c.common.adminTab?(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.tab="materialize"):c.common.adminTab&&(c.common.adminUI=c.common.adminUI||{},c.common.adminUI.tab="html"),c.common.adminUI&&console.debug('Please add to "'.concat(c._id.replace(/\.\d+$/,""),'" common.adminUI=').concat(JSON.stringify(c.common.adminUI)))),c}var S=function(){function c(l){var t=this;(0,k.default)(this,c),l=l||{protocol:window.location.protocol,host:window.location.hostname},this.props=l,this.autoSubscribes=this.props.autoSubscribes||[],this.autoSubscribeLog=this.props.autoSubscribeLog,this.props.protocol=this.props.protocol||window.location.protocol,this.props.host=this.props.host||window.location.hostname,this.props.port=this.props.port||(window.location.port==="3000"?c.isWeb()?8082:8081:window.location.port),this.props.ioTimeout=Math.max(this.props.ioTimeout||2e4,2e4),this.props.cmdTimeout=Math.max(this.props.cmdTimeout||5e3,5e3),this.doNotLoadAllObjects=this.props.doNotLoadAllObjects===void 0?!0:this.props.doNotLoadAllObjects,this.doNotLoadACL=this.props.doNotLoadACL===void 0?!0:this.props.doNotLoadACL,this.states={},this.objects=null,this.acl=null,this.firstConnect=!0,this.waitForRestart=!1,this.systemLang="en",this.connected=!1,this._waitForFirstConnection=new Promise(function(i){t._waitForFirstConnectionResolve=i}),this.statesSubscribes={},this.objectsSubscribes={},this.onProgress=this.props.onProgress||function(){},this.onError=this.props.onError||function(i){console.error(i)},this.loaded=!1,this.loadTimer=null,this.loadCounter=0,this.admin5only=this.props.admin5only||!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._promises={},this.log.error=function(i){return t.log(i,"error")},this.log.warn=function(i){return t.log(i,"warn")},this.log.info=function(i){return t.log(i,"info")},this.log.debug=function(i){return t.log(i,"debug")},this.log.silly=function(i){return t.log(i,"silly")},this.startSocket()}return(0,w.default)(c,[{key:"startSocket",value:function(){var t=this;if(typeof window.io=="undefined"){if(typeof window.registerSocketOnLoad!="function")if(this.scriptLoadCounter=this.scriptLoadCounter||0,this.scriptLoadCounter++,this.scriptLoadCounter<30){setTimeout(function(){return t.startSocket()},100);return}else window.alert("Cannot load socket.io.js!");else window.registerSocketOnLoad(function(){return t.startSocket()});return}else if(this._socket)return;var i=this.props.host,e=this.props.port,r=this.props.protocol.replace(":",""),n=window.location.pathname;if(window.location.hostname==="iobroker.net"||window.location.hostname==="iobroker.pro")n="";else{if(window.socketUrl){var o=window.socketUrl.split(":");i=o[0]||i,e=o[1]||e,i.includes("://")&&(o=i.split("://"),r=o[0],i=o[1])}var s=n.lastIndexOf("/");if(s!==-1&&(n=n.substring(0,s+1)),c.isWeb()){var u=n.split("/");u.length>2&&(u.pop(),u[u.length-1].match(/\d+\.\d+\.\d+/)&&u.pop(),u.pop(),n=u.join("/"),n.endsWith("/")||(n+="/"))}}var d=e?"".concat(r,"://").concat(i,":").concat(e).concat(n):"".concat(r,"://").concat(i).concat(n);this._socket=window.io.connect(d,{path:n.endsWith("/")?n+"socket.io":n+"/socket.io",query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout}),this._socket.on("connect",function(g){g!==!0?setTimeout(function(){return t.getVersion().then(function(D){var F=D.version.split("."),O=(0,C.default)(F,3),T=O[0],N=O[1],x=O[2],I=parseInt(T,10)*1e4+parseInt(N,10)*100+parseInt(x,10);I<40102?(t._authTimer=null,t.onPreConnect(!1,!1)):t._socket.emit("authenticate",function(B,R){return t.onPreConnect(B,R)})})},500):t._socket.emit("authenticate",function(D,F){return t.onPreConnect(D,F)})}),this._socket.on("reconnect",function(){t.onProgress(P.READY),t.connected=!0,t.waitForRestart?window.location.reload(!1):(t._subscribe(!0),t.onConnectionHandlers.forEach(function(g){return g(!0)}))}),this._socket.on("disconnect",function(){t.connected=!1,t.subscribed=!1,t.onProgress(P.CONNECTING),t.onConnectionHandlers.forEach(function(g){return g(!1)})}),this._socket.on("reauthenticate",function(){return t.authenticate()}),this._socket.on("log",function(g){t.props.onLog&&t.props.onLog(g),t.onLogHandlers.forEach(function(D){return D(g)})}),this._socket.on("error",function(g){var D=g||"";typeof D.toString!="function"&&(D=JSON.stringify(D),console.error("Received strange error: ".concat(D))),D=D.toString(),D.includes("User not authorized")?t.authenticate():window.alert("Socket Error: ".concat(g))}),this._socket.on("connect_error",function(g){return console.error("Connect error: ".concat(g))}),this._socket.on("permissionError",function(g){return t.onError({message:"no permission",operation:g.operation,type:g.type,id:g.id||""})}),this._socket.on("objectChange",function(g,D){return setTimeout(function(){return t.objectChange(g,D)},0)}),this._socket.on("stateChange",function(g,D){return setTimeout(function(){return t.stateChange(g,D)},0)}),this._socket.on("cmdStdout",function(g,D){return t.onCmdStdoutHandler&&t.onCmdStdoutHandler(g,D)}),this._socket.on("cmdStderr",function(g,D){return t.onCmdStderrHandler&&t.onCmdStderrHandler(g,D)}),this._socket.on("cmdExit",function(g,D){return t.onCmdExitHandler&&t.onCmdExitHandler(g,D)})}},{key:"onPreConnect",value:function(t,i){var e=this;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=i,this.waitForRestart?window.location.reload(!1):(this.firstConnect?(this.loadTimer=setTimeout(function(){e.loadTimer=null,e.loadCounter++,e.loadCounter<10&&e.onConnect()},1e3),this.loaded||this.onConnect()):this.onProgress(P.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(function(r){return r(!0)})),this._waitForFirstConnectionResolve&&(this._waitForFirstConnectionResolve(),this._waitForFirstConnectionResolve=null)}},{key:"isConnected",value:function(){return this.connected}},{key:"waitForFirstConnection",value:function(){return this._waitForFirstConnection}},{key:"_getUserPermissions",value:function(t){if(this.doNotLoadACL)return t&&t();this._socket.emit("getUserPermissions",t)}},{key:"onConnect",value:function(){var t=this;this._getUserPermissions(function(i,e){if(i)return t.onError("Cannot read user permissions: "+i);if(!t.doNotLoadACL){if(t.loaded)return;t.loaded=!0,clearTimeout(t.loadTimer),t.loadTimer=null,t.onProgress(P.CONNECTED),t.firstConnect=!1,t.acl=e}return(t.admin5only&&!window.vendorPrefix?t.getCompactSystemConfig():t.getSystemConfig()).then(function(r){if(t.doNotLoadACL){if(t.loaded)return;t.loaded=!0,clearTimeout(t.loadTimer),t.loadTimer=null,t.onProgress(P.CONNECTED),t.firstConnect=!1}if(t.systemConfig=r,t.systemConfig&&t.systemConfig.common?t.systemLang=t.systemConfig.common.language:(t.systemLang=window.navigator.userLanguage||window.navigator.language,t.systemLang!=="en"&&t.systemLang!=="de"&&t.systemLang!=="ru"&&(t.systemConfig.common.language="en",t.systemLang="en")),t.props.onLanguage&&t.props.onLanguage(t.systemLang),t.doNotLoadAllObjects)t.objects=t.admin5only?{}:{"system.config":r},t.onProgress(P.READY),t.props.onReady&&t.props.onReady(t.objects);else return t.getObjects().then(function(){t.onProgress(P.READY),t.props.onReady&&t.props.onReady(t.objects)})}).catch(function(r){return t.onError("Cannot read system config: "+r)})})}},{key:"authenticate",value:function(){window.location.search.includes("&href=")?window.location="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname).concat(window.location.search).concat(window.location.hash):window.location="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?login&href=").concat(window.location.search).concat(window.location.hash)}},{key:"subscribeState",value:function(t,i,e){if(typeof i=="function"&&(e=i,i=!1),this.statesSubscribes[t])!this.statesSubscribes[t].cbs.includes(e)&&this.statesSubscribes[t].cbs.push(e);else{var r=t.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\+/g,"\\+").replace(/\[/g,"\\[");r.indexOf("*")===-1&&(r+="$"),this.statesSubscribes[t]={reg:new RegExp(r),cbs:[]},this.statesSubscribes[t].cbs.push(e),this.connected&&this._socket.emit("subscribe",t)}typeof e=="function"&&this.connected&&(i?this.getBinaryState(t).then(function(n){return e(t,n)}).catch(function(n){return console.error('Cannot getForeignStates "'.concat(t,'": ').concat(JSON.stringify(n)))}):c.isWeb()?this._socket.emit("getStates",t,function(n,o){n&&console.error('Cannot getForeignStates "'.concat(t,'": ').concat(JSON.stringify(n))),o&&Object.keys(o).forEach(function(s){return e(s,o[s])})}):this._socket.emit("getForeignStates",t,function(n,o){n&&console.error('Cannot getForeignStates "'.concat(t,'": ').concat(JSON.stringify(n))),o&&Object.keys(o).forEach(function(s){return e(s,o[s])})}))}},{key:"unsubscribeState",value:function(t,i){if(this.statesSubscribes[t]){if(i){var e=this.statesSubscribes[t].cbs.indexOf(i);e!==-1&&this.statesSubscribes[t].cbs.splice(e,1)}else this.statesSubscribes[t].cbs=[];(!this.statesSubscribes[t].cbs||!this.statesSubscribes[t].cbs.length)&&(delete this.statesSubscribes[t],this.connected&&this._socket.emit("unsubscribe",t))}}},{key:"subscribeObject",value:function(t,i){if(this.objectsSubscribes[t])!this.objectsSubscribes[t].cbs.includes(i)&&this.objectsSubscribes[t].cbs.push(i);else{var e=t.replace(/\./g,"\\.").replace(/\*/g,".*");e.includes("*")||(e+="$"),this.objectsSubscribes[t]={reg:new RegExp(e),cbs:[]},this.objectsSubscribes[t].cbs.push(i),this.connected&&this._socket.emit("subscribeObjects",t)}return Promise.resolve()}},{key:"unsubscribeObject",value:function(t,i){if(this.objectsSubscribes[t]){if(i){var e=this.objectsSubscribes[t].cbs.indexOf(i);e!==-1&&this.objectsSubscribes[t].cbs.splice(e,1)}else this.objectsSubscribes[t].cbs=[];this.connected&&(!this.objectsSubscribes[t].cbs||!this.objectsSubscribes[t].cbs.length)&&(delete this.objectsSubscribes[t],this.connected&&this._socket.emit("unsubscribeObjects",t))}return Promise.resolve()}},{key:"objectChange",value:function(t,i){var e=this;if(!!this.objects){var r,n=!1;i?(i._rev&&this.objects[t]&&(this.objects[t]._rev=i._rev),this.objects[t]&&(r={_id:t,type:this.objects[t].type}),(!this.objects[t]||JSON.stringify(this.objects[t])!==JSON.stringify(i))&&(this.objects[t]=i,n=!0)):this.objects[t]&&(r={_id:t,type:this.objects[t].type},delete this.objects[t],n=!0),Object.keys(this.objectsSubscribes).forEach(function(o){(o===t||e.objectsSubscribes[o].reg.test(t))&&e.objectsSubscribes[o].cbs.forEach(function(s){return s(t,i,r)})}),n&&this.props.onObjectChange&&this.props.onObjectChange(t,i)}}},{key:"stateChange",value:function(t,i){for(var e in this.statesSubscribes)this.statesSubscribes.hasOwnProperty(e)&&this.statesSubscribes[e].reg.test(t)&&this.statesSubscribes[e].cbs.forEach(function(r){return r(t,i)})}},{key:"getStates",value:function(t){var i=this;return this.connected?new Promise(function(e,r){return i._socket.emit("getStates",function(n,o){return i.states=o,!t&&i.onProgress(P.STATES_LOADED),n?r(n):e(i.states)})}):Promise.reject(m)}},{key:"getState",value:function(t){var i=this;return this.connected?new Promise(function(e,r){return i._socket.emit("getState",t,function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"getBinaryState",value:function(t){var i=this;return this.connected?new Promise(function(e,r){return i._socket.emit("getBinaryState",t,function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"setBinaryState",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("setBinaryState",t,i,function(o){return o?n(o):r()})}):Promise.reject(m)}},{key:"setState",value:function(t,i,e){var r=this;return this.connected?(typeof e=="boolean"&&(i={val:i,ack:e}),new Promise(function(n,o){return r._socket.emit("setState",t,i,function(s){return s?o(s):n()})})):Promise.reject(m)}},{key:"getObjects",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){if(!t&&e.objects)return r(e.objects);e._socket.emit(c.isWeb()?"getObjects":"getAllObjects",function(o,s){e.objects=s,i&&e.onProgress(P.OBJECTS_LOADED),o?n(o):r(e.objects)})}):Promise.reject(m)}},{key:"_subscribe",value:function(t){var i=this;t&&!this.subscribed?(this.subscribed=!0,this.autoSubscribes.forEach(function(e){return i._socket.emit("subscribeObjects",e)}),Object.keys(this.objectsSubscribes).forEach(function(e){return i._socket.emit("subscribeObjects",e)}),this.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(function(e){return i._socket.emit("subscribe",e)})):!t&&this.subscribed&&(this.subscribed=!1,this.autoSubscribes.forEach(function(e){return i._socket.emit("unsubscribeObjects",e)}),Object.keys(this.objectsSubscribes).forEach(function(e){return i._socket.emit("unsubscribeObjects",e)}),this.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(function(e){return i._socket.emit("unsubscribe",e)}))}},{key:"requireLog",value:function(t){var i=this;return this.connected?new Promise(function(e,r){return i._socket.emit("requireLog",t,function(n){return n?r(n):e()})}):Promise.reject(m)}},{key:"delObject",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("delObject",t,{maintenance:!!i},function(o){return o?n(o):r()})}):Promise.reject(m)}},{key:"delObjects",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("delObjects",t,{maintenance:!!i},function(o){return o?n(o):r()})}):Promise.reject(m)}},{key:"setObject",value:function(t,i){var e=this;return this.connected?i?(i=JSON.parse(JSON.stringify(i)),i.hasOwnProperty("from")&&delete i.from,i.hasOwnProperty("user")&&delete i.user,i.hasOwnProperty("ts")&&delete i.ts,new Promise(function(r,n){return e._socket.emit("setObject",t,i,function(o){return o?n(o):r()})})):Promise.reject("Null object is not allowed"):Promise.reject(m)}},{key:"getObject",value:function(t){var i=this;return this.connected?new Promise(function(e,r){return i._socket.emit("getObject",t,function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"getAdapterInstances",value:function(t,i){var e=this;return typeof t=="boolean"&&(i=t,t=""),t=t||"",!i&&this._promises["instances_"+t]?this._promises["instances_"+t]:this.connected?(this._promises["instances_"+t]=new Promise(function(r,n){var o=setTimeout(function(){o=null,e.getObjectView("system.adapter.".concat(t?t+".":""),"system.adapter.".concat(t?t+".":"","\u9999"),"instance").then(function(s){return r(Object.keys(s).map(function(u){return E(s[u])}))}).catch(function(s){return n(s)})},A);e._socket.emit("getAdapterInstances",t,function(s,u){if(o)return clearTimeout(o),o=null,s?n(s):r(u)})}),this._promises["instances_"+t]):Promise.reject(m)}},{key:"getAdapters",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(typeof t=="boolean"&&(i=t,t=""),t=t||"",!i&&this._promises["adapter_"+t]?this._promises["adapter_"+t]:this.connected?(this._promises["adapter_"+t]=new Promise(function(r,n){var o=setTimeout(function(){o=null,e.getObjectView("system.adapter.".concat(t,"."),"system.adapter.".concat(t,".\u9999"),"adapter").then(function(s){return r(Object.keys(s).map(function(u){return E(s[u])}))}).catch(function(s){return n(s)})},A);e._socket.emit("getAdapters",t,function(s,u){if(o)return clearTimeout(o),o=null,s?n(s):r(u)})}),this._promises["adapter_"+t]):Promise.reject(m))}},{key:"_renameGroups",value:function(t,i){var e=this;if(!t||!t.length)i&&i();else{var r=t.pop(),n=r._id;r._id=r.newId,delete r.newId,this.setObject(r._id,r).then(function(){return e.delObject(n)}).then(function(){return setTimeout(function(){return e._renameGroups(t,i)},0)}).catch(function(o){return i&&i(o)})}}},{key:"renameGroup",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.getGroups(!0).then(function(n){if(n.length){var o=n.filter(function(s){return s._id.startsWith(t+".")});return o.forEach(function(s){return s.newId=i+s._id.substring(t.length)}),new Promise(function(s,u){return r._renameGroups(o,function(d){return d?u(d):s()})}).then(function(){var s=n.find(function(u){return u._id===t});if(s)return s._id=i,e!==void 0&&(s.common=s.common||{},s.common.name=e),r.setObject(s._id,s).then(function(){return r.delObject(t)})})}})}},{key:"sendTo",value:function(t,i,e){var r=this;return this.connected?new Promise(function(n){return r._socket.emit("sendTo",t,i,e,function(o){return n(o)})}):Promise.reject(m)}},{key:"extendObject",value:function(t,i){var e=this;return this.connected?(i=JSON.parse(JSON.stringify(i)),i.hasOwnProperty("from")&&delete i.from,i.hasOwnProperty("user")&&delete i.user,i.hasOwnProperty("ts")&&delete i.ts,new Promise(function(r,n){return e._socket.emit("extendObject",t,i,function(o){return o?n(o):r()})})):Promise.reject(m)}},{key:"registerLogHandler",value:function(t){!this.onLogHandlers.includes(t)&&this.onLogHandlers.push(t)}},{key:"unregisterLogHandler",value:function(t){var i=this.onLogHandlers.indexOf(t);i!==-1&&this.onLogHandlers.splice(i,1)}},{key:"registerConnectionHandler",value:function(t){!this.onConnectionHandlers.includes(t)&&this.onConnectionHandlers.push(t)}},{key:"unregisterConnectionHandler",value:function(t){var i=this.onConnectionHandlers.indexOf(t);i!==-1&&this.onConnectionHandlers.splice(i,1)}},{key:"registerCmdStdoutHandler",value:function(t){this.onCmdStdoutHandler=t}},{key:"unregisterCmdStdoutHandler",value:function(t){this.onCmdStdoutHandler=null}},{key:"registerCmdStderrHandler",value:function(t){this.onCmdStderrHandler=t}},{key:"unregisterCmdStderrHandler",value:function(t){this.onCmdStderrHandler=null}},{key:"registerCmdExitHandler",value:function(t){this.onCmdExitHandler=t}},{key:"unregisterCmdExitHandler",value:function(t){this.onCmdExitHandler=null}},{key:"getEnums",value:function(t,i){var e=this;return!i&&this._promises["enums_"+(t||"all")]?this._promises["enums_"+(t||"all")]:this.connected?(this._promises["enums_"+(t||"all")]=new Promise(function(r,n){e._socket.emit("getObjectView","system","enum",{startkey:"enum."+(t||""),endkey:"enum."+(t?t+".":"")+"\u9999"},function(o,s){if(!o&&s){for(var u={},d=0;d<s.rows.length;d++)t&&s.rows[d].id==="enum."+t||(u[s.rows[d].id]=s.rows[d].value);r(u)}else n(o)})}),this._promises["enums_"+(t||"all")]):Promise.reject(m)}},{key:"getObjectView",value:function(t,i,e){var r=this;return this.connected?(t=t||"",i=i||"\u9999",new Promise(function(n,o){r._socket.emit("getObjectView","system",e,{startkey:t,endkey:i},function(s,u){if(s)o(s);else{var d={};if(u&&u.rows)for(var g=0;g<u.rows.length;g++)d[u.rows[g].id]=u.rows[g].value;n(d)}})})):Promise.reject(m)}},{key:"getCertificates",value:function(t){return c.isWeb()?Promise.reject("Allowed only in admin"):this._promises.cert&&!t?this._promises.cert:this.connected?(this._promises.cert=this.getObject("system.certificates").then(function(i){var e=[];return i&&i.native&&i.native.certificates&&Object.keys(i.native.certificates).forEach(function(r){var n=i.native.certificates[r];if(!!n){var o={name:r,type:""};if(n.length<700&&(n.indexOf("/")!==-1||n.indexOf("\\")!==-1))r.toLowerCase().includes("private")||n.toLowerCase().includes("private")?o.type="private":(r.toLowerCase().includes("public")||n.toLowerCase().includes("public"))&&(o.type="public"),e.push(o);else{if(o.type=n.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||n.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",o.type==="public"){var s=n.split("-----END CERTIFICATE-----");s.filter(function(u){return u.replace(/\r\n|\r|\n/,"").trim()}).length>1&&(o.type="chained")}e.push(o)}}}),e}),this._promises.cert):Promise.reject(m)}},{key:"getLogs",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(r){return e._socket.emit("sendToHost",t,"getLogs",i||200,function(n){return r(n)})}):Promise.reject(m)}},{key:"getLogsFiles",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(e,r){return i._socket.emit("readLogs",t,function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"delLogs",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(e,r){return i._socket.emit("sendToHost",t,"delLogs",null,function(n){return n?r(n):e()})}):Promise.reject(m)}},{key:"readMetaItems",value:function(){var t=this;return this.connected?new Promise(function(i,e){return t._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},function(r,n){return r?e(r):i(n.rows&&n.rows.map(function(o){return o.value}))})}):Promise.reject(m)}},{key:"readDir",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("readDir",t,i,function(o,s){return o?n(o):r(s)})}):Promise.reject(m)}},{key:"readFile",value:function(t,i,e){var r=this;return this.connected?new Promise(function(n,o){e?r._socket.emit("readFile64",t,i,e,function(s,u){return s?o(s):n(u)}):r._socket.emit("readFile",t,i,function(s,u,d){s?o(s):n({data:u,type:d})})}):Promise.reject(m)}},{key:"writeFile64",value:function(t,i,e){var r=this;return this.connected?new Promise(function(n,o){if(typeof e=="string")r._socket.emit("writeFile",t,i,e,function(u){return u?o(u):n()});else{var s=btoa(new Uint8Array(e).reduce(function(u,d){return u+String.fromCharCode(d)},""));r._socket.emit("writeFile64",t,i,s,function(u){return u?o(u):n()})}}):Promise.reject(m)}},{key:"rename",value:function(t,i,e){var r=this;return this.connected?new Promise(function(n,o){return r._socket.emit("rename",t,i,e,function(s){return s?o(s):n()})}):Promise.reject(m)}},{key:"deleteFile",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("unlink",t,i,function(o){return o?n(o):r()})}):Promise.reject(m)}},{key:"deleteFolder",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("deleteFolder",t,i,function(o){return o?n(o):r()})}):Promise.reject(m)}},{key:"getHosts",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!t&&this._promises.hosts?this._promises.hosts:this.connected?(this._promises.hosts=new Promise(function(e,r){return i._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},function(n,o){n?r(n):e(o.rows.map(function(s){return s.value}))})}),this._promises.hosts):Promise.reject(m)}},{key:"getUsers",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!t&&this._promises.users?this._promises.users:this.connected?(this._promises.users=new Promise(function(e,r){return i._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},function(n,o){n?r(n):e(o.rows.map(function(s){return s.value}))})}),this._promises.users):Promise.reject(m)}},{key:"getGroups",value:function(t){var i=this;return!t&&this._promises.groups?this._promises.groups:this.connected?(this._promises.groups=new Promise(function(e,r){return i._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},function(n,o){n?r(n):e(o.rows.map(function(s){return s.value}))})}),this._promises.groups):Promise.reject(m)}},{key:"getHostInfo",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(t.startsWith("system.host.")||(t+="system.host."+t),!i&&this._promises["hostInfo"+t]?this._promises["hostInfo"+t]:this.connected?(this._promises["hostInfo"+t]=new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("getHostInfo timeout"))},e||r.props.cmdTimeout);r._socket.emit("sendToHost",t,"getHostInfo",null,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not read "getHostInfo"'):u?n(u):o('Cannot read "getHostInfo"'))})}),this._promises["hostInfo"+t]):Promise.reject(m))}},{key:"getHostInfoShort",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(t.startsWith("system.host.")||(t+="system.host."+t),!i&&this._promises["hostInfoShort"+t]?this._promises["hostInfoShort"+t]:this.connected?(this._promises["hostInfoShort"+t]=new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("hostInfoShort timeout"))},e||r.props.cmdTimeout);r._socket.emit("sendToHost",t,"getHostInfoShort",null,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not read "getHostInfoShort"'):u?n(u):o('Cannot read "getHostInfoShort"'))})}),this._promises["hostInfoShort"+t]):Promise.reject(m))}},{key:"getRepository",value:function(t,i,e,r){var n=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!e&&this._promises.repo?this._promises.repo:this.connected?(t.startsWith("system.host.")||(t+="system.host."+t),this._promises.repo=new Promise(function(o,s){var u=setTimeout(function(){u&&(u=null,s("getRepository timeout"))},r||n.props.cmdTimeout);n._socket.emit("sendToHost",t,"getRepository",i,function(d){u&&(clearTimeout(u),u=null,d===y?s('May not read "getRepository"'):d?o(d):s('Cannot read "getRepository"'))})}),this._promises.repo):Promise.reject(m)}},{key:"getInstalled",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(this._promises.installed=this._promises.installed||{},!i&&this._promises.installed[t]?this._promises.installed[t]:this.connected?(t.startsWith("system.host.")||(t+="system.host."+t),this._promises.installed[t]=new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("getInstalled timeout"))},e||r.props.cmdTimeout);r._socket.emit("sendToHost",t,"getInstalled",null,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not read "getInstalled"'):u?n(u):o('Cannot read "getInstalled"'))})}),this._promises.installed[t]):Promise.reject(m))}},{key:"cmdExec",value:function(t,i,e,r){var n=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?(t.startsWith(t)||(t+="system.host."+t),new Promise(function(o,s){var u=r&&setTimeout(function(){u&&(u=null,s("cmdExec timeout"))},r);n._socket.emit("cmdExec",t,e,i,null,function(d){(!r||u)&&(u&&clearTimeout(u),u=null,d?s(d):o())})})):Promise.reject(m)}},{key:"checkFeatureSupported",value:function(t,i){var e=this;return!i&&this._promises["supportedFeatures_"+t]?this._promises["supportedFeatures_"+t]:this.connected?(this._promises["supportedFeatures_"+t]=new Promise(function(r,n){return e._socket.emit("checkFeatureSupported",t,function(o,s){o?n(o):r(s)})}),this._promises["supportedFeatures_"+t]):Promise.reject(m)}},{key:"readBaseSettings",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.checkFeatureSupported("CONTROLLER_READWRITE_BASE_SETTINGS").then(function(e){return e?i.connected?new Promise(function(r,n){var o=setTimeout(function(){o&&(o=null,n("readBaseSettings timeout"))},i.props.cmdTimeout);t.startsWith("system.host.")&&(t=t.replace(/^system\.host\./,"")),i._socket.emit("sendToHost",t,"readBaseSettings",null,function(s){o&&(clearTimeout(o),o=null,s===y?n('May not read "BaseSettings"'):s?r(s):n('Cannot read "BaseSettings"'))})}):Promise.reject(m):Promise.reject("Not supported")})}},{key:"writeBaseSettings",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.checkFeatureSupported("CONTROLLER_READWRITE_BASE_SETTINGS").then(function(r){return r?e.connected?new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("writeBaseSettings timeout"))},e.props.cmdTimeout);e._socket.emit("sendToHost",t,"writeBaseSettings",i,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not write "BaseSettings"'):u?n(u):o('Cannot write "BaseSettings"'))})}):Promise.reject(m):Promise.reject("Not supported")})}},{key:"restartController",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):new Promise(function(e,r){i._socket.emit("sendToHost",t,"restartController",null,function(n){n?r(n):e(!0)})})}},{key:"getDiagData",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):new Promise(function(r){e._socket.emit("sendToHost",t,"getDiagData",i,function(n){return r(n)})})}},{key:"getForeignStates",value:function(t){var i=this;return this.connected?c.isWeb()?new Promise(function(e,r){return i._socket.emit("getStates",t||"*",function(n,o){return n?r(n):e(o)})}):new Promise(function(e,r){return i._socket.emit("getForeignStates",t||"*",function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"getForeignObjects",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("getForeignObjects",t||"*",i,function(o,s){return o?n(o):r(s)})}):Promise.reject(m)}},{key:"getSystemConfig",value:function(t){return!t&&this._promises.systemConfig?this._promises.systemConfig:this.connected?(this._promises.systemConfig=this.getObject("system.config").then(function(i){return i=i||{},i.common=i.common||{},i.native=i.native||{},i}),this._promises.systemConfig):Promise.reject(m)}},{key:"setSystemConfig",value:function(t){var i=this;return this.setObject("system.config",t).then(function(){return i._promises.systemConfig=Promise.resolve(t)})}},{key:"getRawSocket",value:function(){return this._socket}},{key:"getHistory",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("getHistory",t,i,function(o,s){return o?n(o):r(s)})}):Promise.reject(m)}},{key:"getHistoryEx",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("getHistory",t,i,function(o,s,u,d){return o?n(o):r({values:s,sessionId:d,stepIgnore:u})})}):Promise.reject(m)}},{key:"changePassword",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):new Promise(function(r,n){return e._socket.emit("changePassword",t,i,function(o){return o?n(o):r()})})}},{key:"getIpAddresses",value:function(t,i){return c.isWeb()?Promise.reject("Allowed only in admin"):(t.startsWith("system.host.")||(t="system.host."+t),!i&&this._promises["IPs_"+t]?this._promises["IPs_"+t]:(this._promises["IPs_"+t]=this.getObject(t).then(function(e){return e&&e.common?e.common.address||[]:[]}),this._promises["IPs_"+t]))}},{key:"getHostByIp",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(t.startsWith("system.host.")&&(t=t.replace(/^system\.host\./,"")),!i&&this._promises["rIPs_"+t]?this._promises["rIPs_"+t]:(this._promises["rIPs_"+t]=new Promise(function(r){return e._socket.emit("getHostByIp",t,function(n,o){var s,u,d=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],g=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(o!=null&&(s=o.native)!==null&&s!==void 0&&(u=s.hardware)!==null&&u!==void 0&&u.networkInterfaces){for(var D in o.native.hardware.networkInterfaces)if(!!o.native.hardware.networkInterfaces.hasOwnProperty(D))for(var F=0;F<o.native.hardware.networkInterfaces[D].length;F++)o.native.hardware.networkInterfaces[D][F].family!=="IPv6"?d.push({name:"[".concat(o.native.hardware.networkInterfaces[D][F].family,"] ").concat(o.native.hardware.networkInterfaces[D][F].address," - ").concat(D),address:o.native.hardware.networkInterfaces[D][F].address,family:"ipv4"}):g.push({name:"[".concat(o.native.hardware.networkInterfaces[D][F].family,"] ").concat(o.native.hardware.networkInterfaces[D][F].address," - ").concat(D),address:o.native.hardware.networkInterfaces[D][F].address,family:"ipv6"})}for(var O=0;O<g.length;O++)d.push(g[O]);r(d)})}),this._promises["rIPs_"+t]))}},{key:"encrypt",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):new Promise(function(e,r){return i._socket.emit("encrypt",t,function(n,o){return n?r(n):e(o)})})}},{key:"decrypt",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):new Promise(function(e,r){return i._socket.emit("decrypt",t,function(n,o){return n?r(n):e(o)})})}},{key:"getVersion",value:function(t){var i=this;return t&&this._promises.version&&(this._promises.version=null),this._promises.version=this._promises.version||new Promise(function(e,r){return i._socket.emit("getVersion",function(n,o,s){if(n&&!o&&typeof n=="string"&&n.match(/\d+\.\d+\.\d+/))e({version:n,serverName:"socketio"});else return n?r(n):e({version:o,serverName:s})})}),this._promises.version}},{key:"getWebServerName",value:function(){var t=this;return this._promises.webName=this._promises.webName||new Promise(function(i,e){return t._socket.emit("getAdapterName",function(r,n){return r?e(r):i(n)})}),this._promises.webName}},{key:"getAdminVersion",value:function(){return console.log("Deprecated: use getVersion"),this.getVersion()}},{key:"chmodFile",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(n,o){return r._socket.emit("chmodFile",t,i,e,function(s,u,d){return s?o(s):n({entries:u,id:d})})}):Promise.reject(m)}},{key:"chownFile",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(n,o){return r._socket.emit("chownFile",t,i,e,function(s,u,d){return s?o(s):n({entries:u,id:d})})}):Promise.reject(m)}},{key:"fileExists",value:function(t,i){var e=this;return this.connected?new Promise(function(r,n){return e._socket.emit("fileExists",t,i,function(o,s){return o?n(o):r(s)})}):Promise.reject(m)}},{key:"getNotifications",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(r){return e._socket.emit("sendToHost",t,"getNotifications",{category:i},function(n){return r(n)})}):Promise.reject(m)}},{key:"clearNotifications",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(r){return e._socket.emit("sendToHost",t,"clearNotifications",{category:i},function(n){return r(n)})}):Promise.reject(m)}},{key:"getIsEasyModeStrict",value:function(){var t=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(i,e){return t._socket.emit("getIsEasyModeStrict",function(r,n){return r?e(r):i(n)})}):Promise.reject(m)}},{key:"getEasyMode",value:function(){var t=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(i,e){return t._socket.emit("getEasyMode",function(r,n){return r?e(r):i(n)})}):Promise.reject(m)}},{key:"getCurrentUser",value:function(){var t=this;return this.connected?new Promise(function(i){return t._socket.emit("authEnabled",function(e,r){return i(r)})}):Promise.reject(m)}},{key:"getCurrentSession",value:function(t){return this.connected?new Promise(function(i,e){var r=new AbortController,n=setTimeout(function(){n&&(n=null,r.abort(),e("getCurrentSession timeout"))},t||5e3);return fetch("./session",{signal:r.signal}).then(function(o){return o.json()}).then(function(o){n&&(clearTimeout(n),n=null,i(o))}).catch(function(o){return e("getCurrentSession: "+o)})}):Promise.reject(m)}},{key:"getRatings",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(function(e,r){return i._socket.emit("getRatings",t,function(n,o){return n?r(n):e(o)})}):Promise.reject(m)}},{key:"getCurrentInstance",value:function(){var t=this;return this.connected?(this._promises.currentInstance=this._promises.currentInstance||new Promise(function(i,e){return t._socket.emit("getCurrentInstance",function(r,n){return r?e(r):i(n)})}),this._promises.currentInstance):Promise.reject(m)}},{key:"getCompactAdapters",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!t&&this._promises.compactAdapters?this._promises.compactAdapters:this.connected?(this._promises.compactAdapters=new Promise(function(e,r){return i._socket.emit("getCompactAdapters",function(n,o){return n?r(n):e(o)})}),this._promises.compactAdapters):Promise.reject(m)}},{key:"getAdaptersResetCache",value:function(t){t=t||"",this._promises.compactAdapters=null,this._promises["adapter_"+t]=null}},{key:"getCompactInstances",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!t&&this._promises.compactInstances?this._promises.compactInstances:this.connected?(this._promises.compactInstances=new Promise(function(e,r){return i._socket.emit("getCompactInstances",function(n,o){return n?r(n):e(o)})}),this._promises.compactInstances):Promise.reject(m)}},{key:"getAdapternInstancesResetCache",value:function(t){t=t||"",this._promises.compactInstances=null,this._promises["instances_"+t]=null}},{key:"getCompactInstalled",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(this._promises.installedCompact=this._promises.installedCompact||{},!i&&this._promises.installedCompact[t]?this._promises.installedCompact[t]:this.connected?(t.startsWith("system.host.")||(t+="system.host."+t),this._promises.installedCompact[t]=new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("getCompactInstalled timeout"))},e||r.props.cmdTimeout);r._socket.emit("getCompactInstalled",t,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not read "getCompactInstalled"'):u?n(u):o('Cannot read "getCompactInstalled"'))})}),this._promises.installedCompact[t]):Promise.reject(m))}},{key:"getCompactSystemRepositories",value:function(t,i){var e=this;return c.isWeb()?Promise.reject("Allowed only in admin"):(this._promises.installedCompact=this._promises.installedCompact||{},this.connected?(this._promises.getCompactSystemRepositories=new Promise(function(r,n){var o=setTimeout(function(){o&&(o=null,n("getCompactSystemRepositories timeout"))},i||e.props.cmdTimeout);e._socket.emit("getCompactSystemRepositories",function(s){o&&(clearTimeout(o),o=null,s===y?n('May not read "getCompactSystemRepositories"'):s?r(s):n('Cannot read "getCompactSystemRepositories"'))})}),this._promises.getCompactSystemRepositories):Promise.reject(m))}},{key:"getInstalledResetCache",value:function(t){this._promises.repoCompact=null,this._promises.repo=null}},{key:"getCompactSystemConfig",value:function(t){var i=this;return!t&&this._promises.systemConfigCommon?this._promises.systemConfigCommon:this.connected?(this._promises.systemConfigCommon=new Promise(function(e,r){return i._socket.emit("getCompactSystemConfig",function(n,o){return n?r(n):e(o)})}),this._promises.systemConfigCommon):Promise.reject(m)}},{key:"getCompactRepository",value:function(t,i,e){var r=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!i&&this._promises.repoCompact?this._promises.repoCompact:this.connected?(t.startsWith("system.host.")||(t+="system.host."+t),this._promises.repoCompact=new Promise(function(n,o){var s=setTimeout(function(){s&&(s=null,o("getCompactRepository timeout"))},e||r.props.cmdTimeout);r._socket.emit("getCompactRepository",t,function(u){s&&(clearTimeout(s),s=null,u===y?o('May not read "getCompactRepository"'):u?n(u):o('Cannot read "getCompactRepository"'))})}),this._promises.repoCompact):Promise.reject(m)}},{key:"getCompactHosts",value:function(t){var i=this;return c.isWeb()?Promise.reject("Allowed only in admin"):!t&&this._promises.hostsCompact?this._promises.hostsCompact:this.connected?(this._promises.hostsCompact=new Promise(function(e,r){return i._socket.emit("getCompactHosts",function(n,o){return n?r(n):e(o)})}),this._promises.hostsCompact):Promise.reject(m)}},{key:"getUuid",value:function(){return this._promises.uuid?this._promises.uuid:this.connected?(this._promises.uuid=this.getObject("system.meta.uuid").then(function(t){var i;return t==null||(i=t.native)===null||i===void 0?void 0:i.uuid}),this._promises.uuid):Promise.reject(m)}},{key:"log",value:function(t,i){t&&this._socket.emit("log",t,i||"debug")}},{key:"logout",value:function(){var t=this;return this.connected?new Promise(function(i,e){return t._socket.emit("logout",function(r){return r?e(r):i(null)})}):Promise.reject(m)}}],[{key:"isWeb",value:function(){return window.adapterName==="material"||window.adapterName==="vis"||window.adapterName==="echarts-show"||window.socketUrl!==void 0}}]),c}();S.Connection={onLog:_.default.func,onReady:_.default.func,onProgress:_.default.func};var v=S;h.default=v},41728:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(56690)),k=f(a(89728)),w=f(a(61655)),_=f(a(94993)),P=f(a(73808)),y=f(a(4819)),m=f(a(15854)),A=f(a(42390)),b=f(a(2182)),E=f(a(49395)),S=f(a(92207)),v=f(a(49135)),c=f(a(29861)),l=f(a(66021)),t=f(a(43927)),i=f(a(82597)),e=f(a(26021)),r=f(a(62976)),n=f(a(55289));function o(F){var O=s();return function(){var N=(0,P.default)(F),x;if(O){var I=(0,P.default)(this).constructor;x=Reflect.construct(N,arguments,I)}else x=N.apply(this,arguments);return(0,_.default)(this,x)}}function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(F){return!1}}var u={suppress:{fontSize:12},suppressRoot:{marginTop:16}},d=function(F){(0,w.default)(T,F);var O=o(T);function T(N){var x;if((0,C.default)(this,T),x=O.call(this,N),!x.props.dialogName&&x.props.suppressQuestionMinutes)throw new Error("dialogName required if suppressQuestionMinutes used");var I=!1;return x.props.suppressQuestionMinutes&&(I=parseInt((window._localStorage||window.localStorage).getItem(x.props.dialogName),10)||0,I?Date.now()>I&&((window._localStorage||window.localStorage).removeItem(x.props.dialogName),I=!1):I=!1),x.state={suppress:I},x}return(0,k.default)(T,[{key:"handleOk",value:function(){this.state.suppress&&(window._localStorage||window.localStorage).setItem(this.props.dialogName,Date.now()+this.props.suppressQuestionMinutes*6e4),this.props.onClose&&this.props.onClose(!0)}},{key:"handleCancel",value:function(){this.props.onClose&&this.props.onClose(!1)}},{key:"render",value:function(){var x=this;return typeof this.state.suppress=="number"?(setTimeout(function(){return x.props.onClose&&x.props.onClose(!0)},100),null):y.default.createElement(E.default,{open:!0,maxWidth:"md",fullWidth:!0,onClose:function(B,R){R!=="backdropClick"&&R!=="escapeKeyDown"&&x.handleCancel()},"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description"},y.default.createElement(l.default,{id:"confirmation-dialog-title"},this.props.title||n.default.t("ra_Are you sure?")),y.default.createElement(v.default,null,y.default.createElement(c.default,{id:"confirmation-dialog-description"},this.props.icon||null,this.props.text,this.props.suppressQuestionMinutes?y.default.createElement("br",null):null,this.props.suppressQuestionMinutes?y.default.createElement(t.default,{classes:{label:this.props.classes.suppress,root:this.props.classes.suppressRoot},control:y.default.createElement(i.default,{checked:!!this.state.suppress,onChange:function(){return x.setState({suppress:!x.state.suppress})}}),label:this.props.suppressText||n.default.t("ra_Suppress question for next %s minutes",this.props.suppressQuestionMinutes)}):null)),y.default.createElement(S.default,null,y.default.createElement(b.default,{variant:"contained",onClick:function(){return x.handleOk()},color:"primary",autoFocus:!0,startIcon:y.default.createElement(e.default,null)},this.props.ok||n.default.t("ra_Ok")),y.default.createElement(b.default,{variant:"contained",onClick:function(){return x.handleCancel()},color:"grey",startIcon:y.default.createElement(r.default,null)},this.props.cancel||n.default.t("ra_Cancel"))))}}]),T}(y.default.Component);d.propTypes={onClose:m.default.func.isRequired,title:m.default.string,text:m.default.string,ok:m.default.string,cancel:m.default.string,icon:m.default.object,suppressQuestionMinutes:m.default.number,suppressText:m.default.string,dialogName:m.default.string};var g=(0,A.default)(u)(d),D=g;h.default=D},99822:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(56690)),k=f(a(89728)),w=f(a(61655)),_=f(a(94993)),P=f(a(73808)),y=f(a(4819)),m=f(a(15854)),A=f(a(42390)),b=f(a(2182)),E=f(a(49395)),S=f(a(92207)),v=f(a(49135)),c=f(a(29861)),l=f(a(66021)),t=f(a(26021)),i=f(a(55289));function e(d){var g=r();return function(){var F=(0,P.default)(d),O;if(g){var T=(0,P.default)(this).constructor;O=Reflect.construct(F,arguments,T)}else O=F.apply(this,arguments);return(0,_.default)(this,O)}}function r(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}var n=function(g){return{titleBackground:{},titleColor:{}}},o=function(d){(0,w.default)(D,d);var g=e(D);function D(){return(0,C.default)(this,D),g.apply(this,arguments)}return(0,k.default)(D,[{key:"handleOk",value:function(){this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var O=this;return y.default.createElement(E.default,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){return O.handleOk()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},y.default.createElement(l.default,{className:this.props.classes.titleBackground,classes:{root:this.props.classes.titleColor},id:"alert-dialog-title"},this.props.title||i.default.t("ra_Error")),y.default.createElement(v.default,null,y.default.createElement(c.default,{id:"alert-dialog-description"},this.props.text||i.default.t("ra_Unknown error!"))),y.default.createElement(S.default,null,y.default.createElement(b.default,{variant:"contained",onClick:function(){return O.handleOk()},color:"primary",autoFocus:!0,startIcon:y.default.createElement(t.default,null)},i.default.t("ra_Ok"))))}}]),D}(y.default.Component);o.propTypes={onClose:m.default.func.isRequired,title:m.default.string,text:m.default.oneOfType([m.default.string,m.default.element]),icon:m.default.object};var s=(0,A.default)(n)(o),u=s;h.default=u},86608:function(p,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;function a(){var C=`
\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 
\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255D\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557
\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255D \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D
\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255D  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557
\u2588\u2588\u2551\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551  \u2588\u2588\u2551\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551
\u255A\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u255D  \u255A\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u255D  \u255A\u2550\u255D\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u255D  \u255A\u2550\u255D
`;console.log(C),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)")}var f=a;h.default=f},82890:function(p,h,a){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var f=a(11945),C=a(87032),k=(16-5)/23/100;function w(S){var v={r:0,g:0,b:0};if(S.length===7)v.r=parseInt(S.substr(1,2),16),v.g=parseInt(S.substr(3,2),16),v.b=parseInt(S.substr(5,2),16);else if(S.length===4){var c=S.substr(1,1),l=S.substr(2,1),t=S.substr(3,1);v.r=parseInt(c+c,16),v.g=parseInt(l+l,16),v.b=parseInt(t+t,16)}return v}function _(S){return"#".concat(Math.round(S.r).toString(16)).concat(Math.round(S.g).toString(16)).concat(Math.round(S.b).toString(16))}function P(S,v,c){var l=w(S),t=w(v);return l.r+=t.r*(.05+k*(c-1)),l.g+=t.g*(.05+k*(c-1)),l.b+=t.b*(.05+k*(c-1)),_(l)}function y(S,v){for(var c={},l=1;l<=24;l++)c["elevation".concat(l)]={backgroundColor:P(S,v,l)};return c}var m=function(v){return{palette:{grey:{main:C.grey[300],dark:C.grey[400]}}}},A=function(v){return{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:v.palette.getContrastText(v.palette.grey[300])}},{props:{variant:"outlined",color:"grey"},style:{color:v.palette.text.primary,borderColor:v.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat(v.palette.action.disabledBackground)},"&:hover":{borderColor:v.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,f.alpha)(v.palette.text.primary,v.palette.action.hoverOpacity)}}},{props:{color:"grey",variant:"text"},style:{color:"black","&:hover":{backgroundColor:(0,f.alpha)(v.palette.text.primary,v.palette.action.hoverOpacity)}}}]}}}},b=function(v){var c;return v==="dark"?c={name:v,palette:{mode:"dark",background:{paper:"#121212",default:"#121212"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#272727"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[200],"&:hover":{color:C.orange[100]}}},MuiPaper:y("#121212","#fff")}}:v==="blue"?c={name:v,palette:{mode:"dark",background:{paper:"#151d21",default:"#151d21"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#2a3135"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[200],"&:hover":{color:C.orange[100]}}},MuiPaper:y("#151d21","#fff")}}:v==="colored"?c={name:v,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#96fc96"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#3399CC"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[400],"&:hover":{color:C.orange[300]}}}}}:v==="PT"?c={name:v,palette:{mode:"light",primary:{main:"#0F99DE"},secondary:{main:"#88A536"},expert:"#BD1B24"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#0F99DE"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[400],"&:hover":{color:C.orange[300]}}}}}:v==="DX"?c={name:v,palette:{mode:"light",primary:{main:"#F5F5F7"},secondary:{main:"#a9a9a9"},expert:"#BD1B24",text:{primary:"#007AFE",secondary:"#007AFE",disabled:"#007AFEAA"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#a9a9a9"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[400],"&:hover":{color:C.orange[300]}}}}}:c={name:v,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#14bb00"},overrides:{MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:C.orange[400],"&:hover":{color:C.orange[300]}}}}},c.toolbar={height:48},c.saveToolbar={background:c.palette.primary.main,button:{borderRadius:3,height:32}},c.palette.grey={main:C.grey[300],dark:C.grey[400]},c=(0,f.createTheme)((0,f.adaptV4Theme)(c)),(0,f.createTheme)(c,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:c.palette.getContrastText(c.palette.grey[300])}},{props:{variant:"outlined",color:"grey"},style:{color:c.palette.text.primary,borderColor:c.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat(c.palette.action.disabledBackground)},"&:hover":{borderColor:c.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,f.alpha)(c.palette.text.primary,c.palette.action.hoverOpacity)}}},{props:{variant:"text",color:"grey"},style:{color:c.palette.text.primary,"&:hover":{backgroundColor:(0,f.alpha)(c.palette.text.primary,c.palette.action.hoverOpacity)}}}]}}})},E=b;h.default=E},55289:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(18698)),k=f(a(56690)),w=f(a(89728)),_=f(a(38416)),P=function(){function m(){(0,k.default)(this,m)}return(0,w.default)(m,null,[{key:"setLanguage",value:function(b){b&&(m.lang=b)}},{key:"extendTranslations",value:function(b,E){if(b.prefix)if(typeof b.prefix=="string"){var S=b.prefix;delete b.prefix,Object.keys(b).forEach(function(v){var c={};Object.keys(b[v]).forEach(function(l){l.startsWith(S)?c[l]=b[v][l]:c["".concat(S).concat(l)]=b[v][l]}),b[v]=c})}else console.warn("Found prefix in translations, but it is not a string");try{E?(m.translations[E]||console.warn("Used unknown language: ".concat(E)),m.translations[E]=m.translations[E]||{},Object.keys(b).forEach(function(v){m.translations[E][v]?m.translations[E][v]!==b[v]&&console.warn('Translation for word "'.concat(v,'" in "').concat(E,'" was ignored: existing = "').concat(m.translations[E][v],'", new = ').concat(b[v])):m.translations[E][v]=b[v]})):b.en&&b.de&&b.ru?Object.keys(b).forEach(function(v){m.translations[v]=m.translations[v]||{},Object.assign(m.translations[v],b[v])}):Object.keys(b).forEach(function(v){Object.keys(b[v]).forEach(function(c){m.translations[c]||console.warn("Used unknown language: ".concat(c)),m.translations[c][v]?m.translations[c][v]!==b[v][c]&&console.warn('Translation for word "'.concat(v,'" in "').concat(c,'" was ignored: existing = "').concat(m.translations[c][v],'", new = ').concat(b[v][c])):m.translations[c][v]=b[v][c]})})}catch(v){console.error("Cannot apply translations: ".concat(v))}}},{key:"setTranslations",value:function(b){b&&(m.translations=b)}},{key:"getLanguage",value:function(){return m.lang}},{key:"t",value:function(b){var E=m.translations[m.lang];if(E){var S=E[b];if(S)b=S;else if(m.unknownTranslations.includes(b)||(m.unknownTranslations.push(b),!m._disableWarning&&console.log("Translate: ".concat(b))),m.lang!=="en"&&m.translations.en){var v=m.translations.en[b];v&&(b=v)}}for(var c=arguments.length,l=new Array(c>1?c-1:0),t=1;t<c;t++)l[t-1]=arguments[t];for(var i=0,e=l;i<e.length;i++){var r=e[i];b=b.replace("%s",r)}return b}},{key:"i18nShow",value:function(b){var E={};b?typeof b=="string"?(m.unknownTranslations.forEach(function(S){S.startsWith(b)&&(E[S]=S.replace(b,""))}),console.log(JSON.stringify(E,null,2))):(0,C.default)(b)==="object"&&(m.unknownTranslations.forEach(function(S){b.test(S)&&(E[S]=S)}),console.log(JSON.stringify(E,null,2))):(m.unknownTranslations.forEach(function(S){E[S]=S}),console.log(JSON.stringify(E,null,2)))}},{key:"disableWarning",value:function(b){m._disableWarning=!!b}}]),m}();(0,_.default)(P,"translations",{}),(0,_.default)(P,"unknownTranslations",[]),(0,_.default)(P,"lang",window.sysLang||"en"),(0,_.default)(P,"_disableWarning",!1),window.i18nShow=P.i18nShow,window.i18nDisableWarning=P.disableWarning;var y=P;h.default=y},26021:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(36128)),k=a(67557),w=(0,C.default)((0,k.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");h.default=w},62976:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(36128)),k=a(67557),w=(0,C.default)((0,k.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");h.default=w},28027:function(p,h,a){"use strict";var f=a(64836);Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var C=f(a(36128)),k=a(67557),w=(0,C.default)((0,k.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");h.default=w},36128:function(p,h,a){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),Object.defineProperty(h,"default",{enumerable:!0,get:function(){return f.createSvgIcon}});var f=a(33721)},42390:function(p,h,a){"use strict";a.r(h),a.d(h,{default:function(){return f.Z}});var f=a(97230)},73897:function(p){function h(a,f){(f==null||f>a.length)&&(f=a.length);for(var C=0,k=new Array(f);C<f;C++)k[C]=a[C];return k}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},85372:function(p){function h(a){if(Array.isArray(a))return a}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},66115:function(p){function h(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},56690:function(p){function h(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},89728:function(p){function h(f,C){for(var k=0;k<C.length;k++){var w=C[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}function a(f,C,k){return C&&h(f.prototype,C),k&&h(f,k),Object.defineProperty(f,"prototype",{writable:!1}),f}p.exports=a,p.exports.__esModule=!0,p.exports.default=p.exports},38416:function(p){function h(a,f,C){return f in a?Object.defineProperty(a,f,{value:C,enumerable:!0,configurable:!0,writable:!0}):a[f]=C,a}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},41588:function(p,h,a){var f=a(1753);function C(){return typeof Reflect!="undefined"&&Reflect.get?(p.exports=C=Reflect.get.bind(),p.exports.__esModule=!0,p.exports.default=p.exports):(p.exports=C=function(w,_,P){var y=f(w,_);if(!!y){var m=Object.getOwnPropertyDescriptor(y,_);return m.get?m.get.call(arguments.length<3?w:P):m.value}},p.exports.__esModule=!0,p.exports.default=p.exports),C.apply(this,arguments)}p.exports=C,p.exports.__esModule=!0,p.exports.default=p.exports},73808:function(p){function h(a){return p.exports=h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p.exports.__esModule=!0,p.exports.default=p.exports,h(a)}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},61655:function(p,h,a){var f=a(6015);function C(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),w&&f(k,w)}p.exports=C,p.exports.__esModule=!0,p.exports.default=p.exports},64836:function(p){function h(a){return a&&a.__esModule?a:{default:a}}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},68872:function(p){function h(a,f){var C=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(C!=null){var k=[],w=!0,_=!1,P,y;try{for(C=C.call(a);!(w=(P=C.next()).done)&&(k.push(P.value),!(f&&k.length===f));w=!0);}catch(m){_=!0,y=m}finally{try{!w&&C.return!=null&&C.return()}finally{if(_)throw y}}return k}}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},12218:function(p){function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},94993:function(p,h,a){var f=a(18698).default,C=a(66115);function k(w,_){if(_&&(f(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(w)}p.exports=k,p.exports.__esModule=!0,p.exports.default=p.exports},6015:function(p){function h(a,f){return p.exports=h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,w){return k.__proto__=w,k},p.exports.__esModule=!0,p.exports.default=p.exports,h(a,f)}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},27424:function(p,h,a){var f=a(85372),C=a(68872),k=a(86116),w=a(12218);function _(P,y){return f(P)||C(P,y)||k(P,y)||w()}p.exports=_,p.exports.__esModule=!0,p.exports.default=p.exports},1753:function(p,h,a){var f=a(73808);function C(k,w){for(;!Object.prototype.hasOwnProperty.call(k,w)&&(k=f(k),k!==null););return k}p.exports=C,p.exports.__esModule=!0,p.exports.default=p.exports},18698:function(p){function h(a){return p.exports=h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p.exports.__esModule=!0,p.exports.default=p.exports,h(a)}p.exports=h,p.exports.__esModule=!0,p.exports.default=p.exports},86116:function(p,h,a){var f=a(73897);function C(k,w){if(!!k){if(typeof k=="string")return f(k,w);var _=Object.prototype.toString.call(k).slice(8,-1);if(_==="Object"&&k.constructor&&(_=k.constructor.name),_==="Map"||_==="Set")return Array.from(k);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return f(k,w)}}p.exports=C,p.exports.__esModule=!0,p.exports.default=p.exports}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-1e7d64.2b6d117d.chunk.js.map